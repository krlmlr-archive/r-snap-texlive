%% deml3451.tex 2005/04/17
% Basically David Kastrup's test code from latex/3541, 
% edited by Uwe Lueck, http://contact-ednotes.sty.de.vu. 
% Demonstrates bug and its fix by tameflts.sty. 
% Run this and watch the order of the numbers in the 
% footnote, and where it has its footnote mark; then 
% remove the next `%' for the fix. 

\documentclass[12pt]{article}

% \usepackage{tameflts} 

\newcounter{xxx} 
\usepackage{ifthen}
\nofiles 
\begin{document}
Test a footnote\footnote{%
  \whiledo{\value{xxx}<69}{%
    \stepcounter{xxx}
    This is just test line \thexxx. \par 
  }% 
} and then a marginal note:\marginpar{\sffamily Look!}
\end{document}

REMARKs: 
* It is essential that \marginpar comes after \footnote. This 
  indicates how to avoid the problem in many situations without 
  changing the output routine. Marginal notes are often used 
  only at the beginning of a paragraph; then it is good to start 
  with the \marginpar's, making sure that they appear in 
  horizontal mode. 
* The editing of the example from latex/3541 consisted in 
  structuring and replacing TeX commands by LaTeX commands. The 
  essence is, like in latex/3719 a very long footnote, with a 
  \marginpar shortly following. 
-- U.L. 

