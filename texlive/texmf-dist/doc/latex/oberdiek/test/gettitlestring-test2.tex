%%
%% This is file `gettitlestring-test2.tex',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% gettitlestring.dtx  (with options: `test2')
%% 
%% This is a generated file.
%% 
%% Project: gettitlestring
%% Version: 2010/12/03 v1.4
%% 
%% Copyright (C) 2009, 2010 by
%%    Heiko Oberdiek <heiko.oberdiek at googlemail.com>
%% 
%% This work may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either
%% version 1.3c of this license or (at your option) any later
%% version. This version of this license is in
%%    http://www.latex-project.org/lppl/lppl-1-3c.txt
%% and the latest version of this license is in
%%    http://www.latex-project.org/lppl.txt
%% and version 1.3 or later is part of all distributions of
%% LaTeX version 2005/12/01 or later.
%% 
%% This work has the LPPL maintenance status "maintained".
%% 
%% This Current Maintainer of this work is Heiko Oberdiek.
%% 
%% The Base Interpreter refers to any `TeX-Format',
%% because some files are installed in TDS:tex/generic//.
%% 
%% This work consists of the main source file gettitlestring.dtx
%% and the derived files
%%    gettitlestring.sty, gettitlestring.pdf, gettitlestring.ins,
%%    gettitlestring.drv, gettitlestring-test1.tex,
%%    gettitlestring-test2.tex.
%% 
\NeedsTeXFormat{LaTeX2e}
\documentclass{minimal}
\usepackage{gettitlestring}[2010/12/03]
\usepackage{qstest}
\IncludeTests{*}
\LogTests{log}{*}{*}
\begin{document}
\begin{qstest}{non-expand}{non-expand}
  \def\test#1#2{%
    \sbox0{%
      \GetTitleString{#1}%
      \Expect{#2}*{\GetTitleStringResult}%
    }%
    \Expect{0.0pt}*{\the\wd0}%
  }%
  \test{}{}%
  \test{ }{}%
  \test{ x }{x}%
  \test{ x y }{x y}%
  \test{ \relax}{\relax}%
  \test{\label{f}a}{a}%
  \test{ \label{f}a}{a}%
  \test{\label{f} a}{a}%
  \test{ \label{f} a}{a}%
  \test{a\label{f}}{a}%
  \test{a\label{f} }{a}%
  \test{a \label{f}}{a}%
  \test{a \label{f} }{a}%
  \test{a\label{f}b\label{g}}{ab}%
  \test{a \label{f}b \label{g} }{a b}%
  \test{a\label{f} b \label{g} }{a b}%
\end{qstest}
\end{document}
\endinput
%%
%% End of file `gettitlestring-test2.tex'.
