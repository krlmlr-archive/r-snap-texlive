%%
%% This is file `selinput-test3.tex',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% selinput.dtx  (with options: `test,test3')
%% 
%% This is a generated file.
%% 
%% Project: selinput
%% Version: 2007/09/09 v1.2
%% 
%% Copyright (C) 2007 by
%%    Heiko Oberdiek <heiko.oberdiek at googlemail.com>
%% 
%% This work may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either
%% version 1.3c of this license or (at your option) any later
%% version. This version of this license is in
%%    http://www.latex-project.org/lppl/lppl-1-3c.txt
%% and the latest version of this license is in
%%    http://www.latex-project.org/lppl.txt
%% and version 1.3 or later is part of all distributions of
%% LaTeX version 2005/12/01 or later.
%% 
%% This work has the LPPL maintenance status "maintained".
%% 
%% This Current Maintainer of this work is Heiko Oberdiek.
%% 
%% This work consists of the main source file selinput.dtx
%% and the derived files
%%    selinput.sty, selinput.pdf, selinput.ins, selinput.drv,
%%    selinput-test1.tex, selinput-test2.tex, selinput-test3.tex,
%%    selinput-test4.tex, selinput-test5.tex.
%% 
\NeedsTeXFormat{LaTeX2e}
\documentclass{minimal}
\usepackage{textcomp}
\usepackage{qstest}
\makeatletter
\let\BeginDocumentText\@empty
\def\TestEncoding#1#2{%
  \SelectInputMappings{#2}%
  \Expect*{\SIE@Encoding}{#1}%
  \Expect*{\inputencodingname}{#1}%
  \g@addto@macro\BeginDocumentText{%
    \SelectInputMappings{#2}%
    \Expect*{\SIE@Encoding}{#1}%
    \textbf{\SIE@Encoding:} %
    \kvsetkeys{test}{#2}\par
  }%
}
\def\TestKey#1#2{%
  \define@key{test}{#1}{%
    \sbox0{##1}%
    \sbox2{#2}%
    \Expect*{wd:\the\wd0, ht:\the\ht0, dp:\the\dp0}%
           *{wd:\the\wd2, ht:\the\ht2, dp:\the\dp2}%
    [#1=##1] % hash-ok
  }%
}
\RequirePackage{keyval}
\TestKey{adieresis}{\"a}
\TestKey{germandbls}{\ss}
\TestKey{Euro}{\texteuro}
\makeatother
\usepackage[
  warning,%
  ucs,
]{selinput}
\inputencoding{ascii}
\usepackage{ucs}
\begin{qstest}{preamble}{}
  \TestEncoding{x-iso-8859-15}{%
    adieresis=^^e4,%
    germandbls=^^df,%
    Euro=^^a4,%
  }%
  \TestEncoding{x-cp1252}{%
    adieresis=^^e4,%
    germandbls=^^df,%
    Euro=^^80,%
  }%
  \TestEncoding{utf8x}{%
    adieresis=^^c3^^a4,%
    germandbls=^^c3^^9f,%
    Euro=^^e2^^82^^ac,
  }%
\end{qstest}
\let\ifUnicodeOptiongraphics\iffalse
\begin{document}
\begin{qstest}{document}{}
\makeatletter
  \BeginDocumentText
\end{qstest}
\end{document}
\endinput
%%
%% End of file `selinput-test3.tex'.
