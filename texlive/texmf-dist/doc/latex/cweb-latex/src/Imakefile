XCOMM $Id: Imakefile,v 1.7 1995/11/21 00:41:31 schrod Exp $
/* ---------------------------------------------------------------------- */

/*
 * Imakefile for cweb bundle
 *
 * (history at end)
 */


/* needed modules */
#include <TeX.imk>
#include <makeprog.imk>

#include <install/TeX.imk>

XCOMM ------------------------------------------------------------
XCOMM continue in Imakefile


/* exported files */

MpDoc2TeXTarget(cwebbase,tex)
MpDoc2TeXTarget(cweb,cls)
MpDoc2TeXTarget(cwebparts,sty)

TeXTarget(latex,cweb-user)
TeXTarget(latex,cweb-conf)


/* for some time, until it's moved to an own bundle */

AllTarget(keyvald.sty)

keyvald.sty: keyvald.dtx
	latex keyvald.ins

clean::
	$(RM) keyvald.sty


/* installation */

#ifdef ITI_Site
    DESTDIR = /archives/tex/Install
#endif

InstallTeXLaTeX(cweb,cweb.cls cwebbase.tex cwebarray.sty keyvald.sty \
		     cwebparts.sty cwbl-german.sty)
InstallTeXDoc(latex/styles/cweb,cweb-user.dvi)
InstallTeXDoc(latex/styles/cweb,cweb-conf.dvi)


/* internal documentation */

TeXFileTarget(latex,cweb,doc)
TeXFileTarget(latex,cwebbase,doc)
TeXFileTarget(latex,cwebparts,doc)
TeXTarget(latex,cweave-spec)


/* distribution */

distrib:: all cweb.dvi cwebbase.dvi cwebparts.dvi
	mv cweb-*.dvi *.cls cwebbase.tex keyvald.sty ..
	cp cwebarray.sty cwbl-german.sty ..
	cp $(HOME)/Notes/README.latex.doc-src README
	$(MAKE) realclean

realclean:: clean
	$(RM) Makefile



/* ============================================================
 *
 * $Log: Imakefile,v $
 * Revision 1.7  1995/11/21  00:41:31  schrod
 *     German language package.
 *
 * Revision 1.6  1995/09/17  14:21:25  schrod
 *     Add support for German CWEB documents.
 *
 * Revision 1.5  1995/09/16  17:00:18  schrod
 *     Extract cwebbase.tex from cweb.cls, add cwebparts.sty.
 *
 * Revision 1.4  1995/08/29  17:34:39  schrod
 *     LaTeX CWEB, version 1.0.
 *
 * Revision 1.3  1995/08/29  15:19:47  schrod
 * Added (hint to non-existence of) description of the internal interface.
 *
 * Revision 1.2  1995/08/25  19:00:32  schrod
 *     Add enhanced version of keyval package, with ability to specify
 * default action for unknown keyword options.
 *
 * Revision 1.1  1995/08/08  00:14:24  schrod
 * Updated to \LaTeXe{}, the |cweb| style is now a document class. Used
 * my standard templates for that, no changes in functionality.
 *

 * ------------------------------------------------------------
 * Local Variables:
 * mode: Indented-Text
 * End:
 */
