\documentclass{book}

\usepackage{floatrow}
\usepackage{listpen}
\usepackage{color}
\definecolor{emphblue}{rgb}{0,0,0.5}
\def\emphcolor{\color{emphblue}}

\newcommand\redcolorasdefault{\captionsetup{font={color=red}}}
\newcommand\bluecolorasdefault{\captionsetup{font={color=emphblue}}}

\DeclareFloatSeparators{ten}{\quad}
\DeclareFloatSeparators{twen}{\hskip36pt}
\usepackage{caption}
\DeclareCaptionSubType[alph]{figure}
\captionsetup[subfigure]{labelformat=brace}
\floatsetup{floatrowsep=twen,subfloatrowsep=ten,capbesidesep=space,doublefloataswide=yes}

\floatsetup[subfigure]{captionskip=2pt}

\floatsetup[widefigure]{margins=hangoutside}


\usepackage{graphicx}

\makeatletter

\newenvironment{Quote}[1][\parindent]{\par\hfuzz30pt\setlength{\leftmargini}{#1}\RestoreSpaces
    \small\begin{quote}\obeylines\parskip0pt}{\end{quote}\par\@endpetrue}

\newenvironment{preamble}{{\emphcolor\meta{preamble}}\nopagebreak
    \par\begingroup\advance\leftskip1em}{\par\endgroup{\emphcolor\nobreak\meta{preamble}}\par\vskip2ex}

\providecommand\marg[1]{%
  {\ttfamily\char`\{}\meta{#1}{\ttfamily\char`\}}}
\providecommand\oarg[1]{%
  {\ttfamily[}\meta{#1}{\ttfamily]}}
\providecommand\parg[1]{%
  {\ttfamily(}\meta{#1}{\ttfamily)}}

\DeclareRobustCommand\meta[1]{%
     \ensuremath\langle
     \ifmmode \expandafter \nfss@text \fi
     {\em
      #1\/%
     }\ensuremath\rangle
}
\providecommand\package[1]{\textsf{#1}}
\makeatother

\begin{document}
\def\XX{}\def\YY{}
% ----------------------------------------------------------------
\begingroup
\subsubsection{Photo-Album-Like Layouts: Common Height for Beside Photos}

This section shows draft examples which where get the common height for rectangular
graphics, i.e. photos and in this case the row of these graphics fill full width.
To emulate the rectangular photos, graphics were created as rules with different
widths and heights.

For creation of such rows you load the \verb|\CommonHeightRow| command:
\begin{Quote}%
\verb|\CommonHeightRow|\marg{supposed height}\marg{floatrow environment}
\end{Quote}%
with supposed value of height in the first argument,
which could be near the necessary common height.
The second argument---the contents of the \verb|floatrow| environment.
All float boxes in this row must use the \verb|[\FBwidth]| option.

The code of example uses the \verb|\includegraphics| command (\package{graphics}
or \package{graphicx} package).

The example of the code of the filled row with figures with common height:
\begin{Quote}%
\begin{preamble}%
\verb|\usepackage{graphicx}|
%^^A\verb|\floatsetup[figure]{style=plain}|
%^^A\verb|\floatsetup[widefloat]{margins=hangleft}|
\end{preamble}%
\verb|\begin{figure*}\fboxsep-.4pt|\nopagebreak
\verb|\CommonHeightRow[2.5cm]{\begin{floatrow}[4]|\nopagebreak
\verb|\ffigbox[\FBwidth]|\nopagebreak
\verb|{\includegraphics[height=\CommonHeight]{...}}{\caption{...}}|
\verb|\ffigbox[\FBwidth]|\nopagebreak
\verb|{\includegraphics[height=\CommonHeight]{...}}{\caption{...}}|
\verb|\ffigbox[\FBwidth]|\nopagebreak
\verb|{\includegraphics[height=\CommonHeight]{...}}{\caption{...}}|
\verb|\ffigbox[\FBwidth]|\nopagebreak
\verb|{\includegraphics[height=\CommonHeight]{...}}{\caption{...}}|\nopagebreak
\verb|\end{floatrow}}|\nopagebreak
\verb|\end{figure*}%|
\end{Quote}%

Below are few examples.

\begin{figure}[H]%
\redcolorasdefault\CommonHeightRow%{5cm}
{\begin{floatrow}[3]%
\ffigbox[\FBwidth]{\resizebox!\CommonHeight
{\vrule width 70pt height 2cm}}{\caption{}}
\ffigbox[\FBwidth]{\resizebox!\CommonHeight
{\vrule width 80pt height 2cm}}{\caption{}}
\ffigbox[\FBwidth]{\resizebox!\CommonHeight
{\vrule width 50pt height 2cm}}{\caption{}}
\end{floatrow}}%
\end{figure}%

\begin{figure}[H]%
\redcolorasdefault\CommonHeightRow%{5cm}
{\begin{floatrow}[3]%
\ffigbox[\FBwidth]{\resizebox!\CommonHeight
{\fbox{\input{BlackDog.picture}}}}{\caption{}}
\ffigbox[\FBwidth]{\resizebox!\CommonHeight
{\fbox{\input{TheCat.picture}}}}{\caption{}}
\ffigbox[\FBwidth]{\resizebox!\CommonHeight
{\fbox{\input{Mouse.picture}}}}{\caption{}}
\end{floatrow}}%
\end{figure}%

\begin{figure*}[H]%
\CommonHeightRow[1cm]%
{\begin{floatrow}[3]%
\ffigbox[\FBwidth]{\resizebox!\CommonHeight
{\vrule width 70pt height 2cm}}{\caption{}}
\ffigbox[\FBwidth]{\resizebox!\CommonHeight
{\vrule width 80pt height 2cm}}{\caption{}}
\ffigbox[\FBwidth]{\resizebox!\CommonHeight
{\vrule width 50pt height 2cm}}{\caption{}}
\end{floatrow}}%
\end{figure*}%

\begin{figure*}[H]%
\CommonHeightRow[1cm]%
{\begin{floatrow}[3]%
\ffigbox[\FBwidth]{\resizebox!\CommonHeight
{\fbox{\input{BlackDog.picture}}}}{\caption{}}
\ffigbox[\FBwidth]{\resizebox!\CommonHeight
{\fbox{\input{TheCat.picture}}}}{\caption{}}
\ffigbox[\FBwidth]{\resizebox!\CommonHeight
{\fbox{\input{Mouse.picture}}}}{\caption{}}
\end{floatrow}}%
\end{figure*}%

\begin{figure}[H]%
\bluecolorasdefault\CommonHeightRow[.5cm]%
{\begin{floatrow}[3]%
\ffigbox[\FBwidth]{\resizebox!\CommonHeight
{\vrule width 70pt height 2cm}}{\caption{}}
\ffigbox[\FBwidth]{\resizebox!\CommonHeight
{\vrule width 80pt height 2cm}}{\caption{}}
\ffigbox[\FBwidth]{\resizebox!\CommonHeight
{\vrule width 50pt height 2cm}}{\caption{}}
\end{floatrow}}%
\end{figure}%

\begin{figure}[H]%
\bluecolorasdefault\CommonHeightRow[.5cm]%
{\begin{floatrow}[3]%
\ffigbox[\FBwidth]{\resizebox!\CommonHeight
{\fbox{\input{BlackDog.picture}}}}{\caption{}}
\ffigbox[\FBwidth]{\resizebox!\CommonHeight
{\fbox{\input{TheCat.picture}}}}{\caption{}}
\ffigbox[\FBwidth]{\resizebox!\CommonHeight
{\fbox{\input{Mouse.picture}}}}{\caption{}}
\end{floatrow}}%
\end{figure}%

\clearpage

\begin{figure}[H]\fboxsep-.4pt
\CommonHeightRow[2.5cm]%
{\begin{floatrow}[4]%
\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:Dog}}
{\resizebox!{\CommonHeight}{\vrule width60pt height1cm}}

\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:WcatI}}
{\resizebox!{\CommonHeight}{\vrule width70pt height3cm}}

\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:mouse}}
{\resizebox!{\CommonHeight}{\vrule width60pt height2cm}}

\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:cheese}}
{\resizebox!{\CommonHeight}{\vrule width80pt height1cm}}
\end{floatrow}}
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
\CommonHeightRow[2.5cm]%
{\begin{floatrow}[4]%
\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:Dog1}}
{\resizebox!{\CommonHeight}{\fbox{\input{BlackDog.picture}}}}

\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:WcatI1}}
{\resizebox!{\CommonHeight}{\fbox{\input{TheCat.picture}}}}

\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:mouse1}}
{\resizebox!{\CommonHeight}{\fbox{\input{Mouse.picture}}}}

\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:cheese1}}
{\resizebox!{\CommonHeight}{\fbox{\input{Cheese.picture}}}}
\end{floatrow}}
\end{figure}%

\begin{figure*}[H]\fboxsep-.4pt
\redcolorasdefault\CommonHeightRow%{5cm}
{\begin{floatrow}[4]%
\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:Dog2}}
{\resizebox!{\CommonHeight}{\vrule width60pt height1cm}}

\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:WcatI2}}
{\resizebox!{\CommonHeight}{\vrule width70pt height3cm}}

\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:mouse2}}
{\resizebox!{\CommonHeight}{\vrule width60pt height2cm}}

\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:cheese2}}
{\resizebox!{\CommonHeight}{\vrule width80pt height1cm}}
\end{floatrow}}
\end{figure*}%

\begin{figure*}[H]\fboxsep-.4pt
\redcolorasdefault\CommonHeightRow%{5cm}
{\begin{floatrow}[4]%
\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:Dog3}}
{\resizebox!{\CommonHeight}{\fbox{\input{BlackDog.picture}}}}

\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:WcatI3}}
{\resizebox!{\CommonHeight}{\fbox{\input{TheCat.picture}}}}

\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:mouse3}}
{\resizebox!{\CommonHeight}{\fbox{\input{Mouse.picture}}}}

\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:cheese3}}
{\resizebox!{\CommonHeight}{\fbox{\input{Cheese.picture}}}}
\end{floatrow}}
\end{figure*}%

\begin{figure}[H]\fboxsep-.4pt
\bluecolorasdefault\CommonHeightRow[.5cm]%
{\begin{floatrow}[4]%
\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:Dog4}}
{\resizebox!{\CommonHeight}{\vrule width60pt height1cm}}

\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:WcatI4}}
{\resizebox!{\CommonHeight}{\vrule width70pt height3cm}}

\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:mouse4}}
{\resizebox!{\CommonHeight}{\vrule width60pt height2cm}}

\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:cheese4}}
{\resizebox!{\CommonHeight}{\vrule width80pt height1cm}}
\end{floatrow}}
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
\bluecolorasdefault\CommonHeightRow[.5cm]%
{\begin{floatrow}[4]%
\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:Dog5}}
{\resizebox!{\CommonHeight}{\fbox{\input{BlackDog.picture}}}}

\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:WcatI5}}
{\resizebox!{\CommonHeight}{\fbox{\input{TheCat.picture}}}}

\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:mouse5}}
{\resizebox!{\CommonHeight}{\fbox{\input{Mouse.picture}}}}

\ffigbox[\FBwidth]
{\caption{}%
\label{fig:CH:cheese5}}
{\resizebox!{\CommonHeight}{\fbox{\input{Cheese.picture}}}}
\end{floatrow}}
\end{figure}%

%--------------------------------------------------------------------
\clearpage

The next example of code is a~variation of previous one.
The \verb|\CommonHeightRow| command here was used for the
\verb|subfloatrow| environment.
\begin{Quote}%
\begin{preamble}%
\verb|\usepackage{graphicx}|
%^^A\verb|\floatsetup[figure]{style=plain}|
%^^A\verb|\floatsetup[widefloat]{margins=hangleft}|
\end{preamble}%
\verb|\begin{figure*}\fboxsep-.4pt|\nopagebreak
\verb|\ffigbox{}{\CommonHeightRow[.5cm]{\begin{subfloatrow}[4]|\nopagebreak
\verb|\ffigbox[\FBwidth]|\nopagebreak
\verb|{\includegraphics[height=\CommonHeight]{...}}{\caption{...}}|
\verb|\ffigbox[\FBwidth]|\nopagebreak
\verb|{\includegraphics[height=\CommonHeight]{...}}{\caption{...}}|
\verb|\ffigbox[\FBwidth]|\nopagebreak
\verb|{\includegraphics[height=\CommonHeight]{...}}{\caption{...}}|
\verb|\ffigbox[\FBwidth]|\nopagebreak
\verb|{\includegraphics[height=\CommonHeight]{...}}{\caption{...}}|\nopagebreak
\verb|\end{subfloatrow}}\caption{...}}|
\verb|\end{figure*}%|
\end{Quote}%

Below are few examples.

\begin{figure}[H]\fboxsep-.4pt
\ffigbox{}%%
{\bluecolorasdefault\CommonHeightRow[.5cm]%
{\begin{subfloatrow}[4]%
\ffigbox[\FBwidth]
{\caption{Figure~IA in the row with common heights}%
\label{fig:CH:Dog6}}
{\resizebox!{\CommonHeight}{\fbox{\input{BlackDog.picture}}}}

\ffigbox[\FBwidth]
{\caption{Figure~IIA in the row with common heights}%
\label{fig:CH:WcatI6}}
{\resizebox!{\CommonHeight}{\fbox{\input{Mouse.picture}}}}

\ffigbox[\FBwidth]
{\caption{Figure~IIIA in the row with common heights}%
\label{fig:CH:mouse6}}
{\resizebox!{\CommonHeight}{\fbox{\input{Cheese.picture}}}}

\ffigbox[\FBwidth]
{\caption{Figure~IVA in the row with common heights}%
\label{fig:CH:cheese6}}
{\resizebox!{\CommonHeight}{\vrule width40pt height1cm}}%
\end{subfloatrow}}\caption{Figure A with a row of parts with common height.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
\redcolorasdefault\ffigbox{}%%
{\CommonHeightRow%{5cm}
{\begin{subfloatrow}[4]%
\ffigbox[\FBwidth]
{\caption{Figure~IB in the row with common heights}%
\label{fig:CH:Dog7}}
{\resizebox!{\CommonHeight}{\vrule width60pt height1cm}}

\ffigbox[\FBwidth]
{\caption{Figure~IIB in the row with common heights}%
\label{fig:CH:WcatI7}}
{\resizebox!{\CommonHeight}{\vrule width90pt height3cm}}

\ffigbox[\FBwidth]
{\caption{Figure~IIIB in the row with common heights}%
\label{fig:CH:mouse7}}
{\resizebox!{\CommonHeight}{\vrule width70pt height1cm}}

\ffigbox[\FBwidth]
{\caption{Figure~IVB in the row with common heights}%
\label{fig:CH:cheese7}}
{\resizebox!{\CommonHeight}{\vrule width40pt height1cm}}%
\end{subfloatrow}}\caption{Figure B with a row of parts with common height.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
\redcolorasdefault\ffigbox{}%%
{\CommonHeightRow%{5cm}
{\begin{subfloatrow}[4]%
\ffigbox[\FBwidth]
{\caption{Figure~IA in the row with common heights}%
\label{fig:CH:Dog8}}
{\resizebox!{\CommonHeight}{\fbox{\input{BlackDog.picture}}}}

\ffigbox[\FBwidth]
{\caption{Figure~IIA in the row with common heights}%
\label{fig:CH:WcatI8}}
{\resizebox!{\CommonHeight}{\fbox{\input{TheCat.picture}}}}

\ffigbox[\FBwidth]
{\caption{Figure~IIIA in the row with common heights}%
\label{fig:CH:mouse8}}
{\resizebox!{\CommonHeight}{\fbox{\input{Mouse.picture}}}}

\ffigbox[\FBwidth]
{\caption{Figure~IVA in the row with common heights}%
\label{fig:CH:cheese8}}
{\resizebox!{\CommonHeight}{\fbox{\input{Cheese.picture}}}}%
\end{subfloatrow}}\caption{Figure B with a row of parts with common height.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
\ffigbox{}%%
{\CommonHeightRow[33mm]%
{\begin{subfloatrow}[4]%
\ffigbox[\FBwidth]
{\caption{Figure~IB in the row with common heights}%
\label{fig:CH:Dog9}}
{\resizebox!{\CommonHeight}{\vrule width60pt height1cm}}

\ffigbox[\FBwidth]
{\caption{Figure~IIB in the row with common heights}%
\label{fig:CH:WcatI9}}
{\resizebox!{\CommonHeight}{\vrule width90pt height3cm}}

\ffigbox[\FBwidth]
{\caption{Figure~IIIB in the row with common heights}%
\label{fig:CH:mouse9}}
{\resizebox!{\CommonHeight}{\vrule width70pt height1cm}}

\ffigbox[\FBwidth]
{\caption{Figure~IVB in the row with common heights}%
\label{fig:CH:cheese9}}
{\resizebox!{\CommonHeight}{\vrule width40pt height1cm}}%
\end{subfloatrow}}\caption{Figure B with a row of parts with common height.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
\ffigbox{}%%
{\CommonHeightRow[33mm]%
{\begin{subfloatrow}[4]%
\ffigbox[\FBwidth]
{\caption{Figure~IA in the row with common heights}%
\label{fig:CH:Doga}}
{\resizebox!{\CommonHeight}{\fbox{\input{BlackDog.picture}}}}

\ffigbox[\FBwidth]
{\caption{Figure~IIA in the row with common heights}%
\label{fig:CH:WcatIa}}
{\resizebox!{\CommonHeight}{\fbox{\input{Mouse.picture}}}}

\ffigbox[\FBwidth]
{\caption{Figure~IIIA in the row with common heights}%
\label{fig:CH:mousea}}
{\resizebox!{\CommonHeight}{\fbox{\input{Cheese.picture}}}}

\ffigbox[\FBwidth]
{\caption{Figure~IVA in the row with common heights}%
\label{fig:CH:cheesea}}
{\resizebox!{\CommonHeight}{\vrule width40pt height1cm}}%
\end{subfloatrow}}\caption{Figure B with a row of parts with common height.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}
\end{figure}%

%--------------------------------------------------------------------
\clearpage

This example of the code loads labels of parts of figures beside graphics.
\begin{Quote}%
\begin{preamble}%
\verb|\usepackage{graphicx}|
%^^A\verb|\floatsetup[figure]{style=plain}|
%^^A\verb|\floatsetup[widefloat]{margins=hangleft}|
\end{preamble}%
\verb|\begin{figure*}\fboxsep-.4pt|\nopagebreak
\verb|\ffigbox{}{\CommonHeightRow{\begin{subfloatrow}[4]\useFCwidth|\nopagebreak
\verb|\fcapside[\FBwidth]|\nopagebreak
\verb|{\includegraphics[height=\CommonHeight]{...}}{\caption{}}|
\verb|\fcapside[\FBwidth]|\nopagebreak
\verb|{\includegraphics[height=\CommonHeight]{...}}{\caption{}}|
\verb|\fcapside[\FBwidth]|\nopagebreak
\verb|{\includegraphics[height=\CommonHeight]{...}}{\caption{}}|
\verb|\fcapside[\FBwidth]|\nopagebreak
\verb|{\includegraphics[height=\CommonHeight]{...}}{\caption{}}|\nopagebreak
\verb|\end{subfloatrow}}\caption{...}}|
\verb|\end{figure*}%|
\end{Quote}%

\begin{figure}[H]\fboxsep-.4pt
\redcolorasdefault\ffigbox{}%%
{\CommonHeightRow%{5cm}
{\begin{subfloatrow}[4]\useFCwidth%
\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:Dogb}}
{\resizebox!{\CommonHeight}{\vrule width60pt height1cm}}

\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:WcatIb}}
{\resizebox!{\CommonHeight}{\vrule width90pt height3cm}}

\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:mouseb}}
{\resizebox!{\CommonHeight}{\vrule width70pt height1cm}}

\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:cheeseb}}
{\resizebox!{\CommonHeight}{\vrule width40pt height1cm}}%
\end{subfloatrow}}\caption{Figure C with a row of parts with common height.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
\redcolorasdefault\ffigbox{}%%
{\CommonHeightRow%{5cm}
{\begin{subfloatrow}[4]\useFCwidth%
\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:Dogc}}
{\resizebox!{\CommonHeight}{\fbox{\input{BlackDog.picture}}}}

\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:WcatIc}}
{\resizebox!{\CommonHeight}{\input{TheCat.picture}}}

\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:mousec}}
{\resizebox!{\CommonHeight}{\fbox{\input{Mouse.picture}}}}

\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:cheesec}}
{\resizebox!{\CommonHeight}{\fbox{\input{Cheese.picture}}}}%
\end{subfloatrow}}\caption{Figure C with a row of parts with common height.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
\ffigbox{}%%
{\bluecolorasdefault\CommonHeightRow[.5cm]%
{\begin{subfloatrow}[4]\useFCwidth%
\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:Dogd}}
{\resizebox!{\CommonHeight}{\vrule width60pt height1cm}}

\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:WcatId}}
{\resizebox!{\CommonHeight}{\vrule width90pt height3cm}}

\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:moused}}
{\resizebox!{\CommonHeight}{\vrule width70pt height1cm}}

\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:cheesed}}
{\resizebox!{\CommonHeight}{\vrule width40pt height1cm}}%
\end{subfloatrow}}\caption{Figure D with a row of parts with common height.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
\ffigbox{}%%
{\bluecolorasdefault\CommonHeightRow[.5cm]%
{\begin{subfloatrow}[4]\useFCwidth%
\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:Doge}}
{\resizebox!{\CommonHeight}{\vrule width60pt height1cm}}

\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:WcatIe}}
{\resizebox!{\CommonHeight}{\vrule width90pt height3cm}}

\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:mousee}}
{\resizebox!{\CommonHeight}{\vrule width70pt height1cm}}

\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:cheesee}}
{\resizebox!{\CommonHeight}{\vrule width40pt height1cm}}%
\end{subfloatrow}}\caption{Figure D with a row of parts with common height.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
\ffigbox{}%%
{\CommonHeightRow[4cm]%
{\begin{subfloatrow}[4]\useFCwidth%
\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:Dogf}}
{\resizebox!{\CommonHeight}{\vrule width60pt height1cm}}

\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:WcatIf}}
{\resizebox!{\CommonHeight}{\vrule width90pt height3cm}}

\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:mousef}}
{\resizebox!{\CommonHeight}{\vrule width70pt height1cm}}

\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:cheesef}}
{\resizebox!{\CommonHeight}{\vrule width40pt height1cm}}%
\end{subfloatrow}}\caption{Figure D with a row of parts with common height.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
\ffigbox{}%%
{\CommonHeightRow[4cm]%
{\begin{subfloatrow}[4]\useFCwidth%
\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:Dogg}}
{\resizebox!{\CommonHeight}{\vrule width60pt height1cm}}

\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:WcatIg}}
{\resizebox!{\CommonHeight}{\vrule width90pt height3cm}}

\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:mouseg}}
{\resizebox!{\CommonHeight}{\vrule width70pt height1cm}}

\fcapside[\FBwidth]
{\caption{}%
\label{fig:CH:cheeseg}}
{\resizebox!{\CommonHeight}{\vrule width40pt height1cm}}%
\end{subfloatrow}}\caption{Figure D with a row of parts with common height.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}
\end{figure}%

%--------------------------------------------------------------------
\clearpage

The examples with beside figures which also include labeled parts, have bug in
calculation. They need predefined height value more close to the necessary common
height.

The code of the mixed-level row with labels of parts below.
\begin{Quote}%
\verb|\floatsetup[subfigure]{capbesideposition=left}|
\verb|\begin{figure*}[H]|
\verb|\CommonHeightRow*[1.5cm]%|
\verb|{\begin{floatrow}|
\verb|\ffigbox[\FBwidth]{}%|
\verb|{\begin{subfloatrow}|
\verb|\ffigbox[\FBwidth]{}{\caption{}\label{...}...}|
\verb|\ffigbox[\FBwidth]{}{\caption{}\label{...}...}|
\verb|\end{subfloatrow}\caption{Common caption~I}}|
\verb|\ffigbox[\FBwidth]{}%|
\verb|{\begin{subfloatrow}|
\verb|\ffigbox[\FBwidth]{}{\caption{}\label{...}...}|
\verb|\ffigbox[\FBwidth]{}{\caption{}\label{...}...}|
\verb|\end{subfloatrow}\caption{...}}|
\verb|\end{floatrow}}%|
\verb|\end{figure*}|%
\end{Quote}%

Below are few examples.

\begin{figure}[H]\fboxsep-.4pt
%\def\CommonHeight{1cm}%
\CommonHeightRow*[1.5cm]%^^A\def\CommonHeight{2.5cm}
{\begin{floatrow}[2]%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}%
\ffigbox[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}{\vrule width40pt height1cm}}

\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIh}\resizebox!{\CommonHeight}{\vrule width80pt height3cm}}%
\end{subfloatrow}\caption{Common captions~Ic.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}

\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}\useFCwidth%
\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:mouseh}\resizebox!{\CommonHeight}{\vrule width40pt height1cm}}

\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:cheeseh}\resizebox!{\CommonHeight}{\vrule width70pt height1cm}}%
\end{subfloatrow}\caption{Common captions~IIc in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}%
\end{floatrow}}%
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
%\def\CommonHeight{1cm}%
\CommonHeightRow*[1.5cm]%^^A\def\CommonHeight{2.5cm}
{\begin{floatrow}[2]%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}%
\ffigbox[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}{\fbox{\input{BlackDog.picture}}}}

\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIi}\resizebox!{\CommonHeight}{\fbox{\input{TheCat.picture}}}}%
\end{subfloatrow}\caption{Common captions~Ic.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}

\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}\useFCwidth%
\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:mousei}\resizebox!{\CommonHeight}{\fbox{\input{Mouse.picture}}}}

\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:cheesei}\resizebox!{\CommonHeight}{\fbox{\input{Cheese.picture}}}}%
\end{subfloatrow}\caption{Common captions~IIc in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}%
\end{floatrow}}%
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
%\def\CommonHeight{1cm}%
\redcolorasdefault\CommonHeightRow*%{5cm}^^A\def\CommonHeight{2.5cm}
{\begin{floatrow}[2]%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}%
\ffigbox[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}{\vrule width40pt height1cm}}

\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIj}\resizebox!{\CommonHeight}{\vrule width80pt height3cm}}%
\end{subfloatrow}\caption{Common captions~Id.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}

\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}\useFCwidth%
\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:mousej}\resizebox!{\CommonHeight}{\vrule width40pt height1cm}}

\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:cheesej}\resizebox!{\CommonHeight}{\vrule width70pt height1cm}}%
\end{subfloatrow}\caption{Common captions~IId in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}%
\end{floatrow}}%
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
%\def\CommonHeight{1cm}%
\redcolorasdefault\CommonHeightRow*%{5cm}^^A\def\CommonHeight{2.5cm}
{\begin{floatrow}[2]%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}%
\ffigbox[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}{\fbox{\input{BlackDog.picture}}}}

\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIk}\resizebox!{\CommonHeight}{\fbox{\input{TheCat.picture}}}}%
\end{subfloatrow}\caption{Common captions~Id.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}

\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}\useFCwidth%
\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:mousek}\resizebox!{\CommonHeight}{\fbox{\input{Mouse.picture}}}}

\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:cheesek}\resizebox!{\CommonHeight}{\fbox{\input{Cheese.picture}}}}%
\end{subfloatrow}\caption{Common captions~IId in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}%
\end{floatrow}}%
\end{figure}%


\begin{figure}[H]\fboxsep-.4pt
%\def\CommonHeight{1cm}%
\bluecolorasdefault\CommonHeightRow*[.5cm]%^^A\def\CommonHeight{2.5cm}
{\begin{floatrow}[2]%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}%
\ffigbox[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}{\vrule width40pt height1cm}}

\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIl}\resizebox!{\CommonHeight}{\vrule width80pt height3cm}}%
\end{subfloatrow}\caption{Common captions~Ie.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}

\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}\useFCwidth%
\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:mousel}\resizebox!{\CommonHeight}{\vrule width40pt height1cm}}

\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:cheesel}\resizebox!{\CommonHeight}{\vrule width70pt height1cm}}%
\end{subfloatrow}\caption{Common captions~IIe in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}%
\end{floatrow}}%
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
%\def\CommonHeight{1cm}%
\bluecolorasdefault\CommonHeightRow*[.5cm]%^^A\def\CommonHeight{2.5cm}
{\begin{floatrow}[2]%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}%
\ffigbox[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}{\fbox{\input{BlackDog.picture}}}}

\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIm}\resizebox!{\CommonHeight}{\fbox{\input{TheCat.picture}}}}%
\end{subfloatrow}\caption{Common captions~Ie.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}

\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}\useFCwidth%
\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:mousem}\resizebox!{\CommonHeight}{\fbox{\input{Mouse.picture}}}}

\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:cheesem}\resizebox!{\CommonHeight}{\fbox{\input{Cheese.picture}}}}%
\end{subfloatrow}\caption{Common captions~IIe in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}%
\end{floatrow}}%
\end{figure}%

\def\XX{\showthe\Zhsize\showthe\Xhsize}
%--------------------------------------------------------------------
\clearpage

The example of the mixed-level row with labels of parts beside.
\begin{Quote}%
\verb|\floatsetup[subfigure]{capbesideposition=left}|
\verb|\begin{figure*}[H]|
\verb|\CommonHeightRow*[55pt]%|
\verb|{\begin{floatrow}|
\verb|\ffigbox[\FBwidth]{}%|
\verb|{\begin{subfloatrow}\useFCwidth|
\verb|\fcapside[\FBwidth]{}{\caption{}\label{...}...}|
\verb|\fcapside[\FBwidth]{}{\caption{}\label{...}...}|
\verb|\end{subfloatrow}\caption{Common caption~I}}|
\verb|\ffigbox[\FBwidth]{}%|
\verb|{\begin{subfloatrow}\useFCwidth|
\verb|\fcapside[\FBwidth]{}{\caption{}\label{...}...}|
\verb|\fcapside[\FBwidth]{}{\caption{}\label{...}...}|
\verb|\end{subfloatrow}\caption{...}}|
\verb|\end{floatrow}}%|
\verb|\end{figure*}|%
\end{Quote}%

Below are few examples.

\begin{figure}[H]\fboxsep-.4pt
%\def\CommonHeight{1cm}%
\CommonHeightRow*[55pt]%^^A\def\CommonHeight{2.5cm}
{\begin{floatrow}[2]%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}\useFCwidth%
\fcapside[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}%
{\vrule width30pt height1cm}}

\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIn}\resizebox!{\CommonHeight}%
{\vrule width20pt height2cm}}
\end{subfloatrow}\caption{Common captions~If.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}

\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}\useFCwidth%
\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:mousen}\resizebox!{\CommonHeight}%
{\vrule width10pt height1cm}}

\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:cheesen}\resizebox!{\CommonHeight}%
{\vrule width30pt height1cm}}
\end{subfloatrow}\caption{Common captions~IIf in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}%

% \ffigbox[\Xhsize]{}{\vrule width\Xhsize height5pt\caption{}}
\end{floatrow}}%
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
%\def\CommonHeight{1cm}%
\redcolorasdefault\CommonHeightRow*%{5cm}^^A\def\CommonHeight{2.5cm}
{\begin{floatrow}[2]%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}\useFCwidth%
\fcapside[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}%
{\vrule width30pt height1cm}}

\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIo}\resizebox!{\CommonHeight}%
{\vrule width20pt height2cm}}
\end{subfloatrow}\caption{Common captions~Ig.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}

\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}\useFCwidth%
\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:mouseo}\resizebox!{\CommonHeight}%
{\vrule width10pt height1cm}}

\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:cheeseo}\resizebox!{\CommonHeight}%
{\vrule width30pt height1cm}}
\end{subfloatrow}\caption{Common captions~IIg in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}%

% \ffigbox[\Xhsize]{}{\vrule width\Xhsize height5pt\caption{}}
\end{floatrow}}%
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
%\def\CommonHeight{1cm}%
\bluecolorasdefault\CommonHeightRow*[.5cm]%^^A\def\CommonHeight{2.5cm}
{\begin{floatrow}[2]%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}\useFCwidth%
\fcapside[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}%
{\vrule width30pt height1cm}}

\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIp}%
\resizebox!{\CommonHeight}%
{\vrule width20pt height2cm}}
\end{subfloatrow}\caption{Common captions~Ih.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}

\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}\useFCwidth%
\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:mousep}%
\resizebox!{\CommonHeight}%
{\vrule width10pt height1cm}}

\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:cheesep}%
\resizebox!{\CommonHeight}%
{\vrule width30pt height1cm}}
\end{subfloatrow}\caption{Common captions~IIh in a~row with common height of graphics.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}%

% \ffigbox[\Xhsize]{}{\vrule width\Xhsize height5pt\caption{}}
\end{floatrow}}%
\end{figure}%

%--------------------------------------------------------------------
\clearpage

\begin{figure}[H]\fboxsep-.4pt
%\def\CommonHeight{1cm}%
\CommonHeightRow*[2.5cm]%^^A\def\CommonHeight{2.5cm}
{\begin{floatrow}[2]%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}[2]%
\ffigbox[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}%
{\vrule width40pt height1cm}}

\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIq}%
\resizebox!{\CommonHeight}%
{\vrule width30pt height2cm}}%
\end{subfloatrow}\caption{Common captions~Ii.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}

\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}[2]\useFCwidth%
\ffigbox[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}%
{\vrule width30pt height1cm}}

\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIqq}%
\resizebox!{\CommonHeight}%
{\vrule width40pt height2cm}}
\end{subfloatrow}\caption{Common captions~IIi.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}
\end{floatrow}}%
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
%\def\CommonHeight{1cm}%
\redcolorasdefault\CommonHeightRow*%{5cm}^^A\def\CommonHeight{2.5cm}
{\begin{floatrow}[2]%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}[2]%
\ffigbox[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}%
{\vrule width40pt height1cm}}

\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIr}%
\resizebox!{\CommonHeight}%
{\vrule width30pt height2cm}}%
\end{subfloatrow}\caption{Common captions~Ij.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}

\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}[2]\useFCwidth%
\ffigbox[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}%
{\vrule width30pt height1cm}}

\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIrr}%
\resizebox!{\CommonHeight}%
{\vrule width40pt height2cm}}
\end{subfloatrow}\caption{Common captions~IIj.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}
\end{floatrow}}%
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
%\def\CommonHeight{1cm}%
\bluecolorasdefault\CommonHeightRow*[.5cm]%^^A\def\CommonHeight{2.5cm}
{\begin{floatrow}[2]%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}[2]%
\ffigbox[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}%
{\vrule width40pt height1cm}}

\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIs}%
\resizebox!{\CommonHeight}%
{\vrule width30pt height2cm}}%
\end{subfloatrow}\caption{Common captions~Ij.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}

\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}[2]\useFCwidth%
\ffigbox[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}%
{\vrule width30pt height1cm}}

\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIss}%
\resizebox!{\CommonHeight}%
{\vrule width40pt height2cm}}
\end{subfloatrow}\caption{Common captions~IIj.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}
\end{floatrow}}%
\end{figure}%

%--------------------------------------------------------------------
\clearpage

The code of the mixed-level row with labels of parts beside.
\begin{Quote}%
\verb|\floatsetup[subfigure]{capbesideposition=left}|
\verb|\begin{figure*}[H]|
\verb|\CommonHeightRow*[2.75cm]%|
\verb|{\begin{floatrow}|%
\verb|\ffigbox[\FBwidth]{}|
\verb|{\begin{subfloatrow}[3]\useFCwidth|
\verb|\fcapside[\FBwidth]{}{\caption{}\label{...}...}|
\verb|\fcapside[\FBwidth]{}{\caption{}\label{...}...}|
\verb|\fcapside[\FBwidth]{}{\caption{}\label{...}...}|
\verb|\end{subfloatrow}\caption{Common caption~I}}|
\verb|\ffigbox[\FBwidth]{}{\caption{...}\label{...}...}|
\verb|\end{floatrow}}%|
\verb|\end{figure*}|%
\end{Quote}%

Below is the example.

\begin{figure}[H]\fboxsep-.4pt
%\def\CommonHeight{1cm}%
\CommonHeightRow*[2.75cm]%^^A\def\CommonHeight{2.5cm}
{\begin{floatrow}[2]%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}[3]\useFCwidth%
\fcapside[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}%
{\vrule width40pt height1cm}}%
\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIt}%
\resizebox!{\CommonHeight}%
{\vrule width30pt height2cm}}%
\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatItt}%
\resizebox!{\CommonHeight}%
{\vrule width30pt height3cm}}
\end{subfloatrow}\caption{Common captions~Ik.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}%
\ffigbox[\FBwidth]{}%
{\resizebox!{\CommonHeight}%
{\vrule width40pt
 height1cm}\caption{%
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}
\end{floatrow}}%
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
%\def\CommonHeight{1cm}%
\redcolorasdefault\CommonHeightRow*%{5cm}^^A\def\CommonHeight{2.5cm}
{\begin{floatrow}[2]%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}[3]\useFCwidth%
\fcapside[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}%
{\vrule width40pt height1cm}}%
\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIu}%
\resizebox!{\CommonHeight}%
{\vrule width30pt height2cm}}%
\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIuu}%
\resizebox!{\CommonHeight}%
{\vrule width30pt height3cm}}
\end{subfloatrow}\caption{Common captions~Im.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}%
\ffigbox[\FBwidth]{}%
{\resizebox!{\CommonHeight}%
{\vrule width40pt
 height1cm}\caption{}}
\end{floatrow}}%
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
%\def\CommonHeight{1cm}%
\bluecolorasdefault\CommonHeightRow*[.5cm]%^^A\def\CommonHeight{2.5cm}
{\begin{floatrow}[2]%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}[3]\useFCwidth%
\fcapside[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}%
{\vrule width40pt height1cm}}%
\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIv}%
\resizebox!{\CommonHeight}%
{\vrule width30pt height2cm}}%
\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIvv}%
\resizebox!{\CommonHeight}%
{\vrule width30pt height3cm}}
\end{subfloatrow}\caption{Common captions~Im.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}%
\ffigbox[\FBwidth]{}%
{\resizebox!{\CommonHeight}%
{\vrule width40pt
 height1cm}\caption{}}
\end{floatrow}}%
\end{figure}%

%--------------------------------------------------------------------
\clearpage

\begin{figure}[H]\fboxsep-.4pt
%\def\CommonHeight{1cm}%
\CommonHeightRow*[2.5cm]%^^A\def\CommonHeight{2.5cm}
{\begin{floatrow}[2]%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}[2]\useFCwidth%
\fcapside[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}%
{\vrule width40pt height1cm}}%
\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIw}%
\resizebox!{\CommonHeight}%
{\vrule width30pt height2cm}}
\end{subfloatrow}\caption{Common captions~Il.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}[2]\useFCwidth%
\fcapside[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}%
{\vrule width30pt height1cm}}%
\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIww}%
\resizebox!{\CommonHeight}%
{\vrule width40pt height2cm}}
\end{subfloatrow}\caption{Common captions~IIl.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}
\end{floatrow}}%
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
%\def\CommonHeight{1cm}%
\redcolorasdefault\CommonHeightRow*%[5cm]^^A\def\CommonHeight{2.5cm}
{\begin{floatrow}[2]%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}[2]\useFCwidth%
\fcapside[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}%
{\vrule width40pt height1cm}}%
\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIx}%
\resizebox!{\CommonHeight}%
{\vrule width30pt height2cm}}
\end{subfloatrow}\caption{Common captions~Im.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}[2]\useFCwidth%
\fcapside[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}%
{\vrule width30pt height1cm}}%
\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIxx}%
\resizebox!{\CommonHeight}%
{\vrule width40pt height2cm}}
\end{subfloatrow}\caption{Common captions~IIm.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}
\end{floatrow}}%
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
%\def\CommonHeight{1cm}%
\bluecolorasdefault\CommonHeightRow*[.5cm]%^^A\def\CommonHeight{2.5cm}
{\begin{floatrow}[2]%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}[2]\useFCwidth%
\fcapside[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}%
{\vrule width40pt height1cm}}%
\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIy}%
\resizebox!{\CommonHeight}%
{\vrule width30pt height2cm}}
\end{subfloatrow}\caption{Common captions~Im.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}[2]\useFCwidth%
\fcapside[\FBwidth]{}{\caption{}%
\resizebox!{\CommonHeight}%
{\vrule width30pt height1cm}}%
\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIyy}%
\resizebox!{\CommonHeight}%
{\vrule width40pt height2cm}}
\end{subfloatrow}\caption{Common captions~IIm.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}
\end{floatrow}}%
\end{figure}%

%--------------------------------------------------------------------
%--------------------------------------------------------------------
\begingroup
  \floatsetup[figure]{style=plain}\floatsetup[widefloat]{margins=hangleft}
  \floatsetup[subfigure]{heightadjust=all}
   \begin{figure*}[H]\fboxsep-.4pt
   \CommonHeightRow*%
   {\begin{floatrow}%
   \ffigbox[\FBwidth]{}%
   {\begin{subfloatrow}%
   \ffigbox[\FBwidth]{}{\caption{Figure~I in the row with common heights}%
   \label{fig:CHsI:Dog}\resizebox!{\CommonHeight}{\fbox{\input{BlackDog.picture}}}}

   \ffigbox[\FBwidth]{}{\caption{Figure~II in the row with common heights}%
   \label{fig:CHsI:WcatI}\resizebox!{\CommonHeight}{\fbox{\input{TheCat.picture}}}}
   \end{subfloatrow}\caption{Common caption~I}}

   \ffigbox[\FBwidth]{}%
   {\begin{subfloatrow}%
   \ffigbox[\FBwidth]{}{\caption{Figure~III in the row with common heights\\ \strut}%
   \label{fig:CHsI:mouse}\resizebox!{\CommonHeight}{\fbox{\input{Mouse.picture}}}}

   \ffigbox[\FBwidth]{}{\caption{Figure~IV in the row with common heights}%
   \label{fig:CHsI:cheese}\resizebox!{\CommonHeight}{\fbox{\input{Cheese.picture}}}}
   \end{subfloatrow}\caption{Common caption~II in a~row with common height of graphics}}
   \end{floatrow}}%
   \end{figure*}%
\endgroup
%--------------------------------------------------------------------
%--------------------------------------------------------------------
\cleardoublepage

\section{Usage of the \protect\texttt{{\char92}Xhsize} command in mixed-level rows}

Usage of the \verb|\Xhsize| command in mixed-level rows.

\begin{figure}[H]\fboxsep-.4pt
%\def\CommonHeight{1cm}%
%\CommonHeightRow{2.5cm}%^^A\def\CommonHeight{2.5cm}
{\begin{floatrow}[2]%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}[3]\useFCwidth%
\fcapside[\FBwidth]{}{\caption{}%
%\resizebox!{\CommonHeight}
{\vrule width40pt height1cm}}%
\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIz}%\resizebox!{\CommonHeight}
{\vrule width30pt height2cm}}%
\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIzz}%\resizebox!{\CommonHeight}
{\vrule width30pt height2.4cm}}
\end{subfloatrow}\caption{Common captions~In.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}%
\ffigbox[\Xhsize]{}%
{\vrule width\hsize
 height1cm\caption{%.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}
\end{floatrow}}%
\end{figure}%


The next row needs the \verb|\hsize\Xhsize\filFCOhsize| sentence for the last subfigure in  \verb|\fcapside| box.

\begin{figure}[H]\fboxsep-.4pt
%\def\CommonHeight{1cm}%
%\CommonHeightRow{2.5cm}%^^A\def\CommonHeight{2.5cm}
{\begin{floatrow}[2]%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}[2]\useFCwidth%
\fcapside[\FBwidth]{}{\caption{}%
%\resizebox!{\CommonHeight}
{\vrule width40pt height1cm}}%
\fcapside[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIaz}%\resizebox!{\CommonHeight}
{\vrule width30pt height2cm}}
\end{subfloatrow}\caption{Common captions~Io.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}%
\ffigbox[\Xhsize]{}%
{\begin{subfloatrow}[2]\useFCwidth%
\fcapside[\FBwidth]{}{\caption{}%
%\resizebox!{\CommonHeight}
{\vrule width30pt height1cm}}%
\hsize\Xhsize\filFCOhsize\fcapside{}{\caption{}%
\label{fig:CHs:WcatIazz}%\resizebox!{\CommonHeight}
{\vrule width\hsize height2cm}}
\end{subfloatrow}\caption{Common captions~IIo.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}
\end{floatrow}}%
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
%\def\CommonHeight{1cm}%
%\CommonHeightRow{2.5cm}%^^A\def\CommonHeight{2.5cm}
{\begin{floatrow}[2]%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}[3]%
\ffigbox[\FBwidth]{}{\caption{}%
%\resizebox!{\CommonHeight}
{\vrule width40pt height1cm}}%
\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIbz}%\resizebox!{\CommonHeight}
{\vrule width30pt height2cm}}%
\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIbzz}%\resizebox!{\CommonHeight}
{\vrule width30pt height2.4cm}}
\end{subfloatrow}\caption{Common captions~Ip.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}%
\ffigbox[\Xhsize]{}%
{\vrule width\hsize
 height1cm\caption{%.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}
\end{floatrow}}%
\end{figure}%

\begin{figure}[H]\fboxsep-.4pt
%\def\CommonHeight{1cm}%
%\CommonHeightRow{2.5cm}%^^A\def\CommonHeight{2.5cm}
{\begin{floatrow}[2]%
\ffigbox[\FBwidth]{}%
{\begin{subfloatrow}[2]%
\ffigbox[\FBwidth]{}{\caption{}%
%\resizebox!{\CommonHeight}
{\vrule width40pt height1cm}}%
\ffigbox[\FBwidth]{}{\caption{}%
\label{fig:CHs:WcatIcz}%\resizebox!{\CommonHeight}
{\vrule width30pt height2cm}}
\end{subfloatrow}\caption{Common captions~Iq.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}%
\ffigbox[\Xhsize]{}%
{\begin{subfloatrow}[2]\useFCwidth%
\ffigbox[\FBwidth]{}{\caption{}%
%\resizebox!{\CommonHeight}
{\vrule width30pt height1cm}}%
\ffigbox[\Xhsize]{}{\caption{}%
\label{fig:CHs:WcatIczz}%\resizebox!{\CommonHeight}
{\vrule width\hsize height2cm}}
\end{subfloatrow}\caption{Common captions~IIq.
Common captions in a~row with common height of graphics.
Common captions in a~row with common height of graphics}}
\end{floatrow}}%
\end{figure}%
\endgroup
% ----------------------------------------------------------------
\end{document}
