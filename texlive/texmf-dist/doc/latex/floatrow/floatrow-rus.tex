% \iffalse
%    floatrow-rus.tex - The floatrow package
%                       (extension of float package)
%    Russian documentation.
%    (c) 2004-2007 Olga Lapko
%    (Lapko.O@g23.relcom.ru
%     tr-paw@yandex.ru
%     tr-paw@mail.ru
%     http://www.ru.net/~Lapko.O/)
%
%    This documentation is provided under the terms of the
%    LaTeX Project Public License distributed from CTAN
%    archives in directory macros/latex/base/lppl.txt.
%
%<*dtx>
          \ProvidesFile{floatrow-rus.tex}
%</dtx>
%
%<*driver>
\input pictures
\documentclass[twoside]{ltxdoc}

\usepackage{cmap}

\usepackage{mathtext}
\usepackage[T2A]{fontenc}
\usepackage[cp1251]{inputenc}
\usepackage[english,russian]{babel}

\makeatletter%^^A -----------------------

\usepackage{calc}
\usepackage{tabularx,array}

\usepackage{ifpdf}
\ifpdf
   \usepackage{mathptmx}
   \IfFileExists{t2aftm.fd}{\def\rmdefault{ftm}}{}
   \IfFileExists{t2aftx.fd}{\def\sfdefault{ftx}}{}
   \IfFileExists{t2apxtt.fd}{\def\ttdefault{pxtt}}{}
\fi
\settowidth\marginparwidth{\texttt{0DeclareFloatFootnoterule}}
\advance\oddsidemargin.125\marginparwidth
\evensidemargin\oddsidemargin
\advance\textheight4\baselineskip
\advance\topskip-2\baselineskip

\IfFileExists{titlesec.sty}{\usepackage[raggedright]{titlesec}}{}
\let\FRorisection\section
\let\FRorisubsection\subsection
\let\FRorisubsubsection\subsubsection
\def\section{\RestoreSpaces\FRorisection}
\def\subsection{\RestoreSpaces\FRorisubsection}
\def\subsubsection{\RestoreSpaces\FRorisubsubsection}


\IfFileExists{footmisc.sty}{\usepackage[perpage]{footmisc}}{}

\IfFileExists{fancyhdr.sty}{\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhead{}\fancyfoot{}
\fancyhead[LE]{\setlength{\dimen@}{\marginparwidth+\marginparsep}%^^A
          \leavevmode\hbox to\dimen@{\normalsize\bfseries\thepage\hfil}
          \ignorespaces{\nouppercase\leftmark}\hfil\strut}
\fancyhead[LO]{\setlength{\dimen@}{\marginparwidth+\marginparsep}%^^A
          \leavevmode\hbox to\dimen@{}
          \ignorespaces{\nouppercase\rightmark}\hfill
          \hbox to2em{\hfil\normalsize\bfseries\thepage}\strut}
\fancyheadoffset[L]{\marginparwidth+\marginparsep}
}{}

\usepackage[font=small,labelfont=bf,labelsep=period,
            justification=centerlast]
            {caption}[2007/04/11]
\usepackage[format=default,justification=centerlast,
            labelfont=up,captionskip=5pt]
            {subfig}[2005/06/28]
\renewcommand\thesubfigure{\asbuk{subfigure}}
\renewcommand\thesubtable{\asbuk{subtable}}

%^^A\IfFileExists{subcaption.sty}{
%^^A\usepackage{subcaption}%^^A}{}

\DeclareCaptionSubType[asbuk]{table}
\DeclareCaptionSubType[asbuk]{figure}

\IfFileExists{rotating.sty}{\usepackage[figuresright]{rotating}}{}

\usepackage{longtable}
\usepackage{wrapfig}
%\usepackage{psfrag}
\usepackage[vflt]{floatflt}
\usepackage{picins}
%^^A\RequirePackage[writefile]{listings}[2004/09/07]

\usepackage[font=small,captionskip=5pt,
   footskip=.5\skip\footins,footnoterule=fullsize,
   floatrowsep=qquad,capbesidesep=quad,capbesideposition=inside,
   facing=yes,floatHaslist=yes,doublefloataswide=yes]{floatrow}

\usepackage{floatpagestyle,listpen}
\allowprelistbreaks[-4]
\newseparatedlabel\Flabel{\@captype}{sub\@captype}
\newseparatedref\Fref{,\,\textit}

\usepackage{fr-fancy}

\usepackage{color}
\definecolor{gray}{gray}{.5}
%\definecolor{emphblue}{rgb}{0,0,0.5}
\definecolor{emphblue}{rgb}{0,0,1}
\def\emphcolor{\color{emphblue}}

\usepackage[
    linktocpage,
    hyperindex,%
    plainpages=false,%
    bookmarksopenlevel=1,%
    bookmarksnumbered=false,%
    pdfview=FitH,
    pdfstartview=FitH,
    unicode
   ]{hyperref}
\usepackage{hypcap}

\ifx\pdftexversion\undefined
  \IfFileExists{pstricks.sty}{\usepackage{pstricks,pst-eps}}{}
\else\ifcase\pdfoutput
  \IfFileExists{pstricks.sty}{\usepackage{pstricks}}{}
\or
%^^A  \IfFileExists{pdftricks.sty}{
%^^A  \usepackage{pdftricks}
%^^A  }{}
\fi\fi
\ifx\pdfdisplay\undefined\else
  \begin{psinputs}
  \usepackage{pstricks}
  \end{psinputs}
\fi

\IfFileExists{makecell.sty}{\usepackage{makecell}}{}

\@ifundefined{thead}{\newcommand\thead[1]{\footnotesize\raisebox
   {0pt}[\height+\jot][\depth+\jot]{\begin{tabular}{@{}c@{}} #1\end{tabular}}}
%^^A For this documentation only
  \def\multirowthead#1[#2]#3{\raisebox{-1.5ex}{\thead{#3}}}}{}

\IfFileExists{multirow.sty}{\usepackage{multirow}}{}
\IfFileExists{lscape.sty}{\usepackage{lscape}}{}
\floatsetup[table]{style=Plaintop,footnoterule=none}

%^^A-----------------------
\floatstyle{ruled}
\newfloat{Program}{tbp}{lop}[section]
\floatname{Program}{\CYRP\cyrr\cyro\cyrg\cyrr\cyra\cyrm\cyrm\cyra}

\DeclareNewFloatType{Example}%
    {placement=tb,within=section,fileext=loe,name=\CYRP\cyrr\cyri\cyrm\cyre\cyrr}

\newfloatcommand{fcapsideleft}{figure}[{\capbeside
  \captionsetup[capbesidefigure]{labelsep=newline,
   justification=raggedleft}%
   \thisfloatsetup{capbesideposition=left}}][\FBwidth]
\newfloatcommand{fcapsideright}{figure}[{\capbeside
  \captionsetup[capbesidefigure]{labelsep=newline,
   justification=raggedright}%
   \thisfloatsetup{capbesideposition=right}}][\FBwidth]

\DeclareFloatStyle{MyBoxed}{style=Boxed,
  captionskip=5pt,frameset={\fboxrule1pt\fboxsep12pt}}

\DeclareFloatVCode{lowthickrule}{\par\vskip2pt\rule{\hsize}{.8pt}\par}
\DeclareFloatVCode{grayruleabove}{{\color{gray}\par\hrule height2.8pt depth0pt\vskip4pt\par}}
\DeclareFloatVCode{grayrulebelow}{{\color{gray}\par\vskip4pt\hrule height2.8pt depth0pt}}

\DeclareObjectSet{colorred}{\parskip2pt\parindent15pt\color{red}}

\DeclareMarginSet{hangtoheads}{\setfloatmargins
    {\hfil}{\hskip-.7\headheight\hskip-\headsep}}

\DeclareFloatSeparators{colorsep}{\begingroup\color{blue}%
  \floatfacing*
    {\hskip16pt\vrule width4.8pt\hskip6pt}{\hskip6pt\vrule width4.8pt\hskip16pt}%
   \endgroup}
\DeclareFloatSeparators{none}{}
\DeclareFloatSeparators{cicero}{\hskip1cc}
\DeclareFloatSeparators{enskip}{\hskip.5em}
\DeclareFloatSeparators{marginparsep}{\hskip\marginparsep}
\DeclareFloatSeparators{mcapwidth}{\hskip-\FCwidth}

\DeclareColorBox{framedfigure}{\fcolorbox{gray}{white}}
\DeclareColorBox{yellowplate}{\colorbox{yellow}}

\DeclareCBoxCorners{angles}
   {{\color{green}%green llcorner
      \linethickness{10pt}\put(-5pt,-5pt)
      {{\put(0pt,0pt){\line(0,1){\FRcolorboxht}}}%
       {\put(-5pt,0pt){\line(1,0){\FRcolorboxwd}}}}%
   }}{{\color{red}%red lrcorner
      \linethickness{10pt}\put(0pt,0pt)
      {{\put(0pt,0pt){\line(0,1){\FRcolorboxht}}}%
       {\put(5pt,0pt){\line(-1,0){\FRcolorboxwd}}}}%
   }}{{\color{blue}%blue urcorner
      \linethickness{10pt}\put(5pt,-5pt)
      {{\put(0pt,0pt){\line(0,-1){\FRcolorboxht}}}%
       {\put(5pt,0pt){\line(-1,0){\FRcolorboxwd}}}}%
   }}{{\color{magenta}%magenta ulcorner
      \linethickness{10pt}\put(0pt,0pt)
      {{\put(0pt,0pt){\line(0,-1){\FRcolorboxht}}}%
       {\put(-5pt,0pt){\line(1,0){\FRcolorboxwd}}}}%
   }}

%^^A -----------------------
\DeclareCaptionListOfFormat{comma-separated}{#1,\,#2}

\DeclareCaptionFont{green}{\color{green}}
\DeclareCaptionFont{magenta}{\color{magenta}}

\def\rightlast{\leftskip0ptplus1fil
  \rightskip0ptplus-1fil\parfillskip0ptplus1fil}
\def\leftlast{\leftskip0pt\rightskip0pt\parfillskip0ptplus1fil}

%^^A for all versions of caption 3.x?
\DeclareCaptionLabelFormat{rightline}{\rightline{\bothIfFirst{#1}{ }#2}}
\DeclareCaptionLabelFormat{continued}{\rightline{\bothIfFirst{#1}{ }#2 \textup{(\emph{продолжение})}}}
\DeclareCaptionLabelFormat{finished}{\rightline{\bothIfFirst{#1}{ }#2 \textup{(\emph{окончание})}}}

\DeclareCaptionLabelFormat{thinspace}{\bothIfFirst{#1}{\,}#2}

\DeclareCaptionJustification{togglelast}{\floatfacing*\rightlast\leftlast}
\DeclareCaptionJustification{rightlast}{\rightlast}

\captionsetup[table]{labelformat=rightline,textfont=bf,labelfont={md,sl},labelsep=newline}
\captionsetup[capbesidefigure]{justification=togglelast}
\captionsetup[floatfoot]{format=default}

\DeclareCaptionFormat{break}{#1#2\par#3\par}

\newcounter{Note}
\newcommand\Note{\ifhmode\ifdim\lastskip>0pt\unskip\fi~\nobreak\quad\fi
    \addtocounter{Note}1\textup{\theNote)}\nobreak\enskip}
\newcommand\startNotes{\setcounter{Note}0}
%^^A -----------------------

\advance\oddsidemargin.25\marginparwidth
\evensidemargin\oddsidemargin
\@mparswitchfalse
\widowpenalty10000
\clubpenalty10000
\@beginparpenalty10000
\@itempenalty1000
\@endparpenalty0
\tolerance2000
\hbadness8000
\vbadness5000
\hfuzz7pt
\def\l@subsection{\@dottedtocline {2}{1.5em}{2.7em}}
\def\l@subsubsection{\@dottedtocline {3}{4.2em}{3.9em}}

\newcommand\Resizebox[5]{\setbox0\hbox{\setlength\unitlength{#1/#3}%^^A
   \ifx\pspicture\undefined\else\psset{unit=\unitlength}\fi{#5}}%^^A
   \@tempdima\ht0\advance\@tempdima\dp0%^^A
   \ifdim\@tempdima>#2
     \setlength\unitlength{#2/#4}\ifx\pspicture\undefined
       \else\psset{unit=\unitlength}\fi
     {#5}\else\box0\fi}

\providecommand*{\file}[1]{\texttt{#1}}
\providecommand*{\package}[1]{\textsf{#1}}
\providecommand*{\cls}[1]{\textsf{#1}}
\providecommand*{\env}[1]{\texttt{#1}}
\providecommand*{\meta}[1]{$\langle$\textit{#1}$\rangle$}

\newenvironment{Options}[1]%
  {\RemoveSpaces
   \allowprelistbreaks[-4]\vspace*{\topsep}\list{}{\renewcommand{\makelabel}[1]{\texttt{##1}\hfil}%
   \settowidth{\labelwidth}{\texttt{#1\space}}%
   \setlength{\leftmargin}{\labelwidth}%
   \addtolength{\leftmargin}{\labelsep}%
   \setlength{\itemsep}{0pt}%
   \setlength{\parsep}{0pt}}}%
  {\endlist}

\newenvironment{Quote}[1][\parindent]{\par\hfuzz30pt\setlength{\leftmargini}{#1}\RestoreSpaces
    \small\begin{quote}\obeylines\parskip0pt}{\end{quote}\par\@endpetrue}
\def\OptionLabel{RaggedRight}

\newenvironment{preamble}{{\emphcolor\meta{preamble}}\nopagebreak
    \par\begingroup\advance\leftskip1em}{\par\endgroup{\emphcolor\nobreak\meta{preamble}}\par\vskip2ex}

\newcommand\FRkey[2][setup]{\hyperref[#1:#2]{\texttt{#2}}}

\DeclareRobustCommand\La{L\kern-.36em{\sbox\z@ T\vbox to\ht\z@{\hbox{\check@mathfonts
    \fontsize\sf@size\z@\math@fontsfalse\selectfont A}\vss}}}

%maybe there is better solution?
\def\DescribeMacro{\let\outer@nobreak\@nobreaktrue
    \leavevmode\everypar{\@nobreakfalse}\@bsphack
   \begingroup\MakePrivateLetters\Describe@Macro}
\def\DescribeEnv{\let\outer@nobreak\@nobreaktrue
    \leavevmode\everypar{\@nobreakfalse}\@bsphack
    \begingroup\MakePrivateLetters\Describe@Env}
\def\RestoreSpaces{\@nobreakfalse}

\newcommand\FRmpar{\@ifstar{\@nobreaktrue\xFRmpar}{\xFRmpar}}

\newcommand\xFRmpar[2]{\label{#2}\marginpar{\footnotesize
    \raggedleft\advance\leftskip.3\hsize#1}}

\providecommand\sectionname{разд.}
\def\SpecialUsageIndex#1{}
\def\SpecialEnvIndex#1{}
\newcommand\seeIntro{\hyperref[sec:intro]{Intro}}

\makeatother%^^A---------------------------------

\OnlyDescription
\let\PrintChanges\relax
\let\PrintIndex\relax
\EnableCrossrefs
%\RecordChanges
\raggedbottom
\begin{document}
 \DocInput{floatrow-rus.tex}
 \PrintChanges
\end{document}
%</driver>
% \fi
%
% \GetFileInfo{floatrow-rus.tex}
%
%   \ifx\pspicture\undefined\else\psset{unit=1pt}\fi
%
%   \def\fileversion{v0.3b}
%   \def\filedate{2009/08/02}
%   \title{Документация к пакету \package{floatrow}\thanks{Версия
%          документации \fileversion, датирована
%          \filedate.}}
%
%   \author{%
%   Ольга Лапко\\
%   {\tt Lapko.O@g23.relcom.ru} }
%   \date{\filedate}
%   \maketitle
%
%   \begin{abstract}\openup-.5pt
%^^A%   This package was created as extension of the \package{float}
%^^A%   package. The \package{floatrow} package borrows core code from
%^^A%   the \package{float}\footnote{\package{float} package, version v1.3d dated
%^^A%   2001/11/08, \copyright{} 1991-2000 Anselm Lingnau.} and
%^^A%   \package{rotfloat}\footnote{\package{rotfloat} package, version v1.2
%^^A%   dated 2004/01/04, \copyright{} 1995--2004 Axel
%^^A%   Sommerfeldt.} packages, so you \emph{must not} load these packages.
%   Данный пакет создан как расширение или дополнение пакета \package{float}.
%   Пакет \package{floatrow} использует коды из пакетов \package{float}\footnote{Пакет \package{float},
%   версия v1.3d датирована 2001/11/08, \copyright{} 1991-2000
%   Anselm Lingnau.} и~\package{rotfloat}\footnote{Пакет \package{rotfloat},
%   версия v1.2 датирована 2004/01/04, \copyright{} 1995--2004 Axel
%   Sommerfeldt.}, поэтому эти пакеты \emph{не должны} загружаться.
%
%^^A%   The \package{float} package has a~good mechanism for the creation (and easy
%^^A%   modification) of common layout for all floats without
%^^A%   adding any repeated code in the document; besides, this package allows to
%^^A%   create new float type; it deals only
%^^A%   with alone (plain) combinations ``object (float contents)---caption''.
%   Пакет \package{float} обладает хорошим механизмом для создания (и~простой, быстрой
%   модификации) единообразного оформления для всех плавающих объектов
%   (флотов) одного типа без добавления повторяющихся команд в~документации; кроме
%   этого пакет позволяет создать новый тип плавающего объекта; он работает
%   только с~простыми одиночными комбинациями
%   «объект (содержимое флота)---подпись».
%
%^^A%   The \package{rotfloat}
%^^A%   package changes environments of rotated floats (the |sideways...|
%^^A%   environment of \package{rotating} package)
%^^A%   to adapt them to \package{float}'s settings.
%   Пакет \package{rotfloat} адаптирует окружения развёрнутых плавающих объектов
%   (окружение |sideways...| пакета \package{rotating}) под пакет \package{float}.
%
%^^A%   The  package \package{floatrow} extends these possibilities and, at last, it allows:
%   Пакет \package{floatrow} расширяет эти возможности и, в~результате, поз\-воляет:
%   \begin{itemize}\itemsep0pt\parskip0pt
%   \item
%^^A%   usage of mechanism borrowed from \package{float} package for
%^^A%   creation of new float type;
%   использовать механизм, взятый из пакета \package{float}, для создания нового
%   типа плавающего объекта;
%   \item
%^^A%   to change width of float box, either to a fixed value or to the width of object;
%   изменить ширину бокса всего плавающего объекта,
%   а~также задать ширину равную ширине содержимого плавающего объекта;
%   \item
%^^A%   to put caption beside object;
%   поместить подпись сбоку объекта;
%   \item
%^^A%   to put a few floats side by side on the row;
%   поместить несколько флотов рядом;
%   \item%
%^^A%   to put footnotes inside float box (using |minipage|-like mode);
%^^A%   and also put legend-like text;
%   поместить сноски внутри плавающего объекта (используя режим,
%   аналогичный используемому в~окружении |minipage|); поместить текст экспликации;
%   \item%
%^^A%   to create and/or modify special layout for each type of float and
%^^A%   for different positioning of float and its components, e.g.
%^^A%   two-column or rotated float.
%   создавать и/или изменять специальное оформление для каждого типа флотов
%   и~различных размещений флота и~его компонентов, например флот, расположенный на две
%   колонки или развёрнутый вертикально (лёжа).
%   \end{itemize}
%
%^^A%   The \package{floatrow} package is cooperated with \package{caption} package
%^^A%   (needs version 3.0\textbf{q} or later, \emph{the better} cooperation will be with
%^^A%   version \textbf{3.1\emph{x}}). Also the \package{floatrow} package (like
%^^A%   \package{caption} one) uses \package{keyval} package mechanism for layout
%^^A%   settings.
%   Пакет \package{floatrow} объединён с~пакетом \package{caption}
%   (версия должна быть 3.0\textbf{q} или выше, лучше использовать версии \textbf{3.1\emph{x}}).
%   Также пакет \package{floatrow} (как
%   и~пакет \package{caption}) использует механизм пакета \package{keyval}
%   \emph{ключ}---\emph{опция} для задания оформления флотов.
%   \medskip
%
%   \begingroup
%   \slshape
%^^A%   I do my best to follow this idea and I hope that someone
%^^A%   likes it: helps to maintain this idea in any way, or finds bugs
%^^A%   and absurdities in this package or documentation.
%   Я~делаю всё что могу для поддержки этого пакета и~надеюсь, что кто-то
%   поддержит эту идею и~поможет её развить дальше, даже если это будут
%   просто сообщения об ошибках в~пакете или документации.
%   \endgroup
%   \clearpage
%
%
%^^A%   \centerline{\textbf{Document Terminology}\nopagebreak\vspace{1ex}}
%   \centerline{\textbf{Терминология документации}\nopagebreak\vspace{1ex}}
%   \begin{description}\itemsep0pt\parskip0pt
%^^A%   \item[float (float box)]
%^^A%   could include \emph{object}, \emph{caption}, and
%^^A%   \emph{foot material}; \emph{float} is created by |figure| or
%^^A%   |table| environments (\emph{plain float}), or by |\|\FRkey{floatbox}
%^^A%   command and its modifications (\emph{float box});
%   \item[флот, бокс флота] (float, float box)
%   или \textbf{плавающий объект} может включать \emph{объект},
%   \emph{подпись} и~\emph{дополнительный материал};
%   создаётся внутри окружений |figure| или |table| (\emph{простой флот}),
%   или командой |\|\FRkey{floatbox} и~её модификациями (\emph{бокс флота});
%
%^^A%   \item[float type]
%^^A%   means standard environments |figure| and |table|,
%^^A%   also their subtypes, like e.g.~|wrapfigure| (\package{wrapfig} package),
%^^A%   |sidewaysfigure| (\package{rotating} and \package{rotfloat} packages),
%^^A%   |longtable|  (\package{longtable} package) etc.;
%   \item[тип флота] (float type)
%   означает как стандартные окружения |figure| или |table|,
%   так и~их \emph{подтипы}, например~|wrapfigure| (пакет \package{wrapfig}),
%   |side|\-|ways|\-|figure| (пакеты \package{rotating} и~\package{rotfloat}),
%   |longtable|  (\package{longtable}) и~др.;
%
%^^A%   \item[object]
%^^A%   means |tabular| or graphics, as contents of table
%^^A%   (|figure|) or figure (|table|) or other type of float;
%   \item[объект]
%   (object)  табличный материал (например, |tabular|) или любая
%   графика, являющаяся содержимым таблицы (|table|), рисунка (|figure|)
%   или другого типа плавающего объекта;
%
%^^A%   \item[caption]means text in |\caption|;
%   \item[подпись]
%   (caption) подпись или табличный заголовок, заданные командой
%   |\caption|;
%
%^^A%   \item[foot material]explications, legends and/or footnotes inside
%^^A%   \emph{float} box (|\footnote|/|\mpfootnotemark|/|\footnotetext|,
%^^A%   and |\|\FRkey{floatfoot} macros).
%   \item[дополнительный материал]
%   (foot material) экспликации и/или сноски внутри
%   \emph{бокса флота} (|\footnote|/|\mpfootnotemark|/|\footnotetext| или |\|\FRkey{floatfoot}).
%   \end{description}
%   \end{abstract}
%
% \begingroup\small
%^^A% \vspace{2ex}\centerline{\textbf{Frequently Appeared Design}\nopagebreak}
% \vspace{2ex}\pdfbookmark[1]{\TeX ническое редактирование}{FAD}\nopagebreak
% \centerline{\textbf{\TeX ническое редактирование}\nopagebreak}
% \begin{multicols}{2}\raggedright\advance\rightskip1em
%   \makeatletter\let\item\@idxitem\ignorespaces\makeatother
%   \item{Оформление типов флотов (|\floatsetup|)}
%       \strut\pfill
%       \textsl{\sectionname}~\ref{sec:floatsetup}
%
%   \item{Подпись}
%       \subitem{как в~стандартном \LaTeX'е (|\RawCaption|)}
%           \strut\pfill
%           с.~\pageref{setup:RawCaption},
%              \pageref{subcap:RawCaption}
%
%       \subitem{сверху (нумерованные таблицы, |\ttabbox|)}
%           \strut\pfill
%           \textsl{{\seeIntro}},~%^^A
%           \textsl{\sectionname}~\ref{sec:floatbox}
%
%       \subitem{по ширине многостраничной таблицы |longtable|
%           (ключ~|LTcapwidth=|)}
%           \strut\pfill
%           с.~\pageref{FAD:LTcapwidth}
%
%       \subitem{по ширине объекта}
%           \emph{см}.~{флот, задание ширины по ширине объекта}{}
%
%       \subitem{сбоку (нумерованные рисунки, |\fcapside|)}
%           \strut\pfill
%           \textsl{{\seeIntro}},~%^^A
%           \textsl{\sectionname}~\ref{sec:floatbox}
%
%   \item{Подфлот (нумерованная часть флота)}\nopagebreak
%       \subitem{с~номером подфлота сбоку}
%           \strut\pfill
%           с.~\pageref{FAD:sublabelbeside:subcaption}, \pageref{FAD:sublabelbeside}
%
%       \subitem{с~подподписью сверху}
%       \strut\pfill
%       с.~\pageref{FAD:subcapabove:subcaption}, \pageref{FAD:subcapabove}
%
%   \item{Сноски внутри флота}
%       \strut\pfill
%       \textsl{\sectionname}~\ref{sec:floatfootnote}
%
%      \subitem{знак сноски (|\mpfootnotemark|)}
%           \strut\pfill
%           с.~\pageref{FAD:FnoteInsideFloat}
%
%   \item{Создание нового типа флотов (|\DeclareNewFloatType|)}
%       \strut\pfill
%       \textsl{\sectionname}~\ref{sec:newfloat}
%
%   \item{Флот}\nopagebreak
%       \subitem{бокс (|\floatbox|)}
%           \strut\pfill
%           \textsl{\sectionname}~\ref{sec:floatbox}
%
%           \subsubitem{рисунок (|\ffigbox|)}
%               \strut\pfill
%               \textsl{{\seeIntro}},~%^^A
%               \textsl{\sectionname}~\ref{sec:floatbox}
%
%           \subsubitem{таблица (|\ttabbox|)}
%               \strut\pfill
%               \textsl{{\seeIntro}},~%^^A
%               \textsl{\sectionname}~\ref{sec:floatbox}
%
%       \subitem{в~оборку}
%               \strut\pfill
%               \textsl{\sectionname}~\ref{ssec:wrapfig}--\ref{ssec:picins}
%
%       \subitem{задание ширины}\nopagebreak
%
%           \subsubitem{опция в~|\floatbox| и~др.}
%               \strut\pfill
%               \textsl{\sectionname}~\ref{sec:floatbox}
%
%           \subsubitem{по оставшемуся месту в~ряду
%               (опция |\Xhsize| (|\floatbox|))}
%               \strut\pfill
%               с.~\pageref{FAD:floatfillspace}
%
%           \subsubitem{по ширине объекта (опция |\FBwidth|
%               (|\floatbox|))\kern-1em\allowbreak}
%               \strut\pfill
%               \textsl{{\seeIntro}},~%^^A
%               \textsl{\sectionname}~\ref{sec:floatbox}
%
%       \subitem{пустой колонтитул (|\emptyfloatpage|)}
%               \strut\pfill
%               с.~\pageref{FAD:emptyfloatpage}
%
%       \subitem{развёрнутые (окр.~|sideways..|)\kern-1em\allowbreak}
%           \strut\pfill
%           \textsl{\sectionname}~\ref{ssec:rotating}
%
%           \subsubitem{размещение на развороте}
%               \strut\pfill
%               с.~\pageref{FAD:ContRotated}
%
%       \subitem{ряд (окр. |floatrow|)}
%           \strut\pfill
%           \textsl{{\seeIntro}},~%^^A
%           \textsl{\sectionname}~\ref{sec:floatrow}
%
%           \subsubitem{флот занимает оставшееся место в~ряду}
%               \emph{см.}~{флот, задание ширины по оставшемуся месту в~ряду}
%
%           \subsubitem{флоты различных типов в~одном ряду}
%               \strut\pfill
%               с.~\pageref{FAD:MixedRowII},
%                  \pageref{FAD:MixedRow}
%
%       \subitem{как в~стандартном \LaTeX'е (|\RawFloats|)}
%           \strut\pfill
%           \textsl{\sectionname}~\ref{sec:rawfloats}
%
%       \subitem{\textbf{сюда!} или флот «на якоре» (опция~|H|)}
%           \strut\pfill
%           \textsl{\sectionname}~\ref{sec:floatborrowII}
%
%   \item{Экспликации (|\floatfoot|)}
%       \strut\pfill
%       \textsl{\sectionname}~\ref{subsec:floatfoot}
% \end{multicols}%
% \endgroup
%
%   \clearpage
%   \begingroup\addtocounter{lofdepth}1\addtocounter{lotdepth}1
%   \small
%   \pdfbookmark[1]{Оглавление}{TOC}\nopagebreak\tableofcontents
%   \pdfbookmark[1]{Список рисунков}{LOF}
%       \nopagebreak\listoffigures
%   \pdfbookmark[1]{Список таблиц}{LOT}
%       \nopagebreak\listoftables
%   \pdfbookmark[1]{Список примеров}{LOE}
%       \nopagebreak\listof{Example}{Список примеров}
%   \pdfbookmark[1]{Список программ}{LOP}
%       \nopagebreak\listof{Program}{Список программ}
%   \endgroup
%   \clearpage
%   \suppressfloats[t]
%
%^^A%   \section{Introduction}\label{sec:intro}
%   \section{Введение}\label{sec:intro}
%
%^^A%   During creation of document, you usually type figures and tables as \emph{floating objects}
%^^A%   (\emph{floats}), i.e. put their contents
%^^A%   inside |figure| and~|table| environments consequently. The simplest floating environment
%^^A%   looks like:
%   Создавая документ, вы записываете рисунки и~таблицы в~виде \emph{плавающих объектов} или \emph{флотов},
%   помещая их, соответственно в~окружения |figure| и~|table|. Самое простое задание флота
%   выглядит так:
%\begin{Quote}
%|\begin{|\meta{тип флота}|}|
%\meta{содержимое флота (объект)}
%|\caption{|\meta{содержимое подписи}|}|
%|\end{|\meta{тип флота}|}|
%\end{Quote}
%^^A%   or (if you want to put caption above):
%   или (если вы хотите поместить подпись сверху содержимого флота):
%\begin{Quote}
%|\begin{|\meta{тип флота}|}|
%|\caption{|\meta{содержимое подписи}|}|
%\meta{содержимое флота (объект)}
%|\end{|\meta{тип флота}|}|
%\end{Quote}
%
%^^A%   \subsection{Loading The Package}\label{sec:load}\label{sec:start}
%   \subsection{Загрузка пакета}\label{sec:load}\label{sec:start}
%
%^^A%   Just now you have loaded the \package{floatrow} package:
%   Теперь вы подключили пакет \package{floatrow}.
%\begin{Quote}
%\begin{preamble}
%|\usepackage{floatrow}|\quad.
%\end{preamble}
%\end{Quote}
%^^A%   In the time, when this package was loaded,
%^^A%   all float contents in the document will be centered (unless another alignment command
%^^A%   appears inside the float contents). All captions appear
%^^A%   below float contents, regardless of how they were typed in source file.
%^^A%   But, I'm almost sure, that you want to put table captions above table material.
%^^A%   If you put in the next line the |\floatsetup| command:
%   Простое задание пакета
%   помещает содержимое каждого флота по центру (если только не задано другого выравнивания
%   внутри содержимого флота). Все подписи независимо от того, где они записаны
%   в~исходном файле, напечатаются снизу. Но я~почти уверена, что табличные заголовки вы захотите
%   поместить сверху табличного материала. Если вы зададите на следующей строке команду |\floatsetup|:
%\begin{Quote}
%\begin{preamble}
%|\usepackage{floatrow}|
%|\|\FRkey[sec]{floatsetup}|[table]{|\FRkey{style}|=plaintop}|\quad,
%\end{preamble}
%\end{Quote}
%^^A%   after that, again, you will get all table captions above table material, regardless of how
%^^A%   they were typed in source file. These first minimal settings will arrange all floats
%^^A%   contents and their captions accordingly to the real typographic rules.
%^^A%   (The {\sectionname}~\ref{sec:floatsetup} describes and demonstrates various layouts,
%^^A%   which you can get with the settings of |\|\FRkey[sec]{floatsetup} command.)
%   то после этого все табличные заголовки, опять же, будут помещены только вверху табличного
%   материала, независимо от того, где вы их набрали. Эти первые минимальные
%   настройки уже разместят содержимое плавающих объектов и~их подписи
%   согласно настоящим типографским правилам. (Раздел~\ref{sec:floatsetup} описывает и~демонстрирует
%   различные оформления, которые можно получить с~помощью настроек команды |\|\FRkey[sec]{floatsetup}.)
%
%^^A%   But surely the settings above are still not sufficient to you, because you need to get
%^^A%   the table caption width equal to the width of table material. Also you may want to put some
%^^A%   figure captions beside graphics. Besides that, it is better to put small floats beside
%^^A%   in one row. For all these reasons this package offers special commands for building of float boxes
%^^A%   and a special environment to put these float boxes beside each other.
%   Но этих настроек будет всё равно недостаточно
%   для тех же таблиц, поскольку табличный заголовок лучше сделать по ширине таблицы.
%   К~тому же у~некоторых рисунков вы захотите поместить подпись сбоку. Помимо этого небольшие
%   рисунки и~таблицы лучше помещать рядом. Для этого созданы команды для построения боксов
%   флотов и~специальное окружение для размещения боксов флотов рядом.
%
%^^A%   \subsubsection{Float Box Commands}\label{sec:intro:flbox}
%   \subsubsection{Команды боксов флотов}\label{sec:intro:flbox}
%^^A%   One of the first macros of this package for creation of float boxes
%^^A%   is a macro which builds contents of the table environment with caption
%^^A%   above (|\|\FRkey[FB]{ttabbox}). The width of caption equals to the width of contents, e.g.
%^^A%   of tabular (see table~\ref{intro:table}). Let's look at the first example with plain \LaTeX{}
%^^A%   layout---the \package{caption} and \package{floatrow} packages loaded without package setting options;
%^^A%   the options at the end of |\usepackage| command define dates of package versions
%^^A%   which support correct work of this tandem.)%^^A
%^^A%   \FRmpar{Caption above table object}{FAD:CaptionAbove}%^^A
%   Одной из первых макрокоманд этого пакета для создания бокса плавающего объекта (флота),
%   является команда, которая печатает содержимое таблицы с~табличным заголовком
%   сверху (|\|\FRkey[FB]{ttabbox}). Ширина заголовка равна ширине содержимого, здесь \cdash--- табличного
%   материала (см.~табл.~\ref{intro:table}). (Первый пример создан
%   с~оформлением стандартного \LaTeX'а, пакеты \package{caption}
%   и~\package{floatrow} загружены без опций настроек пакетов; в~дополнительных аргументах в~конце строки
%   |\usepackage| заданы даты версий пакетов, начиная с~которых поддерживается совместная работа
%   на сегодняшний день.)%^^A
%   \relax\FRmpar{Подпись (заголовок) над таблицей}{FAD:CaptionAbove}%^^A
%\begin{Quote}
%\begin{preamble}
%  |\usepackage{caption}[2007/04/11]|
%  |\usepackage{floatrow}[2007/08/24]|
%\end{preamble}
%|\begin{table}|\nopagebreak
%|\|\FRkey[FB]{ttabbox}
%|  {\caption{Таблица ...}\label{...}}|
%|  {\begin{tabular}...\end{tabular}}|\nopagebreak
%|\end{table}|
%\end{Quote}
%\begingroup
%\clearcaptionsetup{table}\clearfloatsetup{table}
%\floatsetup{style=default}\captionsetup{style=default}\def\thead#1{#1}\extrarowheight1pt
%   \begin{table}[H]\jot1.5pt\tabcolsep1.5\tabcolsep
%   \ttabbox
%     {\caption{Таблица с заголовком сверху (\cmd{\ttabbox}) с~оформлением стандартного \LaTeX'а}\label{intro:table}}
%     {\begin{tabular}{|c|c|c|}
%      \hline
%       \thead{First column} & \thead{Second column} & \thead{Third column} \\
%      \hline
%       A & B & C \\
%       D & E & F \\
%      \hline
%      \end{tabular}}
%   \end{table}%^^A
%\endgroup
%
%^^A%   Another command which creates figures---|\|\FRkey[FB]{ffigbox} (figure~\ref{intro:figure})---puts
%^^A%   caption below contents. The default width of caption equals
%^^A%   to the width of text. (In the following example the most popular
%^^A%   layout settings for captions were added.)
%   Другая команда, создающая рисунки \cdash--- |\|\FRkey[FB]{ffigbox} (рис.~\ref{intro:figure}) \cdash---
%   помещает подрисуночную подпись снизу содержимого рисунка. Ширина подписи по умолчанию равна
%   ширине текста. (В~этом примере уже добавлены наиболее популярные настройки оформления
%   для подрисуночной подписи.)
%\begin{Quote}
%\begin{preamble}
%  |\usepackage|{\emphcolor|[font=small,labelfont=bf,labelsep=period,|
%  |      justification=centerlast]|}|{caption}|\vspace{1ex}
%  |\usepackage{floatrow}|
%\end{preamble}
%|\begin{figure}|
%|\|\FRkey[FB]{ffigbox}
%|  {\caption{Простой бокс рисунка...}\label{...}}|
%|  {...}|\nopagebreak
%|\end{figure}|
%\end{Quote}
%\begingroup\floatsetup{style=default}
%   \begin{figure}[H]
%   \ffigbox
%     {\caption[Простой бокс рисунка (\cmd{\ffigbox})]{Простой бокс рисунка
%       с~длинной длинной длинной длинной длинной
%       длинной длинной длинной длинной многострочной подписью}\label{intro:figure}}
%     {\unitlength1.44\unitlength\input{Doll.picture}}
%   \end{figure}\pagebreak[3]%^^A
%\endgroup
%^^A%   The example above shows that a float box, created by
%^^A%   the |\ffigbox| command looks similar to the plain |figure| environment.
%^^A%   But if you set, for example, the option |[\|\FRkey{FBwidth}|]| like below:
%^^A%     \FRmpar{Caption's width equals to object}{FAD:FBwidthI}
%   Из примера выше видно, что бокс флота, созданный по умолчанию командой |\|\FRkey{ffigbox} выглядит так же,
%   как обычное окружение |figure|. Но если, например, задать опцию |[\|\FRkey{FBwidth}|]|,
%     \FRmpar{Ширина подписи равна ширине объекта}{FAD:FBwidthI}
%   как показано ниже:
%\begingroup\allowprelistbreaks[-4]
%\begin{Quote}
%|...|
%|\begin{figure}|\nopagebreak
%|\ffigbox[\|\FRkey[FB]{FBwidth}|]|
%|  {\caption{A figure}\label{...}}|
%|  {...}|
%|\end{figure}|
%\end{Quote}\vspace*{-\intextsep}
%\floatsetup{style=default}
%   \begin{figure}[H]
%   \ffigbox[\FBwidth]
%     {\caption[Простой бокс рисунка по ширине графики (\cmd{\ffigbox})]{Простой бокс рисунка
%       по ширине графики с~длинной длинной длинной
%       многострочной подписью}\label{intro:figure:FBwidth}}
%     {\unitlength1.67\unitlength\input{Horse.picture}}
%   \end{figure}%^^A
%\endgroup
%^^A%   you'll get a~caption width equal to the width of picture
%^^A%   (see figure~\ref{intro:figure:FBwidth}).
%   ширина подписи станет равной ширине графики
%   (см.~рис.~\ref{intro:figure:FBwidth}).
%
%^^A%   The third macro---|\|\FRkey[FB]{fcapside} (figure~\ref{intro:beside})---puts
%^^A%   caption beside. (In the next example the float layout settings were added,
%^^A%   which put captions to the binding margin
%^^A%   and changed value of separation space between caption and object.)
%   Третья макрокоманда \cdash--- |\|\FRkey[FB]{fcapside} (рис.~\ref{intro:beside}) \cdash--- помещает
%   подпись сбоку. (В~следующем примере заданы настройки, помещающие подписи сбоку
%   к~корешковому полю, а~также изменено расстояние от объекта до подписи на |\quad|.)
%\begin{Quote}
%\begin{preamble}
%|...|
%  |\usepackage|{\emphcolor|[|%^^A
%       \FRkey{capbesideposition}|=inside,|
%  |    |\FRkey{facing}|=yes,|\FRkey{capbesidesep}|=quad]|}|{floatrow}|
%\end{preamble}
%|\begin{figure}|
%|\|\FRkey[FB]{fcapside}
%|  {\caption[...]{...}\label{...}}|
%|  {...}|
%|\end{figure}|
%\end{Quote}
%\begingroup
%\begingroup\floatsetup{style=default,capbesideposition=inside,facing=yes,capbesidesep=quad}%
%\clearcaptionsetup{capbesidefigure}
%   \begin{figure}[H]
%   \fcapside
%   {\caption[Бокс рисунка с~подписью сбоку (ширина равна одной «колонке»)]{Подпись рядом,
%   (ширина подписи равна ширине объекта) и~ещё текст, и~ещё немного текста,
%   и~ещё чуть-чуть текста, и~уже совсем немного текста, и~уж совсем
%   небольшой текст, чтобы только заполнить
%   место}\label{intro:beside}}
%   {{\setlength\unitlength{3.68cm/100}%^^A
%   \input{Bear.picture}}}
%   \end{figure}
%\endgroup
%^^A%   The width of text,
%^^A%   by default, divided into two columns, their width equals to the half text width
%^^A%   (figure~\ref{intro:beside}) float margins and
%^^A%   horizontal space (or width of the separation material) between float and caption are taken into account.
%^^A%   The one column is occupied by the object, the other by the caption and foot material (explications
%^^A%   or legends and footnotes).
%   Ширина текста по умолчанию делится
%   на две «колонки» (рис.~\ref{intro:beside}), с~учётом
%   полей вокруг бокса и~расстояния (или ширины разделительного материала)
%   между объектом и~подписью. В~одну из колонок помещается рисунок,
%   в~другую \cdash--- подпись (а~также сноски и~экспликации).
%
%^^A%   If you set the |[\FBwidth]| option:
%^^A%     \FRmpar{The width of object box equals to object}{FAD:FBwidthII}
%   Если задать опцию |[\FBwidth]|:
%     \FRmpar{Ширина бокса для объекта равна ширине объекта}{FAD:FBwidthII}
%\begin{Quote}
%|...|
%|\fcapside[\FBwidth]|
%|...|
%\end{Quote}
%\begingroup
%\begingroup\floatsetup{style=default,capbesideposition=inside,facing=yes,capbesidesep=quad}%
%\clearcaptionsetup{capbesidefigure}
%   \begin{figure}[H]
%   \fcapside[\FBwidth]
%   {\caption[Бокс флота с~подписью сбоку (занимает оставшееся место от заданной ширины)]{Подпись сбоку
%   (подпись занимает всё оставшееся место рядом с~рисунком) и~ещё текст, и~ещё немного текста,
%   и~ещё чуть-чуть текста, и~уже совсем немного текста, и~уж совсем
%   небольшой текст, чтобы только заполнить
%   место}\label{intro:beside:FBwidth}}
%   {{\setlength\unitlength{3.68cm/100}%^^A
%   \input{Bear.picture}}}
%   \end{figure}
%\endgroup
%^^A%   the graphic box width will be equal to the width of the  graphics and the caption
%^^A%   will occupy the rest space (see figure~\ref{intro:beside:FBwidth}).
%   ширина «колонки» (бокса) для графики станет равной её натуральной ширине,
%   а~подпись займёт оставшееся место (см.~рис.~\ref{intro:beside:FBwidth}).
%
%^^A%   The examples above show the most frequent and most simple variants of float creation. Read
%^^A%   {\sectionname}~\ref{sec:floatbox} about usage of these commands in different ways
%^^A%   and how to create new commands for float creation.
%   Примеры выше показали наиболее частые и~простые варианты создания боксов флотов. О~том
%   как ещё можно использовать эти команды и~как создать свои собственные для построения флотов, читайте
%   {\sectionname}~\ref{sec:floatbox}.
%
%^^A%   \subsubsection{Float Boxes In The Row}\label{sec:intro:flrow}
%   \subsubsection{Боксы флотов рядом}\label{sec:intro:flrow}
%^^A%   If you need to put two or more floats of one type side by side,%^^A
%^^A%   \FRmpar{Floats of one type\\ side by side}{FAD:floatrow}
%^^A%   you may use the |floatrow| environment.
%   Если вам нужно поместить два или более флотов рядом,%^^A
%   \FRmpar{Флоты одного типа рядом}{FAD:floatrow}
%   вы можете воспользоваться окружением |floatrow|.
%
%\begin{Quote}
%\begin{preamble}
%  {\emphcolor %^^A
%  |\DeclareCaptionLabelFormat{rightline}{\rightline|
%  |         {\bothIfFirst{#1}{ }#2}}|
%  |\captionsetup[table]{labelformat=rightline,labelsep=newline,|\nopagebreak
%  |      labelfont={md,sl},textfont=bf}|}\vspace{1ex}
%  |\usepackage[|{\emphcolor\FRkey{font}|=small,|%^^A
%       \FRkey{floatrowsep}|=qquad,|\FRkey{captionskip}|=5pt|}|]{floatrow}|\nopagebreak
%  |\|\FRkey[sec]{floatsetup}|[table]{|%^^A
%       {\emphcolor\FRkey{style}|=Plaintop|}|}|
%\end{preamble}
%|\begin{table}|
%| \begin{|\FRkey[sec]{floatrow}|}|
%|  \|\FRkey[FB]{ttabbox}
%|    {\caption{...}\label{...}}|
%|    {...}|
%| |
%|  \ttabbox|
%|    {\caption{...}\label{...}}|
%|    {...}|
%| \end{floatrow}|
%|\end{table}|
%\end{Quote}
%   \DeleteShortVerb{\|}%
%   \begin{table}[H]
%   \begin{floatrow}
%   \extrarowheight1pt\tabcolsep2\tabcolsep
%   \ttabbox
%    {\caption[Первая таблица в~ряду, длинный заголовок]%^^A
%     {Первая таблица в~ряду с~длинным, длинным, длинным длиннющим заголовком и~выровненным по верху}%^^A
%     \label{tab:row:tabIII}}%^^A
%    {\begin{tabular}{|l|>{\phantom0}c|>{\phantom0}c|}
%     \hline
%     \multirowthead{2}[-1ex]{Left Column Head}
%                  & \multicolumn{2}{c|}{\thead{Data}} \\
%                  \cline{2-3}
%                  & \multicolumn{1}{c|}{\thead{I}}
%                              & \multicolumn{1}{c|}{\thead{II}}
%     \\\hline
%     First row    &         1 &         2 \\
%     Second row   &         3 &         4 \\
%     Third row    &         6 &         8 \\
%     Fourth row   & \llap{1}0 & \llap{1}6 \\
%     \hline
%   \end{tabular}}
%
%   \ttabbox
%    {\caption{Вторая таблица в~ряду, заголовок выровнен по верхней строке}\label{tab:row:tabIV}}%^^A
%    {\begin{tabular}{|l|c|c|c|}
%     \hline
%     \multirowthead{2}[-1ex]{Column Head}
%                  & \multicolumn{3}{c|}{\thead{Data}} \\
%                  \cline{2-4}
%                  & \thead{I}      & \thead{II}      & \thead{III}        \\
%     \hline
%     First row    & 1      & 2       & \phantom01 \\
%     Second row   & 3      & 4       & \phantom06 \\
%     Third row    & 6      & 8       &         28 \\
%     \hline
%   \end{tabular}}
%   \end{floatrow}
%   \end{table}
%   \MakeShortVerb{\|}%
%^^A%   As you see in the example with tables \ref{tab:row:tabIII} and~\ref{tab:row:tabIV},
%^^A%   you \emph{need} to use commands |\ttabbox|, which build box for each table.
%   Как видно из примера с~таблицами \ref{tab:row:tabIII} и~\ref{tab:row:tabIV},
%   внутри окружения \emph{обязательно} используются команды |\ttabbox|, строящие боксы для
%   каждого флота таблицы.
%
%^^A%   In the example with beside floats the special settings for table captions were applied
%^^A%   (see \package{caption} package documentation).
%^^A%   Float layout: The value of the separation space between beside floats have been changed to |\qquad|,
%^^A%   the vertical skip between captions and float objects was changed to 5pt. For the tables
%^^A%   the style |Plaintop| was used which not only puts captions above, but also aligns them by top line
%^^A%   (see \sectionname~\ref{sec:floatsetup} of current documentation).
%   В~примере с~флотами рядом были заданы специальные настройки для табличных заголовков
%   (такие настройки часто используются в~русской технической литературе;
%   см.~подробнее о~вариантах настроек документацию к~пакету \package{caption}). В~оформлении
%   флотов изменено расстояние между флотами рядом на~|\qquad|, также изменена отбивка подписи/заголовка
%   от объекта на~5pt.
%   Для таблиц используется стиль, который не только помещает табличный заголовок сверху, но
%   и~выравнивает заголовки по верху у~флотов рядом (см.~разд.~\ref{sec:floatsetup} данной документации).
%
%^^A%   \subsection{Do not write that with \package{floatrow} package}\label{floatrow:wrong}
%   \subsection{Это не допускается пакетом \package{floatrow}}\label{floatrow:wrong}
%\begingroup
%^^A%   The \package{floatrow} package offers many features, and it causing some limitations
%^^A%   for writing code of float contents in source file, too. If you'll write something like
%   Пакет \package{floatrow} создаёт некоторые особенности и~ограничения
%   в~записи содержимого плавающих объектов в~исходном файле. Если вы запишете:
%\begin{Quote}
%\begin{preamble}
%|\usepackage{floatrow}|
%\end{preamble}
%|\begin{table}|
%|  \caption{Табличный заголовок должен быть вверху ...}|
%|  \centering \begin{tabular}{cc} A & B  \\ C & D \end{tabular}|
%|\end{table}|
%\end{Quote}
%^^A%   please do not expect that the caption appears at the top of table:
%   не ждите что подрисуночная подпись получится сверху таблицы:
%
%   \begingroup\clearfloatsetup{table}
%   \begin{table}[H]
%   \caption{Табличный заголовок должен быть вверху, но это не так}\label{Wrong:expect}
%   \centering \begin{tabular}{cc} A & B  \\ C & D \end{tabular}
%   \end{table}
%   \endgroup
%
%^^A%   So if you want to put table captions above its contents\startNotes
%^^A%   \Note change code, using command |\ttabbox|,
%^^A%   like in table~\ref{intro:table}; \Note
%^^A%   write |\|\FRkey[sec]{floatsetup}|[table]|\allowbreak|{|\FRkey{style}|=plaintop}| in the preamble
%^^A%   ({\sectionname}~\ref{sec:floatsetup}); or
%^^A%   \Note restore the standard \LaTeX{} behavior with the |\|\FRkey{RawFloats} command
%^^A%   or the package option \FRkey{rawfloats} ({\sectionname}~\ref{sec:rawfloats}).
%   Итак, если вы хотите поместить табличные заголовки сверху\startNotes
%   \Note перепишите код, используя команду
%   |\ttabbox|, как в~табл.~\ref{intro:table}; \Note задайте
%   в~преамбуле |\|\FRkey[sec]{floatsetup}|[figure]|\allowbreak|{|\FRkey{style}|=plaintop}|
%   ({\sectionname}~\ref{sec:floatsetup});
%   \Note или, для вывода флотов в~режиме стандартного \LaTeX'а,
%   задайте команду |\|\FRkey{RawFloats}, или включите опцию пакета
%   \FRkey{rawfloats}, ({\sectionname}~\ref{sec:rawfloats}).
%
%^^A%   The next example. If you put beside floats by following way:
%   Ещё пример. Если вы поместите плавающие объекты как записано ниже:
%\par\nobreak\vbox{\begin{Quote}
%|...|\nopagebreak
%|\begin{figure}|\nopagebreak
%|\begin{minipage}{0.45\textwidth}|
%|  \centering ...|
%|  \caption{Пропавшая подрисуночная подпись, ...}|
%|\end{minipage}\hfill|
%|\begin{minipage}{0.45\textwidth}|
%|  \captionof{table}{Остался табличный заголовок, ...}}|
%|  \centering ...|
%|\end{minipage}|\nopagebreak
%|\end{figure}|
%\end{Quote}}\noindent
%^^A%   you'll get error message about lost caption.
%    вы получите сообщение об ошибке, что потеряна подпись.
%^^A%   Here you may:\startNotes\Note
%^^A%   to put table contents inside |\|\FRkey[FB]{ttabbox} resp.\ the figure contents inside
%^^A%   |\|\FRkey[FB]{ffigbox}; then both floats put inside \FRkey[sec]{floatrow} environment, and, since
%^^A%   there is mixed row (it includes floats of different types, and also with different caption position),
%^^A%   put the |\|\FRkey{killfloatstyle} command before ``foreign'' float |\ttabbox|, and
%^^A%   |\|\FRkey[FB]{CenterFloatBoxes} command before |floatrow| environment
%^^A%   (see~{\sectionname}~\ref{sec:mixrow} about mixed rows); or \Note
%^^A%   to restore the standard \LaTeX{} behavior, using command |\|\FRkey{RawFloats}
%^^A%   or package option  \FRkey{rawfloats} ({\sectionname}~\ref{sec:rawfloats}).
%   Здесь можно:\startNotes\Note поместить таблицу
%   в~|\|\FRkey[FB]{ttabbox}, а~рисунок \cdash--- в~|\|\FRkey[FB]{ffigbox}, затем оба флота
%   \cdash--- в~окружение \FRkey[sec]{floatrow}, и, поскольку это смешанный ряд (состоящий
%   из флотов разных типов, при этом ещё и~с~разным размещением подрисуночной подписи),
%   задать команду |\|\FRkey{killfloatstyle}, в~данном случае, перед «чужой» командой |\ttabbox|
%   и~команду |\|\FRkey[FB]{CenterFloatBoxes} перед окружением
%   (см.~{\sectionname}~\ref{sec:mixrow} о~смешанных рядах) или \Note
%   восстановить режим стандартного \LaTeX'а с~помощью команды |\|\FRkey{RawFloats} или опции пакета
%   \FRkey{rawfloats} ({\sectionname}~\ref{sec:rawfloats}).
%
%\endgroup
%\clearpage
%^^A%   \section{Macros for Building Floats}
%   \section{Макрокоманды для построения флотов}
%^^A%   \FRorisubsection{The Floatbox Macro}\label{sec:floatbox}
%   \FRorisubsection{Макрокоманда \texorpdfstring{\cs{floatbox}}{floatbox}}\label{sec:floatbox}
%
%   \DescribeMacro{\floatbox}
%^^A%   The examples in Introduction ({\sectionname}~\ref{sec:intro:flbox})
%^^A%   use three commands |\ttabbox|, |\ffigbox| and |\fcapside|. All these commands
%^^A%   were built using the |\floatbox| macro.
%^^A%   This macro creates the float box with defined positioning of its elements (object,
%^^A%   caption, foot material) and applies the layout of current float type.
%^^A%   The usage of the |\floatbox| macro looks like:
%   Во введении ({\sectionname}~\ref{sec:intro:flbox}) показаны примеры трёх команд
%   |\ttabbox|, |\ffigbox| и~|\fcapside|. Все они созданы
%   на основе |\floatbox|. Эта команда создаёт бокс флота с~определённым размещением
%   его элементов (объекта, подписи, дополнительного материала) и~применяет оформление
%   текущего типа флота.  Итак, |\floatbox| задаётся следующим образом:
%   \begin{Quote}
%   |\floatbox|\oarg{preamble}\marg{captype}\oarg{width}\oarg{height}\oarg{vert pos}
%   |         |\marg{caption}\marg{object}
%   \end{Quote}%^^A
%^^A%   where\label{floatboxsets}:
%   Аргументы |\floatbox|\label{floatboxsets}:
%   \begin{description}\itemsep0pt
%^^A%   \item[\meta{preamble}]there could be |\capbeside|\label{FB:capbeside} command which
%^^A%     places caption beside float contents;
%^^A%     |\nocapbeside|\label{FB:nocapbeside}
%^^A%     (to put caption above/below, accordingly
%^^A%     to float type's style);
%^^A%     |\captop|\label{FB:captop}
%^^A%     (to put caption above);
%^^A%     or another systematic command
%^^A%     (even with usage of |\captionsetup|
%^^A%     and |\|\FRkey{thisfloatsetup},
%^^A%     see examples in documentation and appendix).
%   \item[\meta{preamble}]здесь могут быть такие команды, как
%     |\capbeside|\label{FB:capbeside}, которая размещает подписи сбоку объекта;
%     |\nocapbeside|\label{FB:nocapbeside} (размещает подписи сверху/снизу, в~зависимости
%     от настроек стиля);
%     |\captop|\label{FB:captop} (размещает подписи сверху);
%     или другая повторяющаяся команда
%     (даже возможно использование настроек |\captionsetup|
%     и~|\|\FRkey{thisfloatsetup} "---
%     см. примеры в~документации и~приложении).
%^^A%   \item[\meta{captype}]the type of float this command is created for. Since this command
%^^A%     is supposed to appear outside floating environments or in ``foreign'' environments
%^^A%     (see {\sectionname}~\ref{sec:mixrow} below),
%^^A%     we write here, usually, the \emph{actual} name of float type;
%   \item[\meta{captype}]тип флота, для которого строится оформление. Поскольку эту команду
%     бокса флота предполагается использовать и~вне окружений флота и~в~«чужом» окружении
%     (см.~{\sectionname}~\ref{sec:mixrow} ниже), здесь обычно задаётся \emph{реальное} имя типа флота;
%^^A%   \item[\meta{width}]the width of object---caption box
%^^A%     (in case of caption above or below object),
%^^A%     or width of object box (if caption stays beside object).
%^^A%     The empty width option, |[]|, and option |[\hsize]| mean the same;
%   \item[\meta{width}]ширина бокса флота целиком
%     (если подпись сверху или снизу объекта),
%     или ширина бокса объекта (если подпись сбоку).
%     Пустая опция задания ширины, |[]|, и~опция |[\hsize]| \cdash--- одно и~то же;
%^^A%   \item[\meta{height}]the height of object---caption box
%^^A%     (in case of caption above or below object),
%^^A%     or height of object box (if caption stays beside object). With the empty height
%^^A%     option, |[]|, is used the natural height of object;
%   \item[\meta{height}]высота бокса флота
%     (если подпись сверху или снизу),
%     или высота бокса объекта (если подпись сбоку). При пустой опции задания высоты, |[]|,
%     используется натуральная высота объекта (бокса);
%^^A%   \item[\meta{vert pos}]vertical alignment of object contents in
%^^A%     object's box in case of the \meta{height} argument differs from the natural value of
%^^A%     object height, or in the float layout there are used settings
%^^A%     for common (max) height for float objects inside |floatrow| environment.
%^^A%     Arguments are analogous to |minipage|'s ones:
%   \item[\meta{vert pos}]вертикальное выравнивание содержимого
%     объекта в~боксе в~случае, если аргумент \meta{height} имеет
%     величину, отличную от натуральной высоты объекта, или флот помещён
%     в~окружение |floatrow| с~настройками, задающими использование одинаковой (максимальной)
%     высоты для боксов объектов.
%     Аргументы аналогичны используемым в~окружении |minipage|:
%   \begin{Options}{cc}\samepage
%     \item[t]
%^^A%     aligns objects by top line;
%     выравнивает объекты по верхней линии;
%     \item[c]
%^^A%     aligns objects by center line;
%     выравнивает объекты по средней линии;
%     \item[b]
%^^A%     aligns objects by bottom line;
%     выравнивает объекты по нижней линии;
%     \item[s]
%^^A%     stretches objects by full height (if it is possible).
%     растягивает объекты на всю высоту (если возможно).\vspace*{-.5\baselineskip}
%   \end{Options}
%^^A%   \item[\meta{caption}]text of caption; you
%^^A%     may also use the |\footnote|/\allowbreak|\mpfootnotemark|/\allowbreak|\footnotetext| stuff
%^^A%     for footnotes inside float, and/or |\floatfoot| command;
%   \item[\meta{caption}]подпись; здесь можно также использовать
%     команды создания сносок
%     |\footnote|/\allowbreak|\mpfootnotemark|/%^^A
%     \allowbreak|\footnotetext|
%     для сносок внутри флота, и/или команду |\floatfoot|;
%^^A%   \item[\meta{object}]contents of float; you may also use the
%^^A%     |\footnote|/\allowbreak|\mpfootnotemark|/\allowbreak|\footnotetext| stuff and/or
%^^A%     |\floatfoot| command.
%   \item[\meta{object}]содержимое флота; здесь можно также
%     использовать команды
%     |\footnote|/\allowbreak|\mpfootnotemark|/%^^A
%     \allowbreak|\footnotetext|
%     и/или |\floatfoot|.
%   \end{description}
%^^A%   \emph{Note}. The order of the two last mandatory arguments,
%^^A%     \meta{caption} and \meta{object}, and their contents makes no
%^^A%     difference during building of float box. The |\floatbox| macro
%^^A%     historically needs two mandatory arguments, but they could
%^^A%     be filled freely, i.e. you may fill only one mandatory argument with object contents, caption etc.
%^^A%     and left another one empty.
%   \emph{Примечание}. Порядок обязательных аргументов,
%     \meta{caption} и~\meta{object}, и~их содержимое не имеет значения
%     для построения флота. Команда |\floatbox| исторически требует
%     два обязательных аргумента, но они могут быть заполнены как
%     угодно, т.\,е. можно записать в~один аргумент и~содержимое объекта, и~подпись и~т.\,д.,
%     оставив другой пустым.\par
%
%^^A%       \subsubsection{Float box width equals to the width of object contents.}
%     \subsubsection{Ширина бокса флота соответствует ширине содержимого (объекта).}
%   \DescribeMacro{\FBwidth}\label{FB:FBwidth}%^^A
%^^A%   The |[\FBwidth]| option%^^A
%^^A%   \FRmpar{Caption's width\\ equals to object}{FAD:FBwidthIII}
%^^A%   in~the \meta{width} argument
%^^A%   allows usage of natural width of float contents:\startNotes\Note
%^^A%   for full float box in the case of caption
%^^A%   above/\allowbreak below; \Note  in~the case of caption beside float object,
%^^A%   the natural width of float object expands to the
%^^A%   object box only.
%     Опция |[\FBwidth]|%^^A
%     \FRmpar{Ширина подписи\texorpdfstring{\\}{} по ширине объекта}{FAD:FBwidthIII}
%     в~аргументе \meta{width}
%     позволяет использовать натуральную ширину объекта:\startNotes\Note
%     для задания ширины всему боксу
%     с~подписью сверху/снизу; \Note для задания ширины только самому объекту,
%     если подпись размещается сбоку объекта.
%
%   \RestoreSpaces
%^^A%   \emph{Note}. If you use the \verb|\FBwidth| command in the
%^^A%   optional argument \meta{width}, please get sure that object contents can be placed
%^^A%   in |\hbox| command. (You only allowed to use |\vspace| (not |\vskip|!)
%^^A%   command at the very
%^^A%   beginning and very end of object contents for fine tuning
%     \emph{Замечание}. При использовании \verb|\FBwidth|
%     в~аргументе \meta{width}, вы должны быть уверены, что
%     содержимое объекта может быть помещено внутри |\hbox|
%     (вы можете воспользоваться командой |\vspace| (но не |\vskip|!) в~начале
%     и/или в~конце содержимого объекта для корректировки
%     вертикальных отбивок).\medskip
%
%   \DescribeMacro{\FBheight}\label{FB:FBheight}%^^A
%^^A%   The similar command, |[\FBheight]|, was
%^^A%   created for the \meta{height} argument. The usage of this command makes sense, e.g.,
%^^A%   when \package{calc} is loaded: you may define height option like |[\FBheight+1cm]|.
%   Аналогичная команда, |[\FBheight]|\label{FB:FBheight},
%   создана для аргумента \meta{height}. Использование этой команды имеет смысл, например.
%   если используется пакет \package{calc}: можно задать высоту в~виде |[\FBheight+1cm]|.
%
%   \RestoreSpaces
%^^A%   \subsubsection{Complex example of usage of \cmd{\floatbox} command}
%   \subsubsection{Сложный пример использования команды \texorpdfstring{\cs{floatbox}}{floatbox}}
%
%^^A%   The next example shows |figure| environment with beside left caption.
%^^A%   In this example the \meta{preamble} argument consists of rather complex definition.
%^^A%   The \meta{width} option includes the |\FBwidth| command, so the object box
%^^A%   has its natural width, the with of caption box equals to 4cm, and  all lines in
%^^A%   caption justified, but the last one flushed to the right.
%   Следующий пример показывает окружение |figure| где подпись
%   задана сбоку слева. В~этом примере используется сложное определение
%   в~аргументе \meta{preamble}. В~аргументе
%   \meta{width} задана команда |\FBwidth|, следовательно бокс объекта имеет натуральную ширину,
%   для подписи определена ширина 4~сантиметра, выключка текста подписи на заданный формат
%   последняя строка прибивается к~правому краю.
%
%\begin{Quote}
%|\begin{figure}|
%\begin{preamble}
%|\newcommand\rightlast{\leftskip0ptplus1fil|
%|  \rightskip0ptplus-1fil\parfillskip0ptplus1fil}|
%|\DeclareCaptionJustification{rightlast}{\rightlast}|
%\end{preamble}
%|\floatbox[{\capbeside|
%|     \captionsetup[capbesidefigure]{labelsep=newline,|
%|          justification=rightlast}%|
%|     \|\FRkey{thisfloatsetup}%^^A
%       |{|\FRkey{capbesideposition}|={left,center},|
%|      |\FRkey{capbesidewidth}|=4cm}}]{figure}[\FBwidth]|
%|  {\caption{...}\label{...}}|
%|  {...}|
%|\end{figure}|
%\end{Quote}
%   \begin{figure}[H]
%   \floatbox[{\capbeside
%     \captionsetup[capbesidefigure]{labelsep=newline,
%          justification=rightlast}%
%     \thisfloatsetup{capbesideposition={left,center},capbesidewidth=4cm}}]{figure}[\FBwidth]
%   {\caption[Подпись сбоку (пример со сложной преамбулой в~аргументе \cmd{\floatbox})]%^^A
%       {Подпись сбоку и~ещё текст, и~ещё немного текста,
%   и~уж совсем
%   небольшой текст, чтобы только заполнить
%   место}\label{fig:beside:mouse}}
%   {{\setlength\unitlength{4cm/58}%^^A
%   \input{Mouse.picture}}}
%   \end{figure}
%^^A%   Please note that complex preamble options, which contain more than one command, must be placed
%^^A%   inside curly braces. (See {\sectionname}~\ref{sec:floatsetup} about settings for floats
%^^A%   with |\floatsetup|.)
%   Обратите внимание, что опция преамбулы, содержащая более одной команды, должна быть заключена
%   в~фигурные скобки.
%   (О создании настроек для флотов командой |\floatsetup| см.~{\sectionname}~\ref{sec:floatsetup})
%
%^^A%   \subsection{Creation of Personal Commands for Float Boxes}\label{ssec:ffigbox:etc}
%   \subsection{Создание персональных команд для флотов}\label{ssec:ffigbox:etc}
%
%^^A%   The usage of |\floatbox| command  with options (which could be cumbersome)
%^^A%   is sometimes rather complex.
%^^A%   The Introduction demonstrates the three already defined commands-abbreviations of this command.
%^^A%   You may define commands-abbreviations (or redefine existing) for your own purposes and
%^^A%   include  some additional style definitions and settings there.
%   Использование в~документе команды |\floatbox| с~громоздкими опциями, в~свою очередь, тоже получается
%   громоздким. Во введении демонстрируются примеры с~определёнными уже тремя её командами"=сокращениями.
%   Вы можете определить собственные команды для ваших целей
%   и~определить там необходимые настройки или переопределить уже существующие.
%
%   \DescribeMacro{\newfloatcommand}\label{FB:newfloatcommand}%^^A
%   \DescribeMacro{\renewfloatcommand}\label{FB:renewfloatcommand}%^^A
%^^A%   The definition of new float abbreviation looks like:
%   Определение пользовательской команды выглядит следующим образом:%^^A
%   \begin{quote}
%   |\newfloatcommand|\marg{command}%^^A\\\strut\qquad
%   \marg{captype}\oarg{preamble}\oarg{default width}
%   \end{quote}
%   где:
%   \begin{description}
%^^A%   \item[\meta{command}]the user's command name (without backslash);
%   \item[\meta{command}]команда пользователя (без обратного слэша);
%^^A%   \item[\meta{captype}]the name of floating environment
%^^A%     this command is created for;
%   \item[\meta{captype}]тип флота, для которого создаётся команда;
%^^A%   \item[\meta{preamble}]
%^^A%     you may use commands, mentioned in page~\pageref{floatboxsets}
%^^A%     and other layout commands, like was shown in examples;
%^^A%     you may try to add any other regular command (e.g. |\captionsetup|
%^^A%     or |\thisfloatsetup| stuff);
%   \item[\meta{preamble}]
%     вы можете использовать команды, перечисленные на
%     с.~\pageref{floatboxsets}
%     и~другие команды оформления, как показано в~примерах;
%     можно также попробовать использовать некоторые другие
%     повторяющиеся команды (например,
%     |\captionsetup| или |\thisfloatsetup|);
%^^A%   \item[\meta{default width}]the main purpose of this optional argument is
%^^A%     setting it to |\FBwidth|, which is already included in definition of |\ttabbox|---the command for
%^^A%     building tables. You may also use any dimensions like |6cm| or |\textwidth| here.
%   \item[\meta{default width}] основной повод использования этой опции \cdash---
%     задание команды |\FBwidth|, которая используется в~команде |\ttabbox| для создания таблиц.
%     Вы можете также задать и~величины типа |6cm| или |\textwidth|.
%   \end{description}
%
%^^A%   For example you may define command for figure~\ref{fig:beside:mouse}
%^^A%   like following:
%   Например, для рис.~\ref{fig:beside:mouse},
%   можно определить следующую команду:
%\begin{Quote}%
%|\newfloatcommand{fcapbesideleft}[{\capbeside|
%|     \captionsetup[capbesidefigure]{labelsep=newline,|
%|          justification=rightlast}%|
%|     \|\FRkey{thisfloatsetup}%^^A
%       |{|\FRkey{capbesideposition}|={left,center},|
%|      |\FRkey{capbesidewidth}|=4cm}}][\FBwidth]|
%\end{Quote}
%
%^^A%   \subsubsection{Usage of Personal float box commands}
%   \subsubsection{Использование персональных команд для флотов}
%^^A%   Your defined commands can be used in the following way (example for |\ffigbox|):
%   Созданные вами команды можно использовать следующим образом
%   (на примере |\ffigbox|):
%   \begin{Quote}
%   |\ffigbox|\oarg{width}\oarg{height}\oarg{vert pos}\marg{caption}\marg{object}
%   \end{Quote}
%^^A%   where the options are:
%   где опции означают:
%   \begin{description}\itemsep0pt\parskip1ptplus1pt
%   \item[\meta{width}]
%^^A%     the width of object---caption box
%^^A%     (in case of caption above or below object),
%^^A%     or width of object box (if caption stays beside object).
%^^A%     The empty width option, |[]|, and option |[\hsize]| mean the same. The |[\FBwidth]|
%^^A%     option sets natural object width;
%     ширина бокса объект---подпись
%     (если подпись сверху или снизу),
%     или ширина объекта (если подпись сбоку).
%     Пустая опция, |[]|, и~опция |[\hsize]| означают одно и~то же. Опция |[\FBwidth]|
%     определяет натуральную ширину объекта;
%   \item[\meta{height}]
%^^A%     the height of object---caption box
%^^A%     (in case of caption above or below object),
%^^A%     or height of object box (if caption stays beside object). The |[\FBheight]|
%^^A%     option sets natural object height. With the empty height option, |[]|, is used
%^^A%     the natural height of object;
%     высота бокса объект---подпись
%     (если подпись сверху или снизу),
%     или высота объекта (если подпись сбоку). Опция |[\FBheight]|
%     определяет натуральную высоту объекта. При пустой опции задания высоты, |[]|,
%     используется натуральная высота объекта (бокса);
%   \item[\meta{vert pos}]
%^^A%     vertical alignment of object contents in
%^^A%     object's box in the case of \meta{height} argument has a~different value than
%^^A%     natural height of object contents, or in the float layout there are used settings for common (max)
%^^A%     heights of float elements (object or/and caption) inside |floatrow| environment.
%^^A%     Arguments are analogous to |minipage|'s:
%^^A%      |t|, |c|, |b|, |s| (see above).
%     вертикальное выравнивание содержимого объекта в~боксе
%     если в~аргументе \meta{height} задано отличное (от натуральной) значение высоты
%     объекта, или флот помещён
%     в~окружение |floatrow| с~настройками, задающими использование общей (максимальной) высоты
%     элементов флота (объекта и~подписи).
%     Аргументы аналогичны используемым в~окружении  |minipage|:
%     |t|, |c|, |b|, |s| (см.~выше).
%   \end{description}
%^^A%   See examples with usage of all options on the page~\pageref{fig:rotrow:FcatI} and in Appendix.
%   См.~пример с~использованием всех опций на с.~\pageref{fig:rotrow:FcatI} и~в~приложении.
%
%^^A%   \subsubsection{Predefined float box commands}
%   \subsubsection{Предопределённые команды боксов флотов}
%^^A%   Let's repeat three already defined commands-abbreviations, defined in package:\label{abbrcom}%^^A
%   Повторим определения следующих пользовательских команд, заданных в~пакете:\label{abbrcom}
%   \begin{Quote}
%   |\newfloatcommand{ffigbox}{figure}[\nocapbeside]|\label{FB:ffigbox}\nopagebreak
%   |\newfloatcommand{fcapside}{figure}[\capbeside]|\label{FB:fcapside}\nopagebreak
%   |\newfloatcommand{ttabbox}{table}[\captop][\FBwidth]|\label{FB:ttabbox}
%   \end{Quote}
%^^A%   You may see that these commands-abbreviations are equivalent to the following code:
%   Можно увидеть, что команды"=сокращения эквивалентны следующему коду:
%   \begin{Options}{fcapside}
%   \item[\cmd\ttabbox]---|\floatbox[\captop]{table}[\FBwidth]|;
%   \item[\cmd\ffigbox]---|\floatbox{figure}| (простейшее определение); и
%   \item[\cmd\fcapside]---|\floatbox|\allowbreak|[\capbeside]{figure}|.
%   \end{Options}%
%^^A%   The first two are defined for figures, and the third one for tables. You may
%^^A%   redefine existing macros using |\renewfloatcommand| command (it uses
%^^A%   the same arguments as |\newfloatcommand| one).
%   Первые две определены для рисунков, а~последняя \cdash--- для таблицы.
%   Вы можете переопределить эти команды, используя команду
%   |\renewfloatcommand| (она использует те же
%   аргументы, что и~|\newfloatcommand|).\medskip
%
%^^A%   \emph{Note}. In the documentation text below the name of the |\floatbox| command means
%^^A%   both itself and all commands-abbreviations, defined with |\(re)newfloatcommand|.
%   \emph{Примечание}. В~дальнейшем упоминание команды |\floatbox| будет означать как саму команду,
%   так и~все её команды"=сокращения, определённые с~помощью |\(re)newfloatcommand|.
%
%\begin{small}
%
%^^A%   \medskip\emph{Some explanation}. The strange ``stammering'' names of float boxes,
%^^A%   with doubled first letters, |\ffigbox| and |\ttabbox| were created, because of the
%^^A%   expected names, |\figbox| and |\tabbox|, are already used by the \package{floatflt}
%^^A%   package, which creates figures and tables which do not span the full width of a page and
%^^A%   are filled around by text (i.e. \emph{wrapped} floats, see {\sectionname}~\ref{ssec:floatflt} on the
%^^A%   page~\pageref{ssec:floatflt}). Also there were founded |\figbox| in \package{formlett}
%^^A%   package and |\tabbox| in \package{automata} package among styles in \LaTeX{} folder.
%   \medskip\emph{Объяснительная}. Такие странные «заикающиеся» имена боксов флотов,
%   с~двойными первыми буквами, |\ffigbox| и~|\ttabbox| были созданы потому, что ожидаемые
%   здесь названия, |\figbox| и~|\tabbox|, уже используются пакетом \package{floatflt},
%   создающим небольшие рисунки с~обтеканием текста (т.\,е. \emph{в~оборку},
%   см.~{\sectionname}~\ref{ssec:floatflt} на
%   с.~\pageref{ssec:floatflt}). Также, среди стилей \LaTeX'а была
%   обнаружена команда |\figbox| в~пакете \package{formlett}
%   и~|\tabbox| \cdash--- в~пакете \package{automata}.
%
%\end{small}
%
%^^A%   \subsection{Building Float Row}\label{sec:floatrow}
%   \subsection{Размещение флотов рядом}\label{sec:floatrow}
%^^A%   The |floatrow| environment allows to put two or more floats beside. The usage of it looks like:
%   Окружение |floatrow| позволяет разместить два или несколько флотов рядом.
%   Использование его выглядит следующим образом:
%   \begin{Quote}
%   |\begin{floatrow}[|\meta{number of beside floats}|]|\nopagebreak
%   |\floatbox...|\nopagebreak
%   |\floatbox...|\nopagebreak
%   |...|\nopagebreak
%   |\end{floatrow}|
%   \end{Quote}
%
%^^A%   Please note that \emph{for each float box} inside |floatrow| you must use |\floatbox|, |\ffigbox|,
%^^A%   |\ttabbox| or your own command, created with |\newfloatcommand| macro.
%   Обратите внимание, что \emph{для каждого флота} внутри окружения |floatrow| должны
%   использоваться команды |\floatbox|, |\ffigbox|,
%   |\ttabbox| или ваша собственная команда, созданная с~помощью |\newfloatcommand|.
%
%^^A%   The |floatrow| environment creates necessary number of ``columns'',
%^^A%   the default number is two, where floats are placed (during the calculation of width of column
%^^A%   the widths of the separations between beside floats and margins around the float row are taken into account).
%^^A%   You may redefine the width of each float box,
%^^A%   e.g. the boxes of tables~\ref{tab:row:tabIII} and~\ref{tab:row:tabIV} (page~\pageref{tab:row:tabIII})
%^^A%   have the width of their contents
%^^A%   (remember, the |[\FBwidth]| is default option of |\ttabbox|).
%   Окружение |floatrow| создаёт необходимое число «колонок»,
%   по умолчанию две, где размещаются флоты (ширина колонки рассчитывается, учитывая расстояния
%   между флотами (ширину разделительного материала) и~поля и/или боковой материал вокруг ряда флотов).
%   Вы можете переопределить ширину каждой колонки,
%   например, боксы таблиц~\ref{tab:row:tabIII} и~\ref{tab:row:tabIV} (с.~\pageref{tab:row:tabIII})
%   имеют ширину, равную ширине
%   табличного материала (напомним, опция |[\FBwidth]| в~|\ttabbox| задаётся по умолчанию).
%
%^^A%   During building each float box inside float row, the |floatrow| environment calculates
%^^A%   the rest space in the row and writes this value at the special parameter |\Xhsize|, which you
%^^A%   may use inside \meta{width} option of |\floatbox| command.
%^^A%   The next example with figures uses |[\FBwidth]| command in option for the left float,
%^^A%   and |[\Xhsize]| command---for the right.
%   При построении ряда, после каждого бокса флота в~окружении |floatrow| подсчитывается оставшееся
%   место в~ряду, значение которого записывается в~специальный параметр |\Xhsize|, который можно
%   использовать в~опции \meta{width} команд |\floatbox|.
%   Следующий пример с~рисунками задаёт опцию |[\FBwidth]| для левого флота и~|[\Xhsize]| для правого.
%\begin{Quote}
%|...|\nopagebreak
%|\begin{figure}|\nopagebreak
%| \begin{floatrow}|\nopagebreak
%|  \ffigbox[\FBwidth]|\nopagebreak
%|    {...}|\nopagebreak
%|    {\caption{...}\label{...}}|
%| |
%|  \ffigbox[\Xhsize]|%^^A
%   \FRmpar{Флоты рядом: последний флот занимает оставшееся место}{FAD:floatfillspace}
%|    {...}|
%|    {\caption{...}\label{...}}|
%| \end{floatrow}|\nopagebreak
%|\end{figure}|
%\end{Quote}
%   \begin{figure}[H]
%    \begin{floatrow}
%   \ffigbox[\FBwidth]
%   {\caption{Левый рисунок в~ряду, ширина бокса равна ширине графики}%
%   \label{intro:leftfig:FBwidth}}%
%   {\unitlength1.12\unitlength\input{Bear.picture}}
%
%   \ffigbox[\Xhsize]
%   {\caption[Правый рисунок в~ряду, бокс занимает оставшееся место]{Рисунок в~ряду, с~правой стороны простого ряда
%           рисунков, бокс занимает всё оставшееся в~ряду}%^^A
%    \label{intro:rightfig:Xhsize}}
%   {\unitlength1.44\unitlength\input{Doll.picture}}
%    \end{floatrow}
%   \end{figure}%^^A
%
%^^A%   Usually the command |\Xhsize|\label{FB:Xhsize} is used for the last float
%^^A%   box to occupy the rest space of the row.
%^^A%   But if you use \package{calc} package you may try to use |\Xhsize|
%^^A%   earlier, if the \emph{absolute} value of the width of float boxes to
%^^A%   the right in float row is known. Another variant: you may set something in \meta{width}
%^^A%   argument something like |\Xhsize/2| and then |\Xhsize| for two last
%^^A%   float boxes---the next example just uses it: the first float has default
%^^A%   width equal to ``column'' width, the next uses width of included
%^^A%   graphic (uses command |\FBwidth| in optional argument \meta{width}),
%^^A%   the last two floats divide the rest horizontal space of page into two equal pieces which were
%^^A%   calculated by command |\Xhsize| and  \package{calc} package.\pagebreak[1]
%   Обычно команда |\Xhsize|\label{FB:Xhsize} используется для
%   последнего флота в~ряду. Но
%   если вы используете пакет \package{calc} вы можете попытаться
%   использовать |\Xhsize| раньше, если известна
%   \emph{абсолютная} величина ширины флотов по правую сторону.
%   Другой вариант: использовать в~аргументе \meta{width} нечто вроде |\Xhsize/2|
%   а~затем |\Xhsize| для последних двух боксов, что и~задано в~следующем примере:
%   первый флот имеет ширину по умолчанию, равную «колонке»
%   ряда, следующий использует ширину включённой графики (использована
%   команда |\FBwidth| в~дополнительном аргументе \meta{width}),
%   а~два последних делят пополам оставшееся место в~ряду, используя
%   подсчёты команды |\Xhsize| и~пакета \package{calc}.%^^A
%\begin{Quote}
%\begin{preamble}
%   |\usepackage{calc}|\vspace{1ex}
%   |\makeatletter\@mparswitchfalse\makeatother|\vspace{1ex}
%   |\|\FRkey{DeclareMarginSet}|{hangleft}{\|\FRkey{setfloatmargins}
%   |    {\hskip-\marginparwidth\hskip-\marginparsep}{\hfil}}|\vspace{1ex}
%   |\|\FRkey[sec]{floatsetup}|[widefigure]{|%^^A
%       \FRkey{margins}|=hangleft}|
%\end{preamble}
%|\begin{figure*}|
%|\begin{floatrow}|{\emphcolor|[4]|}
%|  \ffigbox|\nopagebreak
%|    {\caption{Первый рисунок...}...}|\nopagebreak
%|    {...}|
%| |
%|  \ffigbox[\FBwidth]|\nopagebreak
%|    {\caption{Второй рисунок...}...}|\nopagebreak
%|    {...}|
%| |
%|  \ffigbox[\Xhsize/2]|\nopagebreak
%|    {\caption{Третий рисунок...}...}|\nopagebreak
%|    {...}|
%| |
%|  \ffigbox[\Xhsize]|\nopagebreak
%|    {\caption{Четвёртый рисунок...}...}|\nopagebreak
%|    {...}|
%|\end{floatrow}|
%|\end{figure*}|
%\end{Quote}
%   \floatsetup[widefloat]{margins=hangleft}
%   \begin{figure*}%
%   \begin{floatrow}[4]
%   \ffigbox
%   {\caption{Первый рисунок в~ряду, ширина «колонки»}%
%   \label{fig:row:Dog}}
%   {\input{TheDog.picture}}
%
%   \ffigbox[\FBwidth]
%   {\caption{Второй рисунок в~ряду, ширина графики}%
%   \label{fig:row:WcatI}}
%   {\input{TheCat.picture}}
%
%   \ffigbox[\Xhsize/2]
%   {\caption{Третий рисунок в~ряду, занимает
%     половину оставшегося места}%
%   \label{fig:row:BcatI}}
%   {{\setlength\unitlength{\hsize/58}%^^A
%   {\input{Mouse.picture}}}}
%
%   \ffigbox[\Xhsize]
%   {\caption{Четвёртый рисунок в~ряду,
%   занимает оставшееся место}%
%   \label{fig:row:cheese}}
%   {\input{Cheese.picture}}
%   \end{floatrow}
%   \end{figure*}%
%^^A%   The result you see in the row of
%^^A%   figures~\ref{fig:row:Dog}--\ref{fig:row:cheese}. Please note that in the examples with rows,
%^^A%   the vertical alignment of floats lays on the bottom of upper part (here: objects)
%^^A%   of float and the top of lower part (captions).
%   Результат вы видите в~ряду
%   рисунков~\ref{fig:row:Dog}--\ref{fig:row:cheese}. Обратите внимание, что в~примерах с~рисунками рядом
%   вертикальное выравнивание флотов лежит по нижней линии верхней части
%   (здесь: графики) и~верху нижней части (подписи).
%
%^^A%   The current example uses the starred |figure*| environment, which demonstrates here the possibility
%^^A%   of creation and usage of the alternative layout for the float type (here for the figure).
%^^A%   It sets the special margin settings,
%^^A%   which allow to expand to the left margin (see page~\pageref{setup:margins} about margins settings
%^^A%   in |\floatsetup| command). The first command in this example, between |\makeatletter| and
%^^A%   |\makeatother| commands, switch of facing margins in twoside document: margins on all pages
%^^A%   appear on the left side (like in current document).
%   Данный пример использует специальные настройки
%   полей, которые позволяют вывести бокс флота на поле (см.~с.~\pageref{setup:margins}
%   о~настройках полей в~команде |\floatsetup|). Первая команда в~примере, заключённая между
%   командами |\makeatletter| и~|\makeatother|, отключает зеркальные поля для двустороннего документа:
%   на всех полосах поля окажутся с~левой стороны (как в~данном документе).
%
%^^A%   \subsubsection{Mixed Row}\label{sec:mixrow}
%   \subsubsection{Смешанные ряды}\label{sec:mixrow}
%^^A%   \textbf{Problems}.\startNotes\Note Sometimes, for example, it is necessary to put beside
%^^A%   figure and table. The problem of such mixed row is that you must put different types of float in
%^^A%   one floating environment, which sets its own layout for included float box(es).
%   \textbf{Проблемы}.\startNotes\Note
%   Иногда возникает необходимость поставить рядом, например, рисунок и~таблицу.
%   Проблема такого смешанного ряда заключается в~том, что нужно поместить разные
%   типы флотов в~одно окружение флота, которое задаёт своё оформление
%   для содержимого.
%
%^^A%   \Note Another problem is that figures usually have captions below
%^^A%   graphics, but tables could have caption \emph{above} their contents.
%^^A%   The alignment of all floats is similar: the bottom of upper part and
%^^A%   top of lower part. In this case if you want to put such beside figure
%^^A%   and table you'll get an undesirable result.
%   \Note Другая проблема состоит в~том, что подпись к~рисункам обычно
%   помещают снизу, а~табличный заголовок помещается сверху таблиц.
%   Выравнивание всех флотов одинаково: по нижней линии верхней части
%   и~по верхней "--- у~нижней. В~таком случае, если вы захотите
%   поместить рисунок и~таблицу рядом,
%   вы получите не лучший вариант вёрстки.
%
%   \DescribeMacro{\killfloatstyle}
%^^A%   \textbf{Solutions}.\startNotes\Note For creation of right layouts for each float type in mixed row,
%^^A%   you ought to write |\|\FRkey{killfloatstyle} command just before each ``foreign''
%^^A%   (for current floating environment) |\floatbox| macro.
%   \textbf{Решения}.\startNotes\Note
%   Для создания верного оформления для каждого типа флотов, нужно задать команду |\|\FRkey{killfloatstyle}
%   до каждой «чужой» (для текущего окружения флота) макрокоманды |\floatbox|.
%
%   \DescribeMacro{\CenterFloatBoxes}
%   \DescribeMacro{\TopFloatBoxes}
%   \DescribeMacro{\BottomFloatBoxes}
%^^A%   {\sloppy\Note For correct vertical alignment of different float types, which put captions in different
%^^A%   positions, you may use one of the following commands:
%   \Note Для корректного выравнивания разных типов флотов,
%   где подписи размещаются по-разному,
%   можно использовать одну из приведённых команд:
%\begin{Quote}
%|\CenterFloatBoxes|\label{FB:CenterFloatBoxes}
%|\TopFloatBoxes|\label{FB:TopFloatBoxes}
%|\BottomFloatBoxes|\label{FB:BottomFloatBoxes}
%\end{Quote}
%^^A%   which align \emph{full} float boxes by center, top or bottom lines.
%   которые выравнивают боксы флотов \emph{целиком} по центральной линии,
%   по верху или по низу.
%^^A%   There is also |\PlainFloatBoxes|\label{FB:PlainFloatBoxes} which restores standard behavior of
%^^A%   |\floatbox|'es.\par}
%   Существует также команда |\PlainFloatBoxes|\label{FB:PlainFloatBoxes}, которая восстанавливает
%   «поведение» флотов внутри команд |\floatbox|.
%
%   \DescribeMacro{\buildFBBOX}
%^^A%These macros were created by |\buildFBBOX|\label{FB:buildFBBOX} macro, which can be written like
%   Эти команды созданы командой |\buildFBBOX|\label{FB:buildFBBOX}, которая может быть записана
%   следующим образом:
%\begin{Quote}
%|\buildFBBOX|\marg{starting code of the box}\marg{finishing code of the box}
%\end{Quote}
%^^A%   just before any |\floatbox| command (or |floatrow| environment).
%^^A%   For example, definition of |\CenterFloatBoxes|
%^^A%   looks almost like following:
%   перед любой командой |\floatbox| (или перед окружением |floatrow|).
%   Например, определение команды |\CenterFloatBoxes|
%   выглядит почти как записано ниже:
%\begin{Quote}
%%^^A|\newcommand\CenterFloatBoxes{\CADJfalse\OADJfalse|
%|\newcommand\CenterFloatBoxes{%|
%|  \buildFBBOX{\hbox\bgroup$\vcenter\bgroup\vskip0pt}%|
%|             {\vskip0pt\egroup$\egroup}}|
%\end{Quote}
%^^A%   The other two commands use |\vtop| and |\vbox| boxes consequently.
%^^A%   (see also example with usage of |\buildFBBOX| command on the page~\pageref{buildFBBOX:def}).
%   Две другие команды используют боксы |\vtop| и~|\vbox| соответственно.
%   (см.~также пример использования этой команды на с.~\pageref{buildFBBOX:def}).
%
%^^A%   In the next example we use |\CenterFloatBoxes| command before |floatrow|
%^^A%   and |\killfloatstyle| just before |\ttabbox| macro
%^^A%   (mixed float row with figure~\ref{fig:rowmixspec:WcatI} in |Boxed| style, and
%^^A%   table~\ref{tab:rowmixspec:tabI}\label{mixrow}):
%   В следующем примере используются команда |\CenterFloatBoxes| до окружения |floatrow|
%   и~|\killfloatstyle| перед |\ttabbox|
%   (смешанный ряд, состоящий из рис.~\ref{fig:rowmixspec:WcatI} в~стиле |Boxed|
%   и~табл.~\ref{tab:rowmixspec:tabI}\label{mixrow}):
%\begin{Quote}
%\begin{preamble}
%|\|\FRkey[sec]{floatsetup}|[figure]{|\FRkey{style}|=Boxed}|
%\end{preamble}\RestoreSpaces
%|\begin{figure}\CenterFloatBoxes|\nopagebreak
%|\begin{floatrow}|
%|  \|\FRkey[FB]{ffigbox}|[\|\FRkey[FB]{FBwidth}|]|
%|     ...|
%|  \|\FRkey{killfloatstyle}|\|\FRkey[FB]{ttabbox}
%|     ...|
%\end{Quote}
%   \DeleteShortVerb{\|}%
%   \begingroup\floatsetup[figure]{style=Boxed}
%   \begin{figure}[H]\CenterFloatBoxes
%   \begin{floatrow}
%   \ffigbox[\FBwidth]
%   {\unitlength1.92\unitlength\input{Horse.picture}}
%   {\caption{Рисунок в~смешанном ряду}\label{fig:rowmixspec:WcatI}}%
%   \extrarowheight1pt
%   \killfloatstyle\ttabbox
%   {\caption{Таблица в~смешанном \hbox{ряду}}\label{tab:rowmixspec:tabI}}
%   {\tabcolsep5\tabcolsep\begin{tabular}{|c|c|}\hline A & B  \\ C & D \\ \hline\end{tabular}}
%   \end{floatrow}
%   \end{figure}
%   \endgroup
%   \MakeShortVerb{\|}%
%   \RestoreSpaces
%
%^^A%   \emph{Note.} Both figure and table boxes have got width equal to
%^^A%   contents of objects: the |\ffigbox| command in the example has optional argument
%^^A%   |[\FBwidth]|, but |\ttabbox| does not have any option---it uses
%^^A%   |[\FBwidth]| option as default (see definitions on page~\pageref{abbrcom}).\label{FAD:MixedRowII}
%   \emph{Замечание.} Как рисунок, так и~таблица имеют ширину, равную
%   содержимому объектов. Команда |\ffigbox| в~примере имеет дополнительный
%   аргумент |[\FBwidth]|, но у~команды |\ttabbox| нет никакой опции
%   "--- опция |[\FBwidth]| используется по умолчанию (см. определения
%    на с.~\pageref{abbrcom}).\label{FAD:MixedRowII}
%
%^^A%   \subsection{Running Floats In The Raw \LaTeX\ mode}\label{sec:rawfloats}
%   \subsection{Флоты в~режиме стандартного \LaTeX'а}\label{sec:rawfloats}
%
%^^A%    The\label{FAD:PlainFloat}
%^^A%    \package{floatrow} package redefines floating environments for the case
%^^A%    of creation of common layout for all floats. This redefinition creates
%^^A%    some limitations for source document file, which were mentioned in
%^^A%    introduction (see \sectionname~\ref{floatrow:wrong}). If you still need a raw behavior
%^^A%    of floating environment, you may do that by one of the following three ways.\startNotes
%    Пакет\label{FAD:PlainFloat}
%    \package{floatrow} переопределяет окружение флотов так, чтобы
%    на выходе получалось единообразное
%    оформление всех флотов. Это накладывает некоторые ограничения
%    на запись флота в~исходном файле, о~которых, в~частности,
%    говорилось во введении (см.~\sectionname~\ref{floatrow:wrong}). Если вам всё
%    же нужно окружение, работающее как в~обычном \LaTeX'е
%    это можно сделать тремя способами.\startNotes
%
%   \Note\DescribeMacro{\RawFloats}\label{setup:RawFloats}%^^A
%^^A%    If you want \LaTeX\ behavior \emph{just for one environment},
%^^A%    input a |\RawFloats| command \emph{inside} environment:
%    Если нужно, чтобы \emph{лишь одно окружение} работало как в~обычном
%    \LaTeX'е, задайте команду |\RawFloats| \emph{внутри} окружения:
%\begin{Quote}
%\begin{preamble}
%|\|\FRkey[sec]{floatsetup}|[figure]{|\FRkey{style}|=Boxed}|\%{\itshape\smash{\begin{tabular}[t]l
%       обратите внимание: эта настройка\\ в~результате ничего здесь не делает\end{tabular}}}
%\end{preamble}
%|\begin{figure}\RawFloats|\nopagebreak
%|\captionsetup[table]{position=top}|
%|\begin{minipage}{0.45\textwidth}|
%|  \centering ...|
%|  \caption{...}\label{...}|
%|\end{minipage}|
%|\begin{minipage}{0.45\textwidth}|
%|  \captionof{table}{...}\label{...}|
%|  \centering ...|
%|\end{minipage}|\nopagebreak
%|\end{figure}|
%\end{Quote}
%^^A%    And you'll get figure~\ref{Right:expect:fig}
%^^A%    and table~\ref{Right:expect:tab}.
%    и~вы получите рис.~\ref{Right:expect:fig}
%    и~табл.~\ref{Right:expect:tab}.
%\begingroup\floatsetup[figure]{style=Boxed}
%    \begin{figure}[H]\RawFloats
%    \captionsetup[table]{position=top}
%    \begin{minipage}{0.45\textwidth}
%    \centering {\unitlength1.92\unitlength\input{Horse.picture}}
%    \caption{Рисунок в~ряду в~режиме обычного  \LaTeX'а}\label{Right:expect:fig}
%    \end{minipage}\quad\hfill
%    \killfloatstyle\begin{minipage}{0.45\textwidth}
%    \captionof{table}{Таблица в~ряду в~режиме обычного  \LaTeX'а}\label{Right:expect:tab}
%    \centering\tabcolsep5\tabcolsep
%    \begin{tabular}{|c|c|}\hline A & B  \\ C & D \\ \hline\end{tabular}
%    \end{minipage}
%    \end{figure}
%\endgroup
%   \RestoreSpaces
%^^A%   Compare this example with example in the {\sectionname}~\ref{sec:mixrow} and the following
%^^A%   figure~\ref{leftfig:raw} and table~\ref{righttab:raw}.
%   Сравните этот пример с~примером из {\sectionname}~\ref{sec:mixrow}
%   и~следующими рисунком~\ref{leftfig:raw} и~таблицей~\ref{righttab:raw}.
%\begin{Quote}\openup.65pt
%\begin{preamble}
%|\|\FRkey[sec]{floatsetup}|[figure]{|\FRkey{style}|=Boxed}|
%\end{preamble}
%|\begin{figure}\RawFloats\|\FRkey[FB]{CenterFloatBoxes}\nopagebreak
%|\begin{|\FRkey[sec]{floatrow}|}|
%|  \|\FRkey[FB]{ffigbox}|[\|\FRkey[FB]{FBwidth}|]|\nopagebreak
%|   {...}|\nopagebreak
%|   {\caption{...}\label{...}}|
%
%|  \|\FRkey[FB]{ttabbox}\nopagebreak
%|   {...}|\nopagebreak
%|   {\caption{...}\label{...}}|
%|\end{floatrow}|\nopagebreak
%|\end{figure}|
%\end{Quote}
%\begingroup\floatsetup[figure]{style=Boxed}
%   \begin{figure}[H]\RawFloats\CenterFloatBoxes
%    \begin{floatrow}
%   \ffigbox[\FBwidth]
%   {\unitlength1.92\unitlength\input{Horse.picture}}
%   {\caption{Рисунок в~ряду внутри команды \cmd{\floatbox} и~в~окружении \env{floatrow} в~режиме обычного \LaTeX'а}%^^A
%   \label{leftfig:raw}}%
%
%   \ttabbox
%   {\caption{Таблица в~смешанном ряду внутри \cmd{\floatbox} и~в~окружении \env{floatrow} в~режиме обычного \LaTeX'а}%^^A
%    \label{righttab:raw}}
%   {\tabcolsep5\tabcolsep
%    \begin{tabular}{|c|c|}\hline A & B    \\ C & D \\ \hline
%    \end{tabular}}
%    \end{floatrow}
%   \end{figure}%^^A
%\endgroup
%
%^^A%   \Note Canceling of \package{floatrow}'s behavior for \emph{all floats of one type
%^^A%   or subtype} should be done outside any floating environment, usually in the
%^^A%   preamble of the document. In this case the |\RawFloats| command needs optional
%^^A%   argument with name(s) of float type. You may set that by two ways:
%   \Note Отмена установок пакета \package{floatrow} для  \emph{всех флотов выбранных типов
%   или подтипов}. В~таком случае команда |\RawFloats| задаётся вне окружений флотов с~опцией
%   задающей названия типа флотов \cdash--- эти установки лучше задавать
%   в~преамбуле. Команду можно задать двумя способами:
% \begin{Quote}
% |\RawFloats|\oarg{type,type,\ldots}\quad or\nopagebreak
% |\RawFloats|\oarg{type}\oarg{subtype,subtype,\ldots}
% \end{Quote}
%^^A%   So if you set |\RawFloats[figure]|, that will return the plain \LaTeX{} mode to all
%^^A%   figures in all subtype environments (|figure|, |figure*|,
%^^A%   |sidewaysfigure|, |wrapfigure|, etc., see page~\pageref{sec:floatsetup}).
%^^A%   If there is also a table,
%^^A%   |\RawFloats[figure,table]|, you also will set the same for all table
%^^A%   subtypes.
%   Итак, если вы зададите |\RawFloats[figure]|, это вернёт всем рисункам установки \LaTeX'а
%   во всех относящимся к~ним окружениях (|figure|, \texttt{figure*},
%   |sidewaysfigure|, |wrapfigure| и~др. см.~с.~\pageref{sec:floatsetup}).
%   Если ещё добавить таблицы:
%   |\RawFloats[figure,table]|, вы также отмените установки \package{floatrow}
%   и~для всех окружений таблиц.
%
%^^A%   The second way, with second optional argument, cancels \package{floatrow}'s
%^^A%   behavior for mentioned float ``subtype(s)'' of \emph{one} float type
%^^A%   in second optional argument you may use |float|, |widefloat|,
%^^A%   |rotfloat|, |widerotfloat|---the meaning of this options
%^^A%   analogous to options of |\floatsetup| macro (see
%^^A%   {\sectionname}~\ref{sec:floatsetup}, but you may use here only options
%^^A%   which include ``float'' word).\label{FAD:PlainFloatII}%^^A
%   Второй вариант, со второй опцией, отменяет установки \package{floatrow}
%   заданных в~ней окружений данного типа флота. Во второй опции
%   можно задать |float|, |widefloat|,
%   |rotfloat|, |widerotfloat|---значение этих опций аналогично
%   опциям команды |\floatsetup|
%   (см. {\sectionname}~\ref{sec:floatsetup}, но в~данном случае можно использовать
%   опции только со словом «float»).\label{FAD:PlainFloatII}%^^A
%
%   \Note\DescribeMacro{rawfloats}\label{setup:rawfloats}%^^A
%^^A%    This option stores the plain \LaTeX{} mode (i.e. stores usage of
%^^A%   standard \LaTeX{} float macros) for all \emph{standard and new defined}
%^^A%   float types. This option can be used only in |\usepackage| line.
%   Данная опция сохраняет режим plain \LaTeX'а (т.\,е. использование
%   стандартных команд \LaTeX'а) для всех \emph{стандартных и~вновь созданных}
%   типов флотов. Опция может использоваться только в~строке
%   |\usepackage|.
%
%\medskip
%^^A%   \emph{Notes}.\startNotes\nopagebreak
%   \emph{Замечания}.\startNotes\nopagebreak
%
%^^A%   \Note Please note that with |\RawFloats[...]| command  and |rawfloats=| key
%^^A%   you will cancel layout (|\floatsetup|) settings of all chosen float types/subtypes
%^^A%   ({\sectionname}~\ref{sec:floatsetup}) for plain floats.
%   \Note Обратите внимание, что в~обычных окружениях с~командой |\RawFloats[...]| и~ключом |rawfloats=|
%   отменяются настройки оформления (|\floatsetup|) для всех выбранных типов и~подтипов флотов
%   ({\sectionname}~\ref{sec:floatsetup}).
%
%\begingroup
%^^A%   {\Note The |floatrow| environment ({\sectionname}~\ref{sec:floatrow})
%^^A%   and commands of |\floatbox| stuff ({\sectionname}~\ref{sec:floatbox})
%^^A%   still work  after |\RawFloats[...]| command and |rawfloats=| key
%^^A%   (see example with figure~\ref{leftfig:raw}
%^^A%   and table~\ref{righttab:raw})\label{FAD:MixedRow}.
%^^A%   Also note that\startNotes\def\theNote{\alph{Note}}\Note
%^^A%   the layout settings of the package, written in |\usepackage| line
%^^A%   and inside |\floatsetup{...}| command, and settings for main types of floats
%^^A%   like |\floatsetup|\allowbreak|[figure]{...}| or |\floatsetup|\allowbreak|[table]{...}|
%^^A%   still can work inside |\|\FRkey{floatbox} commands; \Note for the figures inside |\fcapside|
%^^A%   command and similar ones (with the |\|\FRkey{capbeside} command
%^^A%   inside the |\floatbox|'s \meta{preamble} option)---the settings |\floatsetup|\allowbreak|[capbesidefloat]{...}|
%^^A%   and |\floatsetup|\allowbreak|[capbesidefigure]{...}| or |\floatsetup|\allowbreak|[capbesidetable]{...}|
%^^A%   work; \Note inside the \FRkey{floatrow} environment---the settings |\floatsetup|\allowbreak|[floatrow]{...}|
%^^A%   and |\floatsetup|\allowbreak|[figurerow]{...}| or |\floatsetup|\allowbreak|[tablerow]{...}| are added
%^^A%   to the settings for |\floatbox|'es inside;
%^^A%   \Note also you may use |\|\FRkey{thisfloatsetup} settings in the case of usage of |\floatbox| commands.
%   \Note Окружение |floatrow| ({\sectionname}~\ref{sec:floatrow})
%   и~команды базирующиеся на |\floatbox| ({\sectionname}~\ref{sec:floatbox})
%   всё равно работают после задания команды |\RawFloats[...]|
%   и~ключа |rawfloats=| (см.~рис.~\ref{leftfig:raw}
%   и~табл.~\ref{righttab:raw})\label{FAD:MixedRow}.
%   Кроме этого\startNotes\def\theNote{\asbuk{Note}}\Note внутри команд |\|\FRkey{floatbox} всё равно
%   действуют настройки, записанные в~строке |\usepackage| или внутри
%   |\floatsetup{...}|, и~настройки для главных типов флотов,
%   |\floatsetup|\allowbreak|[figure]{...}| или |\floatsetup|\allowbreak|[table]{...}|;
%   \Note при использовании команды |\fcapside| и~подобных ей (с~|\capbeside| в~опции\meta{preamble}
%   команды |\floatbox|) работают |\floatsetup|\allowbreak|[capbesidefloat]{...}|
%   |\floatsetup|\allowbreak|[capbesidefigure]{...}| или |\floatsetup|\allowbreak|[capbesidetable]{...}|;
%   \Note внутри окружения |floatrow| к~настройкам команд |\floatbox|
%   добавляются настройки |\floatsetup|\allowbreak|[floatrow]{...}|
%   |\floatsetup|\allowbreak|[figurerow]{...}| или |\floatsetup|\allowbreak|[tablerow]{...}|.
%
%^^A%   The settings for all other layout subtypes
%^^A%   (see {\sectionname}~\ref{sec:floatsetup}) will be canceled.\par}
%   Настройки для остальных подтипов флотов (см.~{\sectionname}~\ref{sec:floatsetup})
%   не работают.
%\endgroup
%
%^^A%   \subsubsection{Raw Caption---Printing in Unusual Way}
%   \subsubsection{Стандартная команда подписи---необычное размещение}
%   \DescribeMacro{\RawCaption}\label{setup:RawCaption}%^^A
%^^A%   This command allows to ``release'' caption contents from special box register created by
%^^A%   \package{floatrow} package for the creation of necessary layout. The caption is placed as
%^^A%   argument of |\RawCaption|:
%   Последняя команда позволяет «высвободить» содержимое подписи из специального
%   регистра бокса, используемого пакетом \package{floatrow} для создания необходимого макета
%   флота. В~этом случае подпись помещается в~аргумент команды |\RawCaption|:
% \begin{Quote}
%   |\RawCaption{\caption\marg{contents}\label{...}}|
% \end{Quote}
%^^A%   In this case the settings of float layout of current type will be stored, but
%^^A%   you may put caption in non-standard way. For example in the free corner of the
%^^A%   graphics (figure~\ref{rawcaption:plain}):
%   В~этом случае, сохраняя настройки макета данного флота, можно
%   разместить подпись нестандартным способом. Например в~свободном углу рисунка
%   (рис.~\ref{rawcaption:plain}):
%\begingroup
% \begin{Quote}
%\begin{preamble}
%|\|\FRkey[sec]{floatsetup}|[figure]{|\FRkey{style}|=plain}|
%\end{preamble}
%|\begin{figure}|
%|\framebox(70,60){...}\hskip2\unitlength|
%|\framebox(70,60){...}\vskip2\unitlength|
%|\framebox(70,60){...}\hskip2\unitlength|
%|\parbox[b][60\unitlength]{70\unitlength}%|
%|          {\RawCaption{\caption{...}\label{...}}}|
%|\end{figure}|
% \end{Quote}
%\floatsetup{style=plain}
%\begin{figure}[H]\unitlength1.28\unitlength\lineskip0pt
%\framebox(70,60){\input{TheCat.picture}}\hspace{2\unitlength}%%^^A
%\framebox(70,60){\unitlength.5\unitlength\input{TheCat.picture}}\vspace{2\unitlength}\par
%\framebox(70,60){\unitlength.25\unitlength\input{TheCat.picture}}\hspace{2\unitlength}%%^^A
%\parbox[b][60\unitlength]{70\unitlength}{\RawCaption{\caption
%     [Подпись в~режиме стандартного \LaTeX;а, помещена в~свободный угол рисунка]{Подпись в~режиме стандартного \LaTeX;а, помещена в~свободный угол рисунка}\label{rawcaption:plain}}}
%\end{figure}%
%^^A%   The more suitable example of usage of the |\RawCaption| command see on the
%^^A%   page~\pageref{fig:subIcap:IcatsI} (figure~\ref{fig:subIcap:IcatsI} with modified
%^^A%   \verb|BOXED| style).
%   Более подходящий вариант использования команды |\RawCaption| см.~на~%^^A
%   с.~\pageref{fig:subIcap:IcatsI} (рис.~\ref{fig:subIcap:IcatsI} с~изменённым стилем
%   \verb|Boxed|).
%\endgroup
%
%^^A%   \subsection{Usage of Footnotes Inside Float Environment}
%   \subsection{Сноски внутри окружения флота}\label{sec:floatfootnote}
%
%^^A%   Sometimes table or figure contents have material, which authors mark
%^^A%   and then write some explanation like footnotes. This package has
%^^A%   a~mechanism which allows to put footnotes inside floating environments, in
%^^A%   the same way as is in \LaTeX's |minipage| environment.
%   Иногда таблица или рисунок может содержать
%   материал, который помечается, а~снизу даётся объяснение в~виде сноски.
%   Пакет имеет механизм, позволяющий размещение сносок внутри окружения флота,
%   как это сделано в~окружении \LaTeX'а |minipage|.
%
%^^A%   In the case of few elements have the same footnote, we cannot
%^^A%   use standard |\footnotemark|---|\footnotetext| combination, because
%^^A%   |\footnotemark| in standard \LaTeX\ always creates the sign of main text footnote.
%^^A%   For these cases current package offers |\mpfootnotemark|%^^A
%^^A%   \FRmpar{Footnotemark \\inside float}{FAD:FnoteInsideFloat}\label{FB:mpfootnotemark}
%^^A%   macro instead of |\footnotemark|.
%^^A%   (The same macro also is defined in \package{footmisc} package.
%^^A%   The \package{floatrow} package doubles this definition.)
%   В~тех случаях, когда несколько элементов
%   имеют одинаковую сноску, мы не можем воспользоваться стандартной
%   комбинацией |\footnotemark|---|\footnotetext|, потому что команда
%   |\footnotemark|
%   \FRmpar{Знак сноски внутри флота}{FAD:FnoteInsideFloat}\label{FB:mpfootnotemark}
%   в~стандартном \LaTeX'е всегда создаёт знак для сноски основного текста.
%   Для этих случаев данный пакет предлагает макрокоманду
%   |\mpfootnotemark| вместо |\footnotemark|.
%   (Та же макрокоманда также определена в~пакете
%   \package{footmisc}. Пакет \package{floatrow} просто дублирует это определение.)
%   \begin{Quote}\openup-.35pt%
%   \begin{preamble}
%   |\|\FRkey[sec]{floatsetup}|{...,|\FRkey{footnoterule}|=none,|%^^A
%       \FRkey{footskip}|=.35\skip\footins,...}|
%   \end{preamble}
%     |\begin{table}|
%     |\|\FRkey[FB]{ttabbox}
%     | {\caption{...}\label{...}}%|
%\verb+ {\begin{tabular}{...}+
%     |... & 2\mpfootnotemark[1] \\|
%     |...|
%     |  \end{tabular}%|
%     |  \footnotetext[1]{Even numbers.}}|
%   |\end{table}|
%   \end{Quote}%
%   \DeleteShortVerb{\|}%
%\begingroup\floatsetup[table]{footnoterule=none,footskip=.35\skip\footins}\tabcolsep.5\tabcolsep
%   \begin{table}[H]
%   \ttabbox
%   {\caption{Таблица со сноской}%^^A
%   \label{tab:floatfnote}}%^^A
%    {\extrarowheight1pt
%   \begin{tabular}{|l|c|c|}
%     \hline
%     \thead{Column head}  & \thead{Data I}     & \thead{Data II} \\
%     \hline
%     First row    & \phantom01 & 2\mpfootnotemark[1]       \\
%     Second row   & \phantom06\mpfootnotemark[1] & 4\mpfootnotemark[1]       \\
%     Third row    &         28\mpfootnotemark[1] & 8\mpfootnotemark[1]       \\
%     \hline
%   \end{tabular}%^^A
%   \footnotetext[1]{Even numbers.}}
%   \end{table}%
%\endgroup
%   \MakeShortVerb{\|}%
%
%^^A%   {\sloppy The |\|\FRkey[sec]{floatbox} macro uses special definition of footnote rule
%^^A%   (the \FRkey{footnoterule}|=| key, see also
%^^A%   page~\pageref{sec:footnotestyle} for variants of footnote rule) and skip before footnotes and
%^^A%   explications or legends (the \FRkey{footskip}|=| key).\par}
%   Макрокоманда |\|\FRkey[sec]{floatbox} использует собственное определение линейки для
%   сноски (ключ \FRkey{footnoterule}|=|, см. также
%   с.~\pageref{sec:footnotestyle} о~вариантах линейки для сносок под флотами) и~отбивку до сносок
%   и~экспликаций (ключ \FRkey{footskip}|=|).
%
%^^A%   \subsection{The Legend-Like Macro}\label{subsec:floatfoot}
%   \subsection{Макрокоманда для экспликаций}\label{subsec:floatfoot}
%^^A%   In the case of table or figure have some additional explanations
%^^A%   which could not put in caption contents and they are definitely not
%^^A%   a footnote you may use the |\floatfoot|\label{FAD:Legend}
%^^A%   command. The |\floatfoot| is
%^^A%   build by usage of |\caption| stuff and uses by default caption's text justification:
%   Если таблица или рисунок имеют дополнительные объяснения,
%   которые не должны быть в~подписи и~они не являются сноской
%   вы можете использовать команду |\floatfoot|\label{FAD:Legend}. Команда |\floatfoot|
%   использует механизм оформления команд |\caption| и~по умолчанию использует
%   выключку, заданную для текста подписей (табл.~\ref{tab:floatfoot}):
%\begin{Quote}
%|\begin{table}|
%|\|\FRkey[FB]{ttabbox}
%|  {\caption{...}\label{...}}|
% \verb+  {\begin{tabular}{...}+
%|  ...|
%|  \end{tabular}%|
%|  \floatfoot*{`Data I' column ...}}|
%|\end{table}|
%\end{Quote}
%   \DeleteShortVerb{\|}%
%\begingroup\floatsetup[table]{footnoterule=none,footskip=.35\skip\footins}\tabcolsep.5\tabcolsep
%   \begin{table}[H]
%   \ttabbox
%   {\caption{Таблица с экспликацией}%^^A
%   \label{tab:floatfoot}}%^^A
%    {\extrarowheight1pt\tabcolsep2\tabcolsep
%   \begin{tabular}{|l|c|c|}
%     \hline
%     \thead{Column head}  & \thead{Data I}     & \thead{Data II} \\
%     \hline
%     First row    & \phantom01 & 2       \\
%     Second row   & \phantom06 & 4       \\
%     Third row    &         28 & 8       \\
%     \hline
%   \end{tabular}%^^A
%   \floatfoot{`Data I' column---numbers which equal to sum of all
%   their divisors; `Data II' column---$2^n$ values}}
%   \end{table}%
%\endgroup
%   \MakeShortVerb{\|}%
%
%^^A%   The star form (|\floatfoot*|) prints its contents as plain unindented
%^^A%   paragraph (see table~\ref{tab:floatfoot}).
%   «Звёздная» форма (|\floatfoot*|) печатает содержимое в~виде обычного
%   абзаца без отступа (см. табл.~\ref{tab:floatfoots}):
%\begin{Quote}
%|\begin{table}|
%|  ...|
%|  \end{tabular}%|
%|  \floatfoot*{`Data I' column ...}}|
%|\end{table}|
%\end{Quote}
%   \DeleteShortVerb{\|}%
%\begingroup\floatsetup[table]{footnoterule=none,footskip=.35\skip\footins}\tabcolsep.5\tabcolsep
%   \begin{table}[H]
%   \ttabbox
%   {\caption{Таблица с~экспликацией в~виде обычного абзаца без отступа}%^^A
%   \label{tab:floatfoots}}%^^A
%    {\extrarowheight1pt\tabcolsep2\tabcolsep
%   \begin{tabular}{|l|c|c|}
%     \hline
%     \thead{Column head}  & \thead{Data I}     & \thead{Data II} \\
%     \hline
%     First row    & \phantom01 & 2       \\
%     Second row   & \phantom06 & 4       \\
%     Third row    &         28 & 8       \\
%     \hline
%   \end{tabular}%^^A
%   \floatfoot*{`Data I' column---numbers which equal to sum of all
%   their divisors; `Data II' column---$2^n$ values}}
%   \end{table}%
%\endgroup
%   \MakeShortVerb{\|}%
%
%^^A%   For defining of explication font use \FRkey{footfont}|=| option
%^^A%   in |\floatsetup| (page~\pageref{setup:footfont}). You may try to
%^^A%   define special settings for float foot using
%^^A%   \cmd{\captionsetup[floatfoot]} (see~{\sectionname}~\ref{sec:floatsetup}).
%   Для определения шрифта для экспликаций используйте соответствующую опцию
%   \FRkey{footfont}|=| в~команде
%   |\floatsetup| (с.~\pageref{setup:footfont}). Вы можете задать
%   дополнительные настройки оформления задав командную
%   последовательность \cmd{\captionsetup[floatfoot]} (см.~{\sectionname}~\ref{sec:floatsetup}).
%
%^^A%   \emph{Notes.} \startNotes\Note The \package{float} package defines additional
%^^A%   optional argument after main caption text, possibly for explications.
%^^A%   Since this possibility
%^^A%   didn't declared in user part of documentation the current version of
%^^A%   \package{caption} (3.0 and later), and also \package{float\-row} package,
%^^A%   doesn't support this possibility. You may use |\floatfoot| and
%^^A%   |\footnote|/\allowbreak|\mpfootnotemark|/\allowbreak|\footnotetext| stuff instead.
%   \emph{Замечания.} \startNotes\Note Пакет \package{float} определяет
%   дополнительный аргумент после текста подписи. Поскольку эта
%   возможность не была документирована в~части документации для
%   пользователей, и~версии пакета \package{caption}, начиная с~3.0,
%   и~пакет \package{floatrow} не поддерживают эту возможность.
%   Используйте команду |\floatfoot| и~команды
%   |\footnote|/\allowbreak|\mpfootnotemark|/\allowbreak|\footnotetext|.
%
%^^A%   \Note If you use both commands |\floatfoot| and |\footnote|
%^^A%   inside one float box, the |\floatfoot| appears above |\footnote|
%^^A%   contents.
%   \Note Если вы используете одновременно команды |\floatfoot|
%   и~|\footnote| внутри одного флота, содержимое команды |\floatfoot|
%   появится над |\footnote|.
%
%^^A%   \Note Foot material (footnotes and text in floatfoot) can be placed
%^^A%   in several variants: at the very bottom of float box, below caption
%^^A%   (even if caption is above float object; see description of \FRkey{footposition}|=| key
%^^A%   on the page \pageref{setup:footposition}
%^^A%   and sample file \file{frsample01.tex}). In case of caption beside
%^^A%   float object, footnotes and foot text are always placed below caption.
%   \Note Сноски и~экспликации могут быть размещены несколькими
%   способами: в~самом низу флота, под подписью
%   (даже в~случае подписи сверху; см. описание ключа \FRkey{footposition}|=|
%   на с.~\pageref{setup:footposition} и~файл примера \file{frsample01.tex}).
%   В~случае подписи сбоку, сноски и~экспликации всегда помещаются под подписью.
%
%^^A%   \subsection{Fine Tuning of Vertical Spaces of Float}\label{sec:FBabskips}
%   \subsection{Корректировка вертикальных отбивок в~флоте}\label{sec:FBabskips}
%^^A%   At the final variant of document you may need to correct vertical
%^^A%   spaces between float and main text, between float object and
%^^A%   caption.
%   В~заключительном варианте документа вам возможно понадобится
%   откорректировать вертикальные отбивки между флотом и~основным
%   текстом, между содержимым объекта и~подписью.
%
%^^A%   To change space between float box and main text, you may use
%^^A%   two simple commands |\FBaskip| and |\FBbskip|. For example define
%   Изменить отбивки между флотом и~основным текстом можно,
%   используя две простые команды |\FBaskip| и~|\FBbskip|.
%   Например, определите
%   \begin{Quote}
%    |\renewcommand\FBaskip{-4pt}|
%    |\begin{figure}|
%    |  ...|
%    |\end{figure}|
%   \end{Quote}
%^^A%   to move up float box up (or reduce space above) by 4pt. Or write
%   чтобы передвинуть флот вверх (уменьшить отбивку сверху)
%   на 4pt. Или запишите
%   \begin{Quote}
%    |\renewcommand\FBbskip{-5pt}|\nopagebreak
%    |\begin{figure}[t]|\nopagebreak
%    |  ...|\nopagebreak
%    |\end{figure}|
%   \end{Quote}
%^^A%   to reduce space below (here: distance between figure and main text) by 5pt.
%^^A%   In current document the |\FBaskip| command  was necessary for moving up
%^^A%   some of wrapped figures.\nopagebreak
%   чтобы уменьшить (здесь: расстояние между рисунком и~текстом)
%   на 5pt. В~данном документе
%   команда |\FBaskip| понадобилась для корректировки
%   рисунков в~оборку.\nopagebreak
%
%^^A%   Use |\vspace| command for vertical space correction around float
%^^A%   object\footnote{The plain floating environment allows usage of
%^^A%   \cmd{\vskip} command. But \cmd{\floatbox} stuff
%^^A%   (\cmd{\floatbox} itself, \cmd{\ffigbox} etc.) in case
%^^A%   of usage of the \cmd{\FBwidth} option, gets error message
%^^A%   when \cmd{\vskip} appears.}.
%   Для корректировки отбивок вокруг объекта
%   используйте |\vspace|\footnote{В~простом окружении флота можно
%   пользоваться и~командой \cmd{\vskip}. Но команды \cmd{\floatbox}
%   (сама \cmd{\floatbox}, \cmd{\ffigbox}\dots), когда используют
%   в~аргументе \meta{width} опцию \cmd{\FBwidth}, при обнаружении
%   \cmd{\vskip} выдадут сообщение об ошибке.}.\par
%
%^^A%   \emph{Note}. If you'll write something like:
%   \emph{Замечание}. Если вы запишете нечто вроде:
%   \begin{Quote}
%\begin{preamble}
%      |\usepackage{floatrow}|
%\end{preamble}
%    |\begin{figure}|\nopagebreak
%    |  ...|
%    |\caption{...}|
%    |\vspace{-6pt}|\nopagebreak
%    |\end{figure}|
%   \end{Quote}
%^^A%   in \emph{plain} floats like in example above, you will change space between caption
%^^A%   and object (in the case of caption below object).
%^^A%   Again, for layout with caption above:
%   в~\emph{простом} окружении флота, как в~примере выше, вы измените расстояние между
%   подписью и~объектом (если подпись помещается снизу объекта).
%   Опять же, для макета с~подписью сверху, как в~следующем примере:
%   \begin{Quote}
%\begin{preamble}
%      |\usepackage[|\FRkey{capposition}|=top]{floatrow}|
%\end{preamble}
%    |\begin{figure}|\nopagebreak
%    |\vspace{-6pt}|\nopagebreak
%    |\caption{...}|
%    |  ...|
%    |\end{figure}|
%   \end{Quote}
%^^A%   you will get the reduced space between caption above and object contents.
%   вы опять получите уменьшенную отбивку между подписью и~объектом.
%
%   \clearpage
%^^A%   \section{Float Layout Settings}\label{sec:floatsetup}
%   \section{Настройка оформления плавающих объектов}\label{sec:floatsetup}
%^^A%   The idea of \package{floatrow} package is to avoid a lot of repeated code
%^^A%   for creation of desired layout for floats inside the document text.
%^^A%   If you ought to change the layout of one float type or even of all float types,
%^^A%   the package allows also to make these modifications
%^^A%   of layout much easier. In this case you only have to care
%^^A%   about the \emph{markup} of floats and their contents.
%   Основная идея пакета \package{floatrow} состоит в~том, чтобы избежать множества
%   повторяющихся команд в~документе для создания нужного оформления плавающих объектов
%   а~также упростить возможные изменения, если понадобится изменить оформление всех флотов или
%   только отдельно взятого типа флота.
%   В~результате при создании и~работе с~документом уделяется внимание только \emph{разметке}
%   флотов и~их содержанию.
%
%^^A%   The easy modification of common layout of all float types or only for one
%^^A%   float type is possible because of the borrowed code from the \package{float}
%^^A%   package, which allows to modify layout of floats of one type as a whole.
%   Простота изменения общего оформления всех флотов или флотов одного типа возможна
%   благодаря коду, взятому из пакета \package{float}, который позволяет
%   изменять оформление всех плавающих объектов одного типа.
%
%^^A%   The common layouts and modification for captions for all float types as a whole,
%^^A%   for each float type separately, and other special settings
%^^A%   are supported by \package{caption} package, version~3.\emph{x}.
%   Единое оформление и~изменение подписей всех типов флотов и~настройки для каждого
%   типа флотов, а~также другие настройки поддерживается пакетом \package{caption}, версии~3.\emph{x}.
%
%^^A%   The layout settings of \package{floatrow} package are built similarly
%^^A%   to the settings from the \package{caption}~3.\emph{x} package. So the layout settings of the
%^^A%   |\floatsetup|\footnote{Some key and option names were changed from version 0.1d,
%^^A%   the reason was to arrange and make names more memorable, and, sometimes, reduction
%^^A%   of their names (see {\sectionname}~\ref{sec:changed}).} command are built in
%^^A%   similar way as layout settings
%^^A%   of the |\captionsetup| command\footnote{Look also at the \package{caption}
%^^A%   documentation (version 3.0 and later)}.
%   Настройки оформления пакета \package{floatrow} построены аналогично
%   настройкам пакета \package{caption}~3.\emph{x}, а~команда |\floatsetup|\footnote{Некоторые имена
%   ключей и~опций изменены после версии 0.1d, для упорядочения и~создания более
%   запоминаемых названий, и, для некоторых, сокращения их имён
%   (см.~{\sectionname}~\ref{sec:changed}).}, использует механизм, аналогичный механизму команды
%   |\captionsetup|\footnote{См.~также документацию пакета \package{caption}
%   (версии~3.0 и~выше)}.
%
%^^A%   You may use the layout settings as \package{floatrow} option in
%^^A%   the |\usepackage| line in the preamble of codument.
%   Вы можете использовать настройки оформления флотов как опции пакета
%   \package{floatrow} в~строке |\usepackage|, задаваемой в~преамбуле.
%   \begin{Quote}
%\begin{preamble}
%      |\usepackage[|\meta{options}|]{floatrow}|\quad.
%\end{preamble}
%   \end{Quote}
%^^A%   You may write
%   Вы можете записать
%   \begin{Quote}
%\begin{preamble}
%      |\usepackage[style=boxed,font=small]{floatrow}|\quad.
%\end{preamble}
%   \end{Quote}
%   \DescribeMacro{\floatsetup}
%^^A%   The same result you get with the |\floatsetup| command:
%   Тот же результат вы получите при использовании специальной команды настроек макета |\floatsetup|
%   \begin{Quote}
%\begin{preamble}
%      |\usepackage{floatrow}|
%      |\floatsetup{style=boxed,font=small}|\quad.
%\end{preamble}
%   \end{Quote}
%^^A%   The lines above declare the |boxed| float style (this style creates
%^^A%   the frame around float object which is built by \LaTeX's |\fbox| command) and the
%^^A%   |\small| font for contents of float objects. These settings are loaded for \emph{all} float types.
%   Строки выше определяют стиль |boxed| (стиль создаёт рамку вокруг объекта с~помощью
%   команды \LaTeX'а |\fbox|) и~шрифт |\small| (меньший, чем для всего документа) для содержимого
%   объектов. Эти установки заданы для \emph{всех} типов плавающих объектов.
%
%^^A%   The usage of the |\floatsetup| command has following form:
%   Команда |\floatsetup| имеет следующую форму задания:
%   \begin{Quote}
%      |\floatsetup|\oarg{float type}\marg{options}\quad.
%   \end{Quote}
%^^A%   where option \meta{float type} is the name of float type. You can use this optional
%^^A%   argument for creating of special settings of chosen float type. The following command
%   Где опция \meta{float type} является именем типа флота.
%   Вы можете использовать эту опцию для задания специальных настроек для флотов выбранного типа.
%   Следующая команда
%   \begin{Quote}
%      |\floatsetup[table]{style=Plaintop}|
%   \end{Quote}
%^^A%   sets a special float style for floating tables: captions are placed above
%^^A%   float objects; in the case of floats are placed in one row, inside the |floatrow|
%^^A%   environment, text of captions is aligned by the top lines.
%   задаёт специальный стиль для таблиц: табличные заголовки помещаются
%   сверху, если таблицы стоят рядом внутри окружения |floatrow|,
%   табличные заголовки выравниваются по верхней строке.%^^A
%
%^^A%   The |[table]| or the |[figure]| options are not the only options you are allowed to use.
%^^A%   The |\floatsetup| command allows usage of a number of special options for settings
%^^A%   for floats in different positioning: plain floats, two-column floats (in one-column layout
%^^A%   of the document, the starred environment like
%^^A%   |figure*| can be used for alternative float layout, e.g. for
%^^A%   wide floats, which expand to the margins) rotated floats, wrapped floats. There is also
%^^A%   minor support for floats with captions placed beside float objects.\medskip
%   Опции |[table]| или |[figure]| не единственные, которые можно использовать.
%   Команде |\floatsetup| можно задать специальные опции для настройки флотов
%   с~разными вариантами размещения: обычное,
%   для флотов вразрез двух колонок (в~одноколонной книге «звёздное» окружение
%   типа |figure*| можно использовать для альтернативной вёрстки,
%   например, широких рисунков, выходящих на поля) для флотов, развёрнутых
%   вертикально, флотов в~оборку и~др. Есть также поддержка, но неполная, настроек для
%   флотов с~подписью сбоку.\medskip
%
%^^A%   Below are  lists of all possible options of the |\floatsetup| command.
%^^A%   They are based, as example, on the |figure| environment.
%^^A%   The ``strength'' of options in the lists below decreases
%^^A%   from the previous item to the next one.
%   Ниже приведены перечни всех возможных опций команды |\floatsetup|, которые, для примера,
%   берут за основу окружение |figure|.
%   «Сила» приведённых ниже в~перечнях опций убывает от предыдущего
%   пункта к~следующему:
%   \begin{itemize}\label{stsetorder}
%       \item
%^^A%       Wide or two-column floats (|figure*|):
%       Широкие флоты или флоты вразрез двух колонок (|figure*|):
%   \begin{itemize}
%       \item
%^^A%       |\floatsetup[widefigure]|\label{setup:widefigure}---the ``strongest'' settings;
%^^A%       if they are absent, the settings from the next item will be used;
%       |\floatsetup[widefigure]|\label{setup:widefigure} "---самые «сильные» настройки;
%       если они отсутствуют,
%       пакет использует настройки из следующего пункта;
%       \item
%^^A%       |\floatsetup[widefloat]|\label{setup:widefloat}---these settings ``stronger''
%^^A%       than settings from next item (|\floatsetup[figure]|);
%^^A%       if they are absent, the settings from the next item will be used;
%       |\floatsetup[widefloat]|\label{setup:widefloat} "---эти настройки «сильнее» чем настройки
%       из следующего пункта (|\floatsetup[figure]|); если они отсутствуют, пакет
%       использует настройки из следующего пункта;
%       \item
%^^A%       |\floatsetup[figure]|;
%^^A%       if they are absent, package uses settings from
%^^A%       optional argument in |\usepackage| line or |\floatsetup{...}|
%^^A%       command; if they are absent---the default package settings will be used
%^^A%       (see page~\pageref{sec:default});
%       |\floatsetup[figure]|; если эти настройки отсутствуют, пакет
%       использует настройки,
%       заданные в~опции в~строке |\usepackage| или как |\floatsetup{...}|;
%       если и~эти установки отсутствуют "--- установки пакета
%       по умолчанию (см.~с.~\pageref{sec:default});
%   \end{itemize}
%       \item
%^^A%       Wrapped floats (|wrapfigure|, used with \package{wrapfig} package):
%       Флоты в~оборку (окружение
%       |wrapfigure|  пакета \package{wrapfig}):
%   \begin{itemize}\itemsep0pt\parskip.5\parskip
%       \item |\floatsetup[wrapfigure]|\label{setup:wrapfigure};
%       \item |\floatsetup[wrapfloat]|\label{setup:wrapfloat};
%       \item |\floatsetup[figure]|;
%   \end{itemize}
%       \item
%^^A%       Rotated floats (|sidewaysfigure|,
%^^A%       used with \package{rotating} package):
%       Флоты развёрнутые вертикально (|sidewaysfigure|
%       пакета \package{rotating}):
%   \begin{itemize}\itemsep0pt\parskip.5\parskip
%       \item |\floatsetup[rotfigure]|\label{setup:rotfigure};
%       \item |\floatsetup[rotfloat]|\label{setup:rotfloat};
%       \item |\floatsetup[figure]|;
%   \end{itemize}
%       \item
%^^A%       Wide or two-column rotated floats
%       Развёрнутые флоты вразрез двух колонок (|sidewaysfigure*|):
%   \begin{itemize}\itemsep0pt\parskip.5\parskip
%       \item |\floatsetup[widerotfigure]|\label{setup:widerotfigure};
%       \item |\floatsetup[widerotfloat]|\label{setup:widerotfloat};
%       \item |\floatsetup[rotfigure]|;
%       \item |\floatsetup[rotfloat]|;
%       \item |\floatsetup[figure]|;
%   \end{itemize}
%^^A%   \emph{Note}. The settings
%^^A%       for wide float (|widefloat|, |widefigure|)
%^^A%       are skipped for rotated floats---use settings for |widerotfloat|
%^^A%       and---here---|widerotfigure|;
%       \emph{Замечание}. Настройки
%       для флотов на две колонки (или широких в~одноколонной вёрстке)
%       (|widefloat|, |widefigure|) не действуют на развёрнутые флоты "--- используйте
%       настройки для |widerotfloat| и "--- здесь
%       "--- |widerotfigure|;
%       \item
%^^A%       Beside floats:
%       Флоты расположенные рядом:
%   \begin{itemize}\itemsep0pt
%       \item |\floatsetup[floatrow]|\label{setup:floatrow};
%       \item |\floatsetup[figurerow]|\label{setup:figurerow};
%       \item
%^^A%        settings of outer environment from previous items, e.g.,
%^^A%       |sidewaysfigure*|, |sidewaysfigure|, |figure*| and |figure|.
%       настройки окружений перечисленных выше, куда помещён ряд, например,
%       |sidewaysfigure*|, |sidewaysfigure|, и~|figure*|.
%   \end{itemize}
%       \item
%^^A%       Floats with beside captions (please note, that settings in these options are limited,
%^^A%       see next section):
%       Флоты с~подписями сбоку (здесь есть ограничения, см.~раздел ниже):
%   \begin{itemize}\itemsep0pt
%       \item |\floatsetup[capbesidefigure]|\label{setup:capbesidefigure};
%       \item |\floatsetup[capbesidefloat]|\label{setup:capbesidefloat};
%       \item
%^^A%       settings for the float row; settings of outer environment from previous items, e.g.,
%^^A%       |sidewaysfigure*|, |sidewaysfigure|, |figure*| and |figure|.
%       настройки ряда если рисунки в~окружении |floatrow|;
%       настройки окружений перечисленных выше, куда помещён флот, например,
%       |sidewaysfigure*|, |sidewaysfigure|, и~|figure*|.
%   \end{itemize}
%   \end{itemize}
%
%^^A%   \emph{Notes}.\startNotes\nopagebreak
%   \emph{Замечания}.\startNotes\nopagebreak
%
%^^A%   \Note You can also create and change special settings for captions of
%^^A%   necessary float types or subtypes, using
%^^A%   co-named \meta{float~type} options inside the |\captionsetup| command,
%^^A%   e.g., |\captionsetup[widefigure]{...}|.
%   \Note Вы можете создать специальные настройки для подрисуночных подписей типа
%   или подтипа флотов, используя
%   те же названия опций \meta{float~type} в~команде |\captionsetup|, например,
%   |\captionsetup|\allowbreak|[widefigure]{...}|.
%
%^^A%   \Note Please note that with |\RawFloats[...]| command  and |rawfloats=| key
%^^A%   (\sectionname~\ref{sec:rawfloats}) you will cancel all layout
%^^A%   settings created as options in the |\usepackage| line or inside
%^^A%   the |\floatsetup| command for all chosen float types/subtypes.
%   \Note Обратите внимание, что с~командой |\RawFloats[...]| и~ключом |rawfloats=|
%   (\sectionname~\ref{sec:rawfloats})
%   отменяются настройки оформления созданные в~опции строки |\usepackage|
%   или внутри команды |\floatsetup| для всех выбранных типов и~подтипов флотов.
%
%\begingroup
%^^A%   {\sloppy\Note The |floatrow| environment ({\sectionname}~\ref{sec:floatrow})
%^^A%   and |\floatbox| commands (e.g. |\ffigbox|, |\ttabbox|, see {\sectionname}~\ref{sec:floatbox})
%^^A%   still work after both |\RawFloats| (|\RawFloats[...]|) command and |rawfloats=| key (see example width
%^^A%   figure~\ref{leftfig:raw} and table~\ref{righttab:raw})\label{FAD:MixedRow}.
%   \Note Окружение |floatrow| ({\sectionname}~\ref{sec:floatrow})
%   и~команды базирующиеся на |\floatbox| (например, |\ffigbox|, |\ttabbox|,
%   см.~{\sectionname}~\ref{sec:floatbox})
%   всё равно работают после задания команды |\RawFloats[...]|
%   и~ключа |rawfloats=| (см.~пример с~рис.~\ref{leftfig:raw}
%   и~табл.~\ref{righttab:raw})\label{FAD:MixedRowA}.
%^^A%   Also note that\startNotes\def\theNote{\asbuk{Note}}\Note
%^^A%   inside |\|\FRkey{floatbox} commands still can work layout settings
%^^A%   of the package, written in |\usepackage| line and inside |\floatsetup{...}| command,
%^^A%   and settings for main types of floats like |\floatsetup|\allowbreak|[figure]{...}|
%^^A%   or |\floatsetup|\allowbreak|[table]{...}|; \Note for the figures inside |\fcapside|
%^^A%   command and similar ones (with the |\|\FRkey{capbeside} command
%^^A%   inside the |\floatbox|'s \meta{preamble} option) the settings |\floatsetup|\allowbreak|[capbesidefloat]{...}|
%^^A%   and |\floatsetup|\allowbreak|[capbesidefigure]{...}| or |\floatsetup|\allowbreak|[capbesidetable]{...}|
%^^A%   work; \Note inside the \FRkey{floatrow} environment the settings \floatsetup|\allowbreak|[floatrow]{...}|
%^^A%   and |\floatsetup|\allowbreak|[figurerow]{...}| or |\floatsetup|\allowbreak|[tablerow]{...}| are added
%^^A%   to the settings for |\floatbox|'es inside;
%^^A%   \Note also you may use |\|\FRkey{thisfloatsetup} settings in the case of usage of |\floatbox| commands.
%   Кроме этого\startNotes\def\theNote{\asbuk{Note}}\Note внутри команд |\|\FRkey{floatbox} продолжают
%   действовать настройки, записанные в~строке |\usepackage| или внутри
%   |\floatsetup{...}|, и~настройки для главных типов флотов,
%   |\floatsetup|\allowbreak|[figure]{...}| или |\floatsetup|\allowbreak|[table]{...}|;
%   \Note при использовании команды |\fcapside| и~подобных ей (с~|\capbeside| в~опции\meta{preamble}
%   команды |\floatbox|) работают |\floatsetup|\allowbreak|[capbesidefloat]{...}|
%   |\floatsetup|\allowbreak|[capbesidefigure]{...}| или |\floatsetup|\allowbreak|[capbesidetable]{...}|;
%   \Note внутри окружения |floatrow| к~настройкам команд |\floatbox|
%   добавляются настройки |\floatsetup|\allowbreak|[floatrow]{...}|
%   |\floatsetup|\allowbreak|[figurerow]{...}| или |\floatsetup|\allowbreak|[tablerow]{...}|.
%
%^^A%   The settings for all other layout subtypes
%^^A%   (see {\sectionname}~\ref{sec:floatsetup}) will be canceled.\par}
%   Настройки для остальных подтипов флотов (см.~{\sectionname}~\ref{sec:floatsetup})
%   не работают.
%\endgroup
%
%^^A%   The next few sections describe keys of |\floatsetup| macro.
%   Разделы ниже описывают ключи, используемые командой |\floatsetup|.
%
%^^A%   \subsection{Floatsetup Keys}\label{sec:floatkeys}
%   \subsection{Ключи Floatsetup}\label{sec:floatkeys}
%
%^^A%   \FRorisubsubsection{Float Style}
%   \FRorisubsubsection{Стиль плавающего объекта}
%
%   \DescribeMacro{style}\label{setup:style}%^^A
%^^A%   The \emph{float style} could include settings of the justification (in particular) of float contents;
%^^A%   margins (in particular the alignment of float boxes); separation material between objects and captions
%^^A%   and between float boxes in a~row (mainly spaces); frames or lines and other options.
%   Ключ \emph{float style} включает выключку (в~частности) содержимого объекта;
%   поля (в~частности выравнивание боксов флотов); разделительный материал между объектами и~подписями
%   и~между флотами, стоящими в~ряду (чаще всего это отбивки);
%   рамки или линейки и~некоторые другие опции.
%
%^^A%   The \emph{float style} is specified by following way:
%   Опция \emph{float style} задаётся следующим образом:
%   \begin{Options}{style=float style name }
%     \item[style=\rmfamily\mdseries\meta{float style name}\ ,\quad]
%^^A%   the name of the \meta{float style name} option you may take from
%^^A%   table~\ref{tab:floatlayouts}.
%   где \meta{float style name} вы можете взять из табл.~\ref{tab:floatlayouts}.
%     \item[...]
%^^A%   You may create your own options with the \\|\DeclareFloatStyle| command,
%^^A%   see page~\pageref{ssec:declstyle}.
%   Вы можете создать свои опции с~помощью команды \\|\DeclareFloatStyle|,
%   см.~с.~\pageref{ssec:declstyle}.
%   \end{Options}
%
%^^A%   As you may see in the table~\ref{tab:floatlayouts}, the \package{floatrow} package
%^^A%   includes all float styles
%^^A%   which emulate co-named ones from the \package{float} package.
%   Как вы видите, в~табл.~\ref{tab:floatlayouts} в~пакет \package{floatrow} включены все стили, эмулирующие
%   соответствующие стили из пакета~\package{float}.
%
%^^A%   Please note, that usage of |style=| key for floats with beside captions,
%^^A%   i.e.~using |\floatsetup| settings with options like, e.g.,
%^^A%   |[capbesidefigure]| or |[capbesidefloat]| can destroy layout for this float subtype.
%^^A%   For example that key cancels settings for beside position of caption.
%^^A%   If you really need to create the alternative
%^^A%   layout for floats with beside captions, for example to print float objects in frames,
%^^A%   using the |Boxed| style:\startNotes\Note if you are creating
%^^A%   one-column document, revise your settings
%^^A%   which were used for float creation, maybe you didn't use the settings for
%^^A%   starred floating environments, like |figure*|, so you can load necessary settings for
%^^A%   floats with beside caption inside |\floatsetup[widefigure]{...}|, and then
%^^A%   use |figure*| environment for floats with beside captions; \Note
%^^A%   if you can't follow advice of the previous item, you may use a bit risky
%^^A%   variant with usage of |\killfloatstyle| command,
%^^A%   see {\sectionname}~\ref{page:killfloatstyle}.\bigskip
%   Обратите внимание, что использование ключа |style=| для флотов с~подписями сбоку, т.\,е.
%   использование настроек |\floatsetup| с~опциями типа
%   |[capbesidefigure]| или |[capbesidefloat]| могут разрушить установки для этого подтипа флотов.
%   Например этот ключ отменяет настройки для размещения подписи сбоку.
%   Если вам действительно нужно создать альтернативное оформление для флотов с~подписью сбоку,
%   к~примеру поместить объекты флотов в~рамки, используя стиль |Boxed|:\startNotes\Note
%   если ваш документ верстается в~одну колонку, проверьте, какие настройки
%   у~вас используются, возможно вы не используете настроек для «звёздных» флотов, например
%   |figure*|, следовательно, вы можете задать необходимые настройки для флотов с~подписью
%   сбоку внутри настроек |\floatsetup[widefigure]{...}|, а~затем
%   использовать окружение |figure*| для всех таких флотов; \Note
%   если вы не можете последовать совету предыдущего пункта, вы можете использовать несколько
%   рискованный вариант с~использованием команды |\killfloatstyle|,
%   см.~{\sectionname}~\ref{page:killfloatstyle}.\bigskip
%
%^^A%   The \package{caption} package uses its own settings and names for caption layout styles.
%^^A%   The caption's |ruled| style is the only one from \package{float}
%^^A%   package, which was predefined in \package{caption} package. (The |ruled| style
%^^A%   is used by the \package{floatrow} package as well as other \package{float} package's
%^^A%   styles.) To use caption settings of the |ruled| style, you may write
%   Пакет \package{caption} использует собственные настройки и~названия для стилей подписей.
%   Стиль для подписи, |ruled|, единственный из пакета \package{float},
%   который также предопределён в~пакете \package{caption}. (Стиль |ruled| задаётся
%   среди прочих стилей пакета \package{float}.) Для использования настроек подписей этого стиля,
%   запишите, например
%   \begin{quote}
%   |\captionsetup[figure]{style=ruled}|\quad .
%   \end{quote}
%
%   \begingroup
%   \extrarowheight1pt\jot5pt\tabcolsep.9\tabcolsep
%   \newlengthtocommand\settowidth\Icolumn{\small\texttt{wshadowbox\,}}
%   \newlengthtocommand\settowidth\IIcolumn{\small|framestyle=wshadowbox|}
%   \newlengthtocommand\setlength\IIIcolumn{\textwidth-\Icolumn-\IIcolumn
%       -6\tabcolsep}
%   \newcommand\leftcell[2][16.5mm]{%^^A%
%     \hspace*{-\tabcolsep}\begin{tabular}[t]{>{%
%     \noindent
%     \vphantom{\small()\mpfootnotemark[1]}}
%       p{\hsize}}
%      #2\unskip\botstrut\end{tabular}\hspace*{-\tabcolsep}%
%     }
%^^A%   \def\LongtableHead{
%^^A%   \hfil\thead{Style} &
%^^A%   \hfil\thead{\cmd{\floatsetup} keys} &
%^^A%   \hfil\thead{Description}
%^^A%   }
%   \def\LongtableHead{
%   \hfil\thead{Стиль} &
%   \hfil\thead{Ключи \cmd{\floatsetup}} &
%   \hfil\thead{Описание}
%   }
%   \begin{longtable}{|>{\extrarowheight0pt\def\arraystretch{.75}\ttfamily}p{\Icolumn}
%   |>{\extrarowheight0pt\def\arraystretch{.75}\ttfamily}p{\IIcolumn}
%   |>{\parindent1em\topstrut}p{\IIIcolumn}<{\botstrut}|}
%^^A%   \caption{Float layout styles}\label{tab:floatlayouts}\\
%   \caption{Стили плавающих объектов}\label{tab:floatlayouts}\\
%   \hline
%   \LongtableHead \\ \hline\noalign{\vskip-.4pt}
%   \endfirsthead
%   \captionsetup{labelformat=continued}\caption[]{}\\
%   \hline
%   \LongtableHead \\ \hline\noalign{\vskip-.4pt}
%   \endhead
%   \captionsetup{labelformat=finished}\caption[]{}\\
%   \hline
%   \LongtableHead \\ \hline\noalign{\vskip-.4pt}
%   \endlasthead
%   \hline\noalign{\vskip-.4pt}
%^^A%   \multicolumn{3}{r@{}}{\emph{Continued on next page}}
%   \multicolumn{3}{r@{}}{\emph{продолжение на следующей странице}}
%   \endfoot
%   \hline\noalign{\vskip-.4pt}
%^^A%   \multicolumn{3}{r@{}}{\emph{Finished on next page}}
%   \multicolumn{3}{r@{}}{\emph{окончание на следующей странице}}
%   \endprelastfoot
%   \endlastfoot
%   \multicolumn{3}{|c|}{Определено в пакете \package{floatrow}}\\
%   \hline \leftcell{|plain|\label{setup:plain}{\mpfootnotemark[1]\mpfootnotemark[2]\mpfootnotemark[3]}}
%   & \leftcell{\meta{none}}
%   &Стиль |plain| создаёт стандартное оформление \LaTeX'а. Подрисуночные подписи всегда снизу
%   \\\hline
%   \leftcell{\topstrut plaintop{\mpfootnotemark[1]}\botstrut}
%   & \leftcell[50mm]{\topstrut capposition=top\botstrut}
%   &Стиль |plaintop| \cdash---то же что и~стиль |plain| но помещает подпись сверху "---
%   аналог стиля из пакета
%   \package{float}.\\ \cline{1-2}
%   %^^A
%   \leftcell{\topstrut Plaintop\botstrut}
%   & \leftcell[50mm]{\topstrut capposition=TOP\botstrut}
%   & Стиль с~прописной, |Plaintop|,
%   выравнивает подписи у~флотов рядом (в~окр.~|floatrow|) по верхней строке
%   (см.~пример на~с.~\pageref{tab:row:tabIII})
%   \\\hline
%   \leftcell{\topstrut ruled\label{setup:ruled}\mpfootnotemark[1]\mpfootnotemark[3]\botstrut}
%   & \leftcell[50mm]{\topstrut capposition=top,\\ precode=thickrule,\\
%     midcode=rule,\\ postcode=lowrule,\\
%     heightadjust=all\botstrut}
%   &Первый стиль, |ruled|, повторяет оформление одноимённого стиля из пакета \package{float}.
%   Он создаёт толстую линию
%   над флотом, и~тонкие линии между подписью и~объектом и~снизу бокса флота
%   отделённые от содержимого 2-пунктовыми отбивками (см.~пример на~с.~\pageref{leftfig:ruled}).\\ \cline{1-2}
%   %^^A
%   \leftcell{\topstrut Ruled\smash{\mpfootnotemark[2]}\botstrut}
%   &  \leftcell[50mm]{\topstrut style=ruled,\\ capposition=TOP\botstrut}
%   &Стиль с~прописной, |Ruled|, выравнивает подписи флотов, в~случае размещения их
%   рядом (в~окружении |floatrow|),
%   по верхней строке (см.~пример на~с.~\pageref{leftfig:Ruled})
%   \\\hline
%   \leftcell{\topstrut boxed\mpfootnotemark[1]\mpfootnotemark[2]\mpfootnotemark[3]\mpfootnotemark[4]\botstrut}
%   & \leftcell[50mm]{captionskip=2pt,\\framestyle=fbox,\\
%     heightadjust=object,\\framearound=object\botstrut}
%   &Первый, |boxed|, повторяет стиль пакета \package{float}:
%   \emph{ширина объекта} равна |\textwidth|, предварительно заданной \cmd{\hsize} или
%   предопределённой ширине заданной внутри команды |\floatbox|;
%   рамка выступает за края бокса (см.~пример на~с.~\pageref{fig:setup:boxed}). Расстояние от текста до рамки
%   и~толщина рамки определяются параметрами \cmd{\fboxsep} и~\cmd{\fboxrule}
%   (значения параметров по умолчанию равны \texttt{3\,pt} и~\texttt{.4\,pt} соответственно).\\ \cline{1-2}
%   %^^A
%   \leftcell{\topstrut|Boxed|\label{setup:Boxed}\mpfootnotemark[2]\mpfootnotemark[3]\botstrut}
%   & \leftcell[50mm]{\topstrut style=boxed,\\ framefit=yes\botstrut}
%   & В~стиле с~прописной буквы, |Boxed|, \emph{ширина рамки} совпадает
%   с~\cmd{\textwidth}, предварительно заданной \cmd{\hsize} или заданной шириной в~опции команды |\floatbox|;
%   ширина объекта при этом уменьшается,
%   чтобы поместиться внутри рамки (см.~пример на~с.~\pageref{fig:setup:Boxed}).\\ \cline{1-2}
%   %^^A
%   \leftcell{\topstrut|BOXED|\smash{\mpfootnotemark[2]}\mpfootnotemark[3]\botstrut}
%   & \leftcell[50mm]{\topstrut framestyle=fbox,\\ framefit=yes,\\
%     heightadjust=all,\\ framearound=all\botstrut}
%   & Прописная форма, |BOXED|, создаёт рамку
%   которая равна \cmd{\textwidth}, предварительно заданной \cmd{\hsize} или заданной шириной в~опции команды
%   |\floatbox| уже вокруг всех элементов бокса флота: подписи, объекта и~возможных экспликаций
%   (см.~пример на~с.~\pageref{BOXED:heightmod})
%   \\\hline
%   \multicolumn{3}{|c|}{Определено в пакете \package{fr-fancy}.
%   Эти стили также требуют пакет \package{fancybox}.}\cr\noalign{\nobreak\hrule\nobreak}
%   \leftcell{|shadowbox|\smash{\mpfootnotemark[4]}
%   \\ \botstrut\\ \hline\topstrut|Shadowbox|
%   \\ \botstrut\\ \hline\topstrut|SHADOWBOX|}
%   & \leftcell[50mm]{style=boxed,\\framestyle=shadowbox\botstrut\\ \hline\topstrut
%     style=Boxed,\\framestyle=shadowbox\botstrut\\ \hline\topstrut
%     style=BOXED,\\framestyle=shadowbox}
%   &То же, что и |boxed|, |Boxed| и |BOXED|
%   соответственно. Рамка \cmd{\fbox} заменена на \cmd{\shadowbox}
%   из пакета \package{fancybox} (см.~пример на~с.~\pageref{fig:subfig:catsI}).
%   Помимо  \cmd{\fboxsep} и~\cmd{\fboxrule}, здесь ещё задаётся параметр
%   \cmd{\shadowsize} \cdash--- ширина тени (по умолчанию равна 4\,pt).
%   \\\hline
%   \leftcell{|doublebox|\smash{\mpfootnotemark[4]}
%   \\ \botstrut\\ \hline\topstrut|Doublebox|\\
%   \botstrut\\ \hline\topstrut|DOUBLEBOX|}
%   & \leftcell[50mm]{style=boxed,\\ framestyle=doublebox\botstrut\\  \hline\topstrut
%     style=Boxed,\\ framestyle=doublebox\botstrut\\ \hline\topstrut
%     style=BOXED,\\ framestyle=doublebox}
%   &То же, что и |boxed|, |Boxed| и |BOXED|
%   соответственно. Рамка \cmd{\fbox} заменена на \cmd{\doublebox}
%   из пакета \package{fancybox} (см.~пример на~с.~\pageref{fig:parpic:BcatII}).
%   Рамка определяется параметрами \cmd{\fboxsep} и~\cmd{\fboxrule}
%   \\\hline\noalign{\penalty-1000}
%   \multicolumn{3}{|c|}{Дополнительный стиль. Он также требует пакет
%   \package{fancybox}.}\cr\noalign{\nobreak\hrule\nobreak}
%   \leftcell{|wshadowbox|\smash{\mpfootnotemark[4]}
%   \\ \botstrut\\ \hline\topstrut|Wshadowbox|
%   \\ \botstrut\\ \hline\topstrut|WSHADOWBOX|}
%   & \leftcell[50mm]{style=boxed,\\framestyle=wshadowbox\botstrut\\ \hline\topstrut
%     style=Boxed,\\framestyle=wshadowbox\botstrut\\ \hline\topstrut
%     style=BOXED,\\framestyle=wshadowbox}
%   &То же, что и~|boxed|, |Boxed| и~|BOXED|
%   соответственно. Рамка \cmd{\fbox} заменена на \cmd{\wshadowbox},
%   похожую на \cmd{\shadowbox} (но создаёт белую тень, или
%   края «второй копии») из пакета \package{fancybox} (см.~пример на~с.~{fig:floatflt:WcatI}), для задания
%   рамки используются те же параметры, что и~в~стиле |wshadowbox|
%   \\\hline
%^^A%   {\floatfoot*{When there is set float style with frame around object is
%^^A%   fitted to the box width (like |Boxed|, etc.), and
%^^A%   \cmd{\floatbox} macro uses \cmd{\FBwidth} command as \meta{width}
%^^A%   option, which sets box width equal to float object's width, the width of all float other elements
%^^A%   in this case enlarged to get width of framed object
%^^A%   (see figure~\ref{fig:setup:FBwidth:Boxed} on the page~\pageref{fig:setup:FBwidth:Boxed}).\vspace{-3pt}\par
%^^A%   \rule{1in}{.4pt}\vspace{2pt}\parindent15pt
%   \noalign{\floatfoot*{Если задан стиль флота, где ширина рамки вокруг объекта, равна ширине
%   основного текста или предопределённой ширине (как |Boxed|, etc.),
%   и~в~опции \meta{width} макрокоманды \cmd{\floatbox} определена команда
%   \cmd{\FBwidth}, устанавливающая ширину всех элементов флота равной
%   ширине объекта, ширина остальных элементов
%   флота в~этом случае увеличивается, до ширины равной обведённому рамкой объекту
%   (см.~рис.~\ref{fig:setup:FBwidth:Boxed} на с.~\pageref{fig:setup:FBwidth:Boxed}).\vspace{-3pt}\par
%   \rule{1in}{.4pt}\vspace{2pt}\parindent15pt
%
%^^A%   \mpfootnotemark[1]{The styles co-named and analogous to \package{float} package style.}
%^^A%
%^^A%   \mpfootnotemark[2]{This style used in the sample file \file{frsmaple01.tex}}
%^^A%
%^^A%   \mpfootnotemark[3]{This style used in the sample file \file{frsmaple02.tex}}
%^^A%
%^^A%   \mpfootnotemark[4]{During usage of these styles in
%^^A%   |floatrow| environment you ought to enlarge
%^^A%   space between floats, using key |floatrowsep|.}
%   \mpfootnotemark[1]{Стили аналогичны предложенным пакетом \package{float}.}
%
%   \mpfootnotemark[2]{Этот стиль используется в~файле образцов \file{frsmaple01.tex}}
%
%   \mpfootnotemark[3]{Этот стиль используется в~файле образцов \file{frsmaple02.tex}}
%
%   \mpfootnotemark[4]{При использовании этих стилей в~окружении |floatrow|
%   вам необходимо увеличить расстояние между флотами (переопределив
%   ключ \texttt{floatrowsep}).}}}
%   \end{longtable}
%
%   \endgroup
%
%^^A%\pagebreak[4]%^^A%protect clubs
%
%^^A%   \subsubsection{Font settings}\label{setup:start}
%   \subsubsection{Настройки шрифта}\label{setup:start}
%   \DescribeMacro{font=}\label{setup:font}%^^A
%^^A%   Defines font for float object contents. Option
%^^A%   analogous to |font=| key in |\captionsetup| stuff.\nopagebreak
%   Определяет шрифт для содержимого плавающего объекта. Опции аналогичны
%   ключу |font=|
%   в~команде |\captionsetup|.\nopagebreak
%
%^^A%   Available font setting options:
%   Существующие уже опции настройки шрифта:
%
%   \begin{Options}{\OptionLabel}
%     \item[scriptsize]   {\scriptsize очень маленький размер}
%     \item[footnotesize] {\footnotesize для сносок; \textit{используется в~сносках и~экспликациях}}
%     \item[small]        {\small маленький размер; \textit{используется в~объектах флотов}}
%     \item[normalsize]   {\normalsize нормальный размер}
%     \item[large]        {\large большой размер}
%     \item[Large]        {\Large б\'ольший размер}
%
%     \item[up]           {\upshape прямое начертание}
%     \item[it]           {\itshape курсивное начертание}
%     \item[sl]           {\slshape наклонное начертание}
%     \item[sc]           {\scshape капитель}
%
%     \item[md]           {\mdseries нормальная насыщенность}
%     \item[bf]           {\bfseries полужирный шрифт}
%
%     \item[rm]           {\rmfamily романский шрифт или шрифт с~засечками}
%     \item[sf]           {\sffamily рубленый шрифт}
%     \item[tt]           {\ttfamily шрифт пишущей машинки}
%^^A%     \item[...]
%^^A%   You may create your own options with the |\DeclareFloatFont| command,
%^^A%   see page~\pageref{ssec:declfont}.
%     \item[...]
%   Вы можете создать свои собственные определения с~помощью команды~|\DeclareFloatFont|,
%   см.~с.~\pageref{ssec:declfont}.
%   \end{Options}
%
%^^A%   You may set font for float object like
%   Вы можете определить шрифт для объекта как
%   \begin{quote}
%      |font=small|
%   \end{quote}
%^^A%   (which is used in current documentation), or
%   (что используется в~данной документации) или
%   \begin{quote}
%      |font={small,sf}|\quad .
%   \end{quote}
%^^A%   If you need to color text of your float object, you may use the mechanism,
%^^A%   created by the version \textbf{3.1} of the \package{caption} package:
%   Если вам нужно раскрасить текст объекта вашего флота, то можно воспользоваться
%   механизмом, созданным в~версии \textbf{3.1} пакета \package{caption}:
%   \begin{quote}
%      |font={small,color={blue}}|\quad .
%   \end{quote}
%
%   \addvspace\medskipamount\noindent
%   \DescribeMacro{footfont}\label{setup:footfont}%^^A
%^^A%   Defines font for legends or explications (defined by the |\floatfoot| command,
%^^A%   see~\textsl{\sectionname}~\ref{subsec:floatfoot}). This macro
%^^A%   uses |\captionsetup| mechanism (because |\floatfoot| macro
%^^A%   uses \package{caption} package's mechanism and utilities). By default the font size
%^^A%   of float foot text equals to footnote text: |footfont=footnotesize|.
%   Определяет шрифт для экспликаций (дополнительных описаний к~флоту,
%   задаваемые командой |\floatfoot|,
%   см.~\textsl{\sectionname}~\ref{subsec:floatfoot}).
%   Эта команда использует настройки, заданные командой |\captionsetup| (определение команды
%   |\floatfoot| базируется на утилитах из пакета \package{caption}).
%   По умолчанию шрифт для экспликаций аналогичен
%   шрифту сносок: |footfont=footnotesize|.
%
%\RestoreSpaces
%^^A%   \paragraph{Font Settings for longtable.}
%   \paragraph{Настройки шрифта для окружения longtable. }
%^^A%   If you use \package{caption} package, version 3.0\textbf{q}
%^^A%   the font settings, loaded in |\floatsetup|
%^^A%   in |longtable| environment, could expand to captions.
%^^A%   In this case, when you write something like
%   Если вы используете версию пакета \package{caption} 3.0\textbf{q},
%   то установки шрифта, заданные в~команде~|\floatsetup|
%   в~окружении |longtable| могут распространяться и~на подписи
%   В~этом случае, когда вы задаёте, что-то типа
%   \begin{Quote}
%   |\floatsetup{font={sf,scriptsize,it}...|
%   \end{Quote}
%    или
%   \begin{Quote}
%   |\floatsetup[longtable]{font={sf,scriptsize,it}...|
%   \end{Quote}
%^^A%   for floats (or for [long]tables only, option [longtable] of |\floatsetup|), you ought to restore
%^^A%   correct font size, family, shape (here) and series for caption contents and write:
%   для объектов (или только в~опции [longtable] команды~|\floatsetup|),
%   нужно вернуть нужные
%   размер, семейство, начертание (в~данном случае) и~насыщенность шрифта, хотя бы так:
%   \begin{Quote}
%   |\captionsetup{font={rm,small,up}...|
%   \end{Quote}
%    или
%   \begin{Quote}
%   |\captionsetup[longtable]{font={rm,small,up}...|
%   \end{Quote}
%   Версия \textbf{3.1} пакета \package{caption} это исправляет.
%
%\begingroup\allowprelistbreaks[-4]
%^^A%   \subsubsection{Position of Caption}
%   \subsubsection{Размещение подписей}
%   \DescribeMacro{capposition}\label{setup:capposition}%^^A
%^^A%   Defines position of captions. It is similar to |position=|
%^^A%   key in \package{caption} package, but it has two additional
%^^A%   options:\startNotes\Note|TOP|%^^A
%^^A%   \FRmpar{Caption above\\ table object}{FAD:CaptionAboveTableII}, if you prefer to align captions
%^^A%   above  objects, in the case of beside floats (in |floatrow|
%^^A%   environment), by the top line; \Note|beside| to put caption
%^^A%   beside object (this option could be more popular in settings
%^^A%   for one environment, see about |\thisfloatsetup| on the
%^^A%   page~\pageref{thisfloatsetup}):
%   Определяет расположение подписей. Ключ похож
%   на ключ |position=| пакета \package{caption}, но он имеет
%   две дополнительные опции:\startNotes\Note|TOP|,%^^A
%   \FRmpar{Подпись над таблицей}{FAD:CaptionAboveTableII}
%   если вы хотите выровнять подписи,
%   расположенные сверху объектов, расположенных в~одном ряду
%   (окружение |floatrow|),
%   по верхней строке\pagebreak[2]; \Note|beside| для размещения подписи
%   сбоку от объекта (эта опция
%   может быть более популярна для настроек отдельного окружения флота, см. о~команде
%   |\thisfloatsetup| на~с.~\pageref{thisfloatsetup}):\vspace*{\topsep}
%   \begin{Options}{\OptionLabel}
%^^A%     \item[top]  caption above object;
%     \item[top]  подписи сверху объекта;
%^^A%     \item[TOP]  caption above object and also aligned by top line in float
%^^A%       row.
%^^A%       For example the |Plaintop| style is the variant of
%^^A%       |plaintop| where used |capposition=TOP| settings,
%^^A%       see tables~\ref{tab:row:tabIII:CAPTOP}--\ref{tab:row:tabIV:CAPTOP};
%     \item[TOP]  подписи сверху объекта и~при размещении флотов рядом
%       (|floatrow|) они выравниваются
%       по верху.
%       Так, стиль |Plaintop| \cdash--- вариант стиля |plaintop|
%       где определена |capposition=TOP|,
%       см. табл.~\ref{tab:row:tabIII:CAPTOP}--\ref{tab:row:tabIV:CAPTOP};
%^^A%     \item[bottom]  caption below object;
%     \item[bottom]  подпись снизу объекта;
%^^A%     \item[beside]  caption beside object.%^^A
%     \item[beside]  подпись сбоку объекта.%^^A
%^^A%^^A%   \FRmpar{Beside caption and float object}{FAD:BesideCaptionII}
%   %^^A\FRmpar{Подпись сбоку}{FAD:BesideCaptionII}
%   \end{Options}
%^^A%   \emph{Floatrow note}. The |auto| option does not used by the
%^^A%   |capposition=| key.
%   \emph{Замечание \textsf{floatrow}}. Опция |auto| не используется ключом
%   |capposition=|.
%\endgroup
%
%^^A%   Compare two examples:
%   Сравните два примера:
%   \begin{Quote}
%      |\floatsetup[table]{|\FRkey{style}%^^A
%       |=plain,capposition=top}%|${}\equiv|style=plaintop|$
%   \end{Quote}
%   \DeleteShortVerb{\|}%
%   \begingroup\clearfloatsetup{tablerow}
%   \floatsetup[table]{style=plain,capposition=top}
%   \begin{table}[H]
%   \begin{floatrow}\tabcolsep2\tabcolsep
%   \extrarowheight1pt
%   \ttabbox
%    {\caption[Таблица~I с длинным заголовком]%^^A
%     {Таблица~I в~ряду с~длинным, длинным, очень длинным, длиннющим заголовком}\label{tab:row:tabIII:captop}}%^^A
%    {\begin{tabular}{|l|>{\phantom0}c|>{\phantom0}c|}
%     \hline
%     \multirowthead{2}[-1ex]{Left Column Head}
%                  & \multicolumn{2}{c|}{\thead{Data}} \\
%                  \cline{2-3}
%                  & \multicolumn{1}{c|}{\thead{I}}
%                              & \multicolumn{1}{c|}{\thead{II}}
%     \\\hline
%     First row    &         1 &         2 \\
%     Second row   &         3 &         4 \\
%     Third row    &         6 &         8 \\
%     Fourth row   & \llap{1}0 & \llap{1}6 \\
%     \hline
%   \end{tabular}}
%
%   \ttabbox
%    {\caption{Таблица~II в ряду}\label{tab:row:tabIV:captop}}%^^A
%    {\begin{tabular}{|l|c|c|c|}
%     \hline
%     \multirowthead{2}[-1ex]{\thead{Column Head}}
%                  & \multicolumn{3}{c|}{\thead{Data}} \\
%                  \cline{2-4}
%                  & \thead{I}      & \thead{II}      & \thead{III}        \\
%     \hline
%     First row    & 1      & 2       & \phantom01 \\
%     Second row   & 3      & 4       & \phantom06 \\
%     Third row    & 6      & 8       &         28 \\
%     \hline
%   \end{tabular}}
%   \end{floatrow}
%   \end{table}
%   \endgroup
%   \MakeShortVerb{\|}%
%
%   \allowpostlistbreaks[-4]\begin{Quote}
%      |\floatsetup[table]{|\FRkey{style}|=plain,capposition=TOP}%|${}\equiv|style=Plaintop|$
%   \end{Quote}\allowpostlistbreaks
%   \DeleteShortVerb{\|}%
%   \begingroup
%   \floatsetup[table]{style=plain,capposition=TOP}
%   \begin{table}[H]
%   \begin{floatrow}\tabcolsep2\tabcolsep
%   \extrarowheight1pt
%   \ttabbox
%    {\caption[Таблица~I с длинным заголовком, выровненным по верху]%^^A
%     {Таблица~I в~ряду с~длинным, длинным, длинным заголовком,
%      выровненным по верхней строке}\label{tab:row:tabIII:CAPTOP}}%^^A
%    {\begin{tabular}{|l|>{\phantom0}c|>{\phantom0}c|}
%     \hline
%     \multirowthead{2}[-1ex]{Left Column Head}
%                  & \multicolumn{2}{c|}{\thead{Data}} \\
%                  \cline{2-3}
%                  & \multicolumn{1}{c|}{\thead{I}}
%                              & \multicolumn{1}{c|}{\thead{II}}
%     \\\hline
%     First row    &         1 &         2 \\
%     Second row   &         3 &         4 \\
%     Third row    &         6 &         8 \\
%     Fourth row   & \llap{1}0 & \llap{1}6 \\
%     \hline
%   \end{tabular}}
%
%   \ttabbox
%    {\caption{Таблица~II в ряду с заголовком, выровненным по верху}\label{tab:row:tabIV:CAPTOP}}%^^A
%    {\begin{tabular}{|l|c|c|c|}
%     \hline
%     \multirowthead{2}[-1ex]{Column Head}
%                  & \multicolumn{3}{c|}{Data} \\
%                  \cline{2-4}
%                  & \thead{I}      & \thead{II}      & \thead{III}        \\
%     \hline
%     First row    & 1      & 2       & \phantom01 \\
%     Second row   & 3      & 4       & \phantom06 \\
%     Third row    & 6      & 8       &         28 \\
%     \hline
%   \end{tabular}}
%   \end{floatrow}
%   \end{table}
%   \endgroup
%   \MakeShortVerb{\|}%
%
%^^A%   \emph{Note}. The option |TOP| uses |\label|---|\ref|
%^^A%   mechanism, so, to get necessary result with it, you need to run \LaTeX{}
%^^A%   twice (when you make changes in contents which could change number
%^^A%   of lines, you get correct result also on the second run).
%   \emph{Замечание}. Опция |TOP| использует механизм |\label|---|\ref|,
%   поэтому нужный результат получится после второй обработки \LaTeX'а
%   (изменения, которые изменили количество строк также требуют
%   двойной обработки).
%
%\pagebreak[2]\begingroup\allowprelistbreaks[-4]
%^^A%   \subsubsection{Position of Beside Caption}
%   \subsubsection{Расположение подписи сбоку}
%   \DescribeMacro{capbesideposition}\label{setup:capbesideposition}%^^A
%^^A%   Defines position of beside captions: vertical and horizontal.
%^^A%   For horizontal position there are defined four options:
%   Определяет вертикальное и~горизонтальное расположение подписи сбоку.
%   Для горизонтального расположения определены следующие четыре опции:
%   \begin{Options}{\OptionLabel}
%     \item[left]
%^^A%     caption is printed to the left side of object (the default option, see example above);
%     подпись помещается с~левой стороны от объекта (опция по умолчанию, см.~пример выше);\allowitembreaks[-4]
%     \item[right]
%^^A%     caption is printed to the right side of object;
%     подпись помещается с~правой стороны от объекта;\allowitembreaks
%     \item[inside]
%^^A%     caption is printed in binding side of page if |twoside| option
%^^A%     switched on in document class and key \FRkey{facing}|=yes| is used;
%^^A%     in |oneside| option of document (and key |facing=no| is used),
%^^A%     caption is printed at the left side;
%     подпись помещается со стороны корешкового поля, если включена опция |twoside|\nopagebreak{}
%     в~классе документа и~используется ключ \FRkey{facing}|=yes|; если включена
%     опция |oneside| (или используется ключ \FRkey{facing}|=no|), подпись печатается слева;
%     \item[outside]
%^^A% least popular option: caption printed in
%^^A% outer side of page if |twoside| option switched on
%^^A% in document class and key |facing=yes| is used;
%^^A% in |oneside| option of document (or key |facing=no| is used),
%^^A% caption is printed at the right side; this option makes sense for the document with usage of
%^^A% outer margins.
%     менее популярная опция: подпись помещается со стороны внешнего поля,
%     если опция документа |twoside| включена и~используется ключ \FRkey{facing}|=yes|;
%     если включена опция |oneside| (или используется ключ \FRkey{facing}|=no|),
%     подпись печатается справа; эта опция имеет смысл при использовании
%     макета с~внешними полями.
%   \end{Options}
%\endgroup
%
%^^A%   For vertical position there are defined three options
%   Для вертикального расположения определены три опции
%   \begin{Options}{\OptionLabel}\samepage
%     \item[top]
%^^A%     caption aligned to the top of object;
%     подпись выравнивается по верху объекта;
%     \item[bottom]
%^^A%     caption aligned to the bottom of object;
%         подпись выравнивается по низу объекта;
%     \item[center]
%^^A%     caption aligned to the center of float contents.
%     подпись и объект выравниваются по средней линии.
%   \end{Options}
%^^A%   You may define position of beside caption by following:
%   Вы можете определить расположение подписи рядом следующим образом:
%   \begin{Quote}
%     |capbesideposition={top,outside}|\quad.
%   \end{Quote}
%
%   \begingroup
%   \begin{Quote}
%   \begin{preamble}
%   |\floatsetup[widefigure]{|\FRkey{margins}|=hangleft,capposition=beside,|\\%^^A
%   |    capbesideposition={top,left},|\FRkey{floatwidth}|=\textwidth}|\nopagebreak
%   \end{preamble}\vskip2ex
%   |\begin{figure*}|
%   |  \includegraphics{BlackDog}|
%   |  \caption{...}\label{...}|\nopagebreak
%   |\end{figure*}|
%   \end{Quote}%
%\vspace*{-\intextsep}
%   \floatsetup[widefigure]{capposition=beside,capbesideposition={top,left},floatwidth=\textwidth}
%   \begin{figure*}[H]
%   \setlength\unitlength{2.12\unitlength}\input{BlackDog.picture}%^^A
%   \caption[Широкий рисунок с~настройками ширины бокса \texttt{floatwidth=}\cmd{\textwidth};
%       подпись сбоку слева (на полях)
%       выравнена по верху графики]{Широкий рисунок с~настройками ширины бокса
%       \texttt{floatwidth=}\cmd{\textwidth}; подпись сбоку слева (на полях)
%       выравнена по верху графики}%
%   \label{fig:capbeside}
%   \end{figure*}%
%   \endgroup
%
%^^A%   See examples in file \file{frsample02.tex} with all variants of
%^^A%   position of beside captions.
%   См.~примеры в~файле \file{frsample02.tex} со всеми возможными вариантами
%   размещения подписей сбоку.
%
%^^A%   \subsubsection{Defining width of Beside Caption}
%   \subsubsection{Задание ширины для подписи сбоку}
%   \DescribeMacro{capbesidewidth}\label{setup:capbesidewidth}%^^A
%^^A%   Defines width of beside caption (this option could be more preferable
%^^A%   in settings for one environment, see about |\thisfloatsetup| on the
%^^A%   page~\pageref{thisfloatsetup}). You may set:
%   Определяет ширину подписи сбоку. Эта опция более предпочтительна для
%   отдельного окружения, см.~о~команде |\thisfloatsetup| на
%   с.~\pageref{thisfloatsetup}. Можно задать:\vspace*{\topsep}
%   \begin{quote}
%      |capbesidewidth=4cm|\quad.
%   \end{quote}
%^^A%   (see figure~\ref{capbesideframeI}). If you'll write |capbesidewidth=none| or
%^^A%   |capbesidewidth=sidefil| (this is default key setting), the
%^^A%   width of caption will be calculated by usual way, accordingly
%^^A%   to float width (i.e. occupies the rest width of float box, see
%^^A%   figure~\ref{fig:beside:mouse} on the page~\pageref{fig:beside:FBwidth}).
%   (см.~рис.~\ref{capbesideframeI}). Если вы зададите |capbesidewidth=none| или
%   |capbesidewidth=sidefil|
%   (настройка по умолчанию), ширина подписи будет рассчитана
%   относительно ширины объекта (т.\,е. займёт остальное пространство
%   в~боксе, см.~рис.~\ref{intro:beside:FBwidth} на с.~\pageref{intro:beside:FBwidth}).
%
%^^A%   \subsubsection{Defining Width of Object}\label{sec:wd:object}
%   \subsubsection{Определение ширины объекта}\label{sec:wd:object}
%   \noindent
%   \DescribeMacro{floatwidth}\label{setup:floatwidth}%^^A
%^^A%   It is used for redefinition of width of objects.
%^^A%   This key, similar to |\capbesidewidth=|:
%   Используется для переопределения ширины объектов, содержимого флотов.
%   Этот ключ используется так же, как и~|\capbesidewidth=|:
%   \begin{Quote}
%      |floatwidth=.35\hsize|
%   \end{Quote}
%   или
%   \begin{Quote}
%      |floatwidth=7cm|
%   \end{Quote}
%^^A%   It could be used at first for settings of one floating environment
%^^A%   (see page~\pageref{thisfloatsetup} about settings for current floating environment
%^^A%   and |\thisfloatsetup|). Such settings anyway may be used for example for wide floats
%^^A%   with the object width equal to main text width (|floatwidth=\textwidth|) and
%^^A%   beside caption placed on the margins (see figure~\ref{color:frame}).
%^^A%   \pagebreak[1]
%   Он в~первую очередь предназначен для настроек одного окружения
%   (см.~о~настройках для конкретного окружения флота и~о~команде |\thisfloatsetup|
%   на~с.~\pageref{thisfloatsetup}). но такие настройки можно использовать и~для общих
%   настроек, например, задать |floatwidth=\textwidth| для широких флотов, а~подпись
%   разместить сбоку на полях (см. рис.~\ref{color:frame}).
%
%   \begingroup
%   \begin{Quote}\openup-.5pt
%   \begin{preamble}
%   |\floatsetup[figure]{|\FRkey{margins}|=raggedright}|\nopagebreak
%   \end{preamble}\vskip2ex
%   |\|\FRkey{thisfloatsetup}%^^A
%       |[figure]{floatwidth=.35\hsize}|\nopagebreak
%   |\begin{figure}|\nopagebreak
%   |  \includegraphics[width=\hsize]{Bear}|\nopagebreak
%   |  \caption{...}\label{...}|\nopagebreak
%   |\end{figure}|
%   \end{Quote}%
%
%   \floatsetup[figure]{margins=raggedright}
%   \thisfloatsetup{floatwidth=.35\hsize}
%   \begin{figure}[H]
%   \setlength\unitlength{\hsize/100}\input{Bear.picture}%^^A
%   \caption[Рисунок с~настройками ширины бокса \texttt{floatwidth=0.35}\cmd{\hsize},
%       подпись снизу]{Рисунок с~настройками ширины бокса \texttt{floatwidth=0.35}\cmd{\hsize}}%
%   \label{fig:floatwidth}
%   \end{figure}%
%   \endgroup
%
%   \begingroup
%   \begin{Quote}%
%   |\|\FRkey{thisfloatsetup}%^^A
%       |{floatwidth=.35\hsize,|\FRkey{capbesidewidth}|=sidefil,|\nopagebreak
%   |      |\FRkey{capposition}|=beside,|\FRkey{capbesideposition}|=right}|
%   \end{Quote}\vskip-.5\lastskip%
%
%   \thisfloatsetup{floatwidth=.35\hsize,capbesidewidth=sidefil,
%           capposition=beside,capbesideposition=right}
%   \begin{figure}[H]
%   \setlength\unitlength{\hsize/100}\input{Bear.picture}%^^A
%   \caption[Рисунок с~настройками ширины бокса \texttt{floatwidth=0.35}\cmd{\hsize},
%       подпись сбоку]{Подпись сбоку рисунка с~настройками ширины бокса
%      \texttt{floatwidth=0.35}\cmd{\hsize}}%^^A
%   \label{fig:bear}
%   \end{figure}%
%   \endgroup
%^^A%   (These examples you can write also using box commands with the width option: |\ffigbox[.35\hsize]|
%^^A%   and |\fcapside[.35\hsize]| consequently.)
%   (Оба этих примера можно переписать, используя соответственно команды боксов
%   |\ffigbox[.35\hsize]| и~|\fcapside[.35\hsize]|.)
%
%^^A%   If you use option |floatwidth=sidefil| for objects with beside
%^^A%   captions (in the case of key |capbesidewidth=|, uses absolute
%^^A%   value, like |capbesidewidth=4cm|) the box with object contents (instead of caption's)
%^^A%   occupies the rest space of float box (see
%^^A%   figure~\ref{capbesideframeI} on the page~\pageref{capbesideframeI} and appendix,
%^^A%   figure~\ref{fig:capbeside:trick} on the
%^^A%   page~\pageref{fig:capbeside:trick}).
%   Если вы используете опцию |floatwidth=sidefil| для флотов с~подписью
%   сбоку (в~случае если в~|capbesidewidth=|,
%   задано абсолютное значение
%   ширины, например, \texttt{capbesidewidth=4cm}) содержимому объекта (вместо подписи)
%   будет отведено остальное пространство в~боксе (см. также рис.~\ref{capbesideframeI}
%   на~с.~\pageref{capbesideframeI} и~приложение, рис.~\ref{fig:capbeside:trick} на
%   с.~\pageref{fig:capbeside:trick})
%
%^^A%   \subsubsection{Other Settings for Beside Captions}
%   \subsubsection{Другие установки для подписей сбоку}
%   \medskip\noindent
%   \DescribeMacro{capbesideframe}\label{setup:capbesideframe}%^^A
%^^A%   This boolean key declares whether the beside caption stays near the framed object
%^^A%   (|capbesideframe=yes|) in this case caption lines will be aligned by top
%^^A%   or bottom of frame; otherwise caption lines will be aligned with top or
%^^A%   bottom of framed object's \emph{contents} (|capbesideframe=no|).
%   Этот ключ (работает как булев параметр) декларирует, размещена ли подпись рядом
%   с~объектом, заключённым в~рамку (|capbesideframe=yes|): в~этом случае
%   строки подписи будут выравниваться по верху или низу рамки;
%   в~противном случае со строками
%   подписи будут выровнены верх или низ
%   \emph{содержимого} объекта (|capbesideframe=no|).
%   \newcommand\TEXTBOX[1][]{\par
%   Here goes first line of text \Text\par
%   There goes second line of text#1\par
%   Thence goes third line of text \Text\par
%   Hence goes fourth line of text}
%   \def\Text{{\mdseries and more text and some more text and a bit more text and
%           a little more text to fill space}}
%\begingroup
%  \begin{Quote}
%   \begin{preamble}\nopagebreak
%   |\floatsetup[figure]{|\FRkey{style}|=Boxed,|%^^A
%       \FRkey{frameset}|={\fboxsep8pt},|
%   |  |\FRkey{objectset}|=justified,|
%   |  capbesideposition={right,top},capbesideframe=yes}|
%   |\captionsetup[capbesidefigure]{...,strut=no}|
%   \end{preamble}
%   |\|\FRkey{thisfloatsetup}%^^A
%   |{|\FRkey{capposition}|=beside,|
%   |      |\FRkey{floatwidth}|=sidefil,|%^^A
%       \FRkey{capbesidewidth}|=4cm}|
%   |\begin{figure}|
%   |\fcapside|
%   |  {...}|
%   |  {\caption{...}\label{...}}|\nopagebreak
%   |\end{figure}|
%  \end{Quote}\pagebreak[2]%
%   \floatsetup[figure]{style=Boxed,frameset={\fboxsep8pt},capbesideframe=yes,objectset=justified,
%       capbesideposition={right,top},footnoterule=limited}
%   \captionsetup[capbesidefigure]{strut=no}
%   \thisfloatsetup{capposition=beside,floatwidth=sidefil,capbesidewidth=4cm}
%   \begin{figure}[H]
%   {\TEXTBOX}
%   {\caption{Подпись сбоку объекта в~рамке, выровнена по верху рамки}%%^^A
%   \label{capbesideframeI}}%
%   \end{figure}
%  \begin{Quote}
%   \begin{preamble}\nopagebreak
%   |\floatsetup[figure]{...,capbesideframe=no,...}|
%   |...|
%   \end{preamble}
%   |\|\FRkey{thisfloatsetup}%^^A
%   |{|\FRkey{capposition}|=beside,|
%   |      |\FRkey{floatwidth}|=9cm,|%^^A
%       \FRkey{capbesidewidth}|=sidefil}|
%  \end{Quote}%
%   \floatsetup[figure]{capbesideframe=no}
%   \thisfloatsetup{capposition=beside,floatwidth=9cm,capbesidewidth=sidefil}
%   \captionsetup[capbesidefigure]{strut=no}
%   \begin{figure}[H]
%   {\TEXTBOX}
%   {\caption{Подпись сбоку объекта в~рамке, выровнена по верху содержимого объекта}%
%   \label{row:text:I}}%
%   \end{figure}
%\endgroup
%
%^^A%   \emph{Floatrow note.} For examples above the |\captionsetup{strut=no}| sentence also was used,
%^^A%   which cancels struts at the beginning and end of caption (|\strut|: the rules with height
%^^A%   and depth, which are set accordingly to current |\baselineskip|).
%   \noindent\emph{Замечание \textsf{floatrow}}.
%   Для примеров выше также был задан специальный ключ |\captionsetup|\allowbreak
%   |[capbesidefigure]|\allowbreak|{strut=no}|, который
%   отменяет «распорки» вначале и~в~конце подрисуночной подписи (|\strut|: специальные невидимые линейки,
%   высота и~глубина которых изменяется в~зависимости от заданного в~данный момент интерлиньяжа,
%   |\baselineskip|).
%
%
%   \penalty-5000
%^^A%   \subsubsection{Defining Float Foot Position (Legends and Footnotes)}%
%   \subsubsection{Определение расположения экспликаций и~сносок}
%   \label{sec:footposition}
%
%   \DescribeMacro{footposition}\label{setup:footposition}%^^A
%^^A%   Defines position of |\footnote|'s and |\floatfoot|'s in float box
%^^A%   with above/below captions.
%^^A%   (See examples in file \file{frsample01.tex}.)
%   Определяет расположение содержимого команд |\footnote| и~|\floatfoot| внутри
%   бокса плавающего объекта с~подписями сверху/снизу. (См. примеры в~файле~\file{frsample01.tex}.)
%   \begin{Options}{\OptionLabel}
%   \RestoreSpaces
%     \item[default]
%^^A%     if caption above float object foot material is placed below float
%^^A%     object otherwise---below caption;
%     если подпись сверху, экспликации и~сноски помещаются под объектом;
%     в~противном случае "--- под подписью;
%     \item[caption]
%^^A%     always placed below caption;
%     всегда помещаются под подписью;
%     \item[bottom]
%^^A%     always placed at the bottom of float box.
%     всегда помещаются внизу бокса.
%   \end{Options}
%^^A%   In the case of caption
%^^A%   beside float object, footnotes and foot text are always placed below
%^^A%   caption.
%   В~случае подписи стоящей сбоку,
%   сноски и~экспликации всегда помещаются под подписью.
%
%^^A%   The next example shows the usage of the |caption| option of this key:
%   Следующий пример демонстрирует использование опции |caption|:
%\begin{Quote}\openup.5pt
%\begin{preamble}
%|\floatsetup{|\FRkey{style}|=ruled,footposition=caption}|
%\end{preamble}\nopagebreak
%   |\begin{figure}|\nopagebreak
%   |    ...|\nopagebreak
%   |    \caption{...}\label{...}%|
%   |    \floatfoot{...}|\nopagebreak
%   |\end{figure}|
%\end{Quote}\vskip-.5\lastskip
%\begingroup\floatsetup[figure]{style=ruled,footposition=caption}
%   \begin{figure}[H]
%   \unitlength\unitlength\input{TheCat.picture}
%   \caption{Рисунок в~стиле \texttt{ruled} с~экспликацией, помещённой сразу под содержимым подписи}%
%   \label{ruled:footposition}%
%   \floatfoot{На рисунке изображение очень симпатичной мордочки очень забавной и~очень пушистой
%       рыжей кошки. У~кошки жёлтые глаза, большие уши, маленький розовый носик и~толстые белые усы}
%   \end{figure}%^^A
%\endgroup
%
%^^A%   \subsubsection{Vertical Alignment of Float Elements}\label{sec:heightadjust}
%   \subsubsection{Вертикальное выравнивание элементов флота}\label{sec:heightadjust}
%   \DescribeMacro{heightadjust}\label{setup:heightadjust}%^^A
%^^A%   Defines whether the common maximum height of objects
%^^A%   or/and captions in the |floatrow| environment will be used for building of float row.
%^^A%   It has following options\par
%   Определяет будет ли использоваться в~ряду (|floatrow|) максимальная
%   высота объекта
%   и/или подписи в~качестве общей. Ключ имеет следующие опции
%   \begin{Options}{\OptionLabel}\samepage
%     \item[all]
%^^A%     adjust both caption and object heights (e.g. for styles
%^^A%     |ruled|, |Ruled| and |BOXED|);
%     выровнять высоты объектов и подписей по максимальной
%     высоте (например, используется стилями |ruled|, |Ruled| и~|BOXED|);
%     \item[caption]
%^^A%     adjust caption heights (e.g. for  |Plaintop| style);
%     выровнять высоты подписей по максимальной высоте
%     (используется стилем |Plaintop|);
%     \item[object]
%^^A%     adjust object heights (e.g. for |Boxed| style);
%     выровнять высоты объектов по максимальной высоте
%     (используется стилем |Boxed|);
%     \item[none]
%^^A%     nothing to be adjusted (the |plain| style);
%     никакие высоты не изменяются (используется стилем |plain|);
%     \item[nocaption]
%^^A%     no adjusting for captions;
%     высоты подписей не изменяются;
%     \item[noobject]
%^^A%     no adjusting for objects;
%     высоты объектов не изменяются;\vspace*{-.5\baselineskip}
%   \end{Options}
%^^A%   You may define height adjustment even as followed:
%   Вы можете определить, как делать общие высоты, даже так:
%   \begin{quote}
%     |heightadjust={caption,noobject}|\quad.
%   \end{quote}
%
%^^A%   The following two examples show |ruled| and |Ruled| style.
%^^A%   Both styles use |heightadjust=all| key option, but first style
%^^A%   uses |capposition=top|, and second one---|capposition=TOP|.
%   Два следующих примера демонстрируют стили |ruled| и~|Ruled|.
%   Оба стиля используют ключ |heightadjust=all|, но первый стиль
%   использует |capposition=top|, а~второй \cdash--- |capposition=TOP|.
%\begingroup
%\begin{Quote}
%\begin{preamble}
%|\floatsetup{|\FRkey{style}|=ruled}|
%\end{preamble}
%   |\begin{figure}|
%   |\begin{|\FRkey[sec]{floatrow}|}|
%   |  \|\FRkey[FB]{ffigbox}
%   |    {...}{\caption{Рисунок ...}\label{...}}%|
%
%   |  \ffigbox|
%   |    {\caption{Рисунок справа ...}\label{...}}{...}|
%   |\end{floatrow}|\nopagebreak
%   |\end{figure}|\vspace*{-.75\intextsep}
%\end{Quote}\pagebreak[2]%
%   \captionsetup{strut=yes}
%   \begin{figure}[H]\floatsetup{style=ruled}\killfloatstyle
%    \begin{floatrow}
%   \ffigbox
%   {\unitlength.8\unitlength\input{BlackCat.picture}}
%   {\caption{Рисунок в~стиле \texttt{ruled}}%
%   \label{leftfig:ruled}}%
%
%   \ffigbox
%   {\caption{Рисунок справа в~ряду также использует настройки стиля \texttt{ruled}\protect\vphantom y}%^^A
%    \label{rightfig:ruled}}
%   {\unitlength1.25\unitlength\input{Cat.picture}}
%    \end{floatrow}
%   \end{figure}%^^A
%\begin{Quote}
%\begin{preamble}
%|\floatsetup{style=Ruled}|
%\end{preamble}\nopagebreak
%   |...|\vspace*{-.75\intextsep}
%\end{Quote}%
%   \captionsetup{strut=yes}
%   \begin{figure}[H]\floatsetup{style=Ruled}\killfloatstyle
%    \begin{floatrow}
%   \ffigbox
%   {\unitlength.8\unitlength\input{BlackCat.picture}}
%   {\caption{Рисунок в~стиле \texttt{Ruled}}%
%   \label{leftfig:Ruled}}%
%
%   \ffigbox
%   {\caption{Рисунок справа в~ряду также использует настройки стиля \texttt{Ruled}\protect\vphantom y}%^^A
%    \label{rightfig:Ruled}}
%   {\unitlength1.25\unitlength\input{Cat.picture}}
%    \end{floatrow}
%   \end{figure}\pagebreak[1]
%\endgroup
%
%   \addvspace\medskipamount\noindent
%   \DescribeMacro{valign}\label{setup:valign}%^^A
%^^A%   Defines vertical alignment of
%^^A%   float objects in |floatrow| if |heightadjust=all| or
%^^A%   |heightadjust=object| keys were used, or |\floatbox| stuff uses \meta{height}
%^^A%   argument with value, which differs from the height of object.
%^^A%   The options of this key are analogous to vertical
%^^A%   alignment option in |minipage| environment and |\parbox|
%^^A%   command. Default option is |c| (centered vertical alignment).
%   Определяет вертикальное выравнивание объектов в~ряду
%   (|floatrow|) если заданы ключи |heightadjust=all| или
%   |heightadjust=object| или в~командах |\floatbox| используется
%   аргумент \meta{height}
%   с~величиной б\'ольшей высоты объекта. Опции этого ключа аналогичны
%   опции вертикального
%   выравнивания в~окружении |minipage| и~команде |\parbox|.
%   Опция по умолчанию: |c|
%   (центрированное вертикальное выравнивание).
%   \begin{Options}{cc}\samepage
%     \item[t]
%^^A%     aligns objects by top line;
%     выравнивает объекты по верхней линии;
%     \item[c]
%^^A%     aligns objects by center line (this is default for all float styles which
%^^A%     use |heightadjust=object| or |heightadjust=all| settings, see examples above);
%     выравнивает объекты по средней линии (опция по умолчанию для всех стилей,
%     которые используют ключи |heightadjust=object| или |heightadjust=all|, см.~примеры выше);
%     \item[b]
%^^A%     aligns objects by bottom line;
%     выравнивает объекты по нижней линии;
%     \item[s]
%^^A%     stretches objects by full height (if it is possible).
%     растягивает объекты на всю высоту (если возможно).\vspace*{-.5\baselineskip}
%   \end{Options}
%
%^^A%   Next example (figure~\ref{BOXED:heightmod}) shows default vertical centered alignment
%^^A%   for figure with changed  height (remember that empty \meta{width} option means |\hsize|).
%   Следующий пример (рис.~\ref{BOXED:heightmod}) демонстрирует вертикальную центральную
%   выключку по умолчанию для рисунка с~изменённой
%   высотой (напомним, что пустая опция \meta{width} означает |\hsize|).
%\begin{Quote}
%\begin{preamble}
%|\floatsetup{style=BOXED}|
%|\usepackage{calc}|
%\end{preamble}
%   |\begin{figure}|\nopagebreak
%   |  \|\FRkey[FB]{ffigbox}|[][\|\FRkey[FB]{FBheight}|+2cm]|\nopagebreak
%   |...|
%   |\end{figure}|\vspace*{-.75\intextsep}
%\end{Quote}\pagebreak[1]
%   \begin{figure}[H]\floatsetup{style=BOXED}\killfloatstyle
%   \ffigbox[][\FBheight+2cm]
%   {\unitlength.95\unitlength\input{TheCat.picture}}
%   {\caption{Рисунок внутри \cmd{\ffigbox} использует опцию \meta{height}, центрируется вертикально}%
%   \label{BOXED:heightmod}}%
%   \end{figure}%^^A
%
%^^A%   The example with figures \ref{leftfig:BOXED:valigned}
%^^A%   and \ref{rightfig:BOXED:valigned} shows |BOXED| style, which
%^^A%   uses |heightadjust=all| settings already, and
%^^A%   also the |valign=t| option was added.
%   Пример с~рисунками \ref{leftfig:BOXED:valigned}
%   и~\ref{rightfig:BOXED:valigned} демонстрируют стиль |BOXED|,
%   который уже использует |heightadjust=all|,
%   здесь также задана настройка |valign=t|.
%\begin{Quote}\openup-.5pt
%\begin{preamble}
%|\floatsetup{style=BOXED,valign=t}|
%|\usepackage{calc}|
%\end{preamble}
%   |\begin{figure}|
%   |\begin{|\FRkey[sec]{floatrow}|}|
%   |  \|\FRkey[FB]{ffigbox}|[\|\FRkey[FB]{FBwidth}|+2cm]|
%   |    {...}|
%   |    {\caption{Левый ...}\label{...}}%|
%| |
%   |  \ffigbox[\FBwidth+2cm][2\FBheight]|
%   |    {\caption{Рисунок ...}\label{...}}|
%   |    {...}|
%   |\end{floatrow}|\nopagebreak
%   |\end{figure}|
%\end{Quote}\pagebreak[1]
%   \begin{figure}[H]\floatsetup{style=BOXED,valign=t}\killfloatstyle
%    \begin{floatrow}
%   \ffigbox[\FBwidth+2cm]
%   {\input{BlackCat.picture}}
%   {\caption{Левый рисунок в~ряду использует вертикальное выравнивание по \hbox{верху}}%^^A
%   \label{leftfig:BOXED:valigned}}%
%
%   \ffigbox[\FBwidth+2cm][2\FBheight]
%   {\caption{Рисунок справа тоже использует вертикальное выравнивание по \hbox{верху}}%^^A
%    \label{rightfig:BOXED:valigned}}
%   {\unitlength1.25\unitlength\input{Cat.picture}}
%    \end{floatrow}
%   \end{figure}%^^A
%^^A%   Please look at the \meta{height} and \meta{width} options of |\ffigbox|
%^^A%   commands of the figure~\ref{BOXED:heightmod}
%^^A%   and beside figures~\ref{leftfig:BOXED:valigned}, \ref{rightfig:BOXED:valigned} consequently:
%^^A%   you may set the height and widths in this way with \package{calc} package.
%^^A%   Right figure in the row has double height in the \meta{height} argument of |\ffigbox|.
%   Посмотрите на задание ширины и~высоты в~опциях \meta{height} и~\meta{width} команды |\ffigbox|
%   в~рисунке~\ref{BOXED:heightmod}
%   и~в~двух рисунках~\ref{leftfig:BOXED:valigned}, \ref{rightfig:BOXED:valigned} соответственно:
%   такое задание ширины можно использовать при загруженном пакете \package{calc}.
%   У~правого рисунка в~ряду задана двойная высота в~аргументе \meta{height} команды |\ffigbox|.
%
%^^A%   \subsubsection{Facing Layout}
%   \subsubsection{Оформление для разворотов}
%   \DescribeMacro{facing}\label{setup:facing}%^^A
%^^A%   This key defines whether facing layout is used
%^^A%   for floats, if it is switched on, key options, which create different layout for even and odd pages
%^^A%   are switched on. This key works if |twoside| option is switched on inside the
%^^A%   document class line.
%   Этот ключ определяет будет ли использоваться оформление флотов
%   для разворотов (различное, обычно зеркальное
%   оформление чётных и нечётных полос) если он включён, опции ключей, которые создают различный
%   макет для чётных и~нечётных полос будут также включены.
%   Этот ключ работает, если включена опция |twoside| в~классе документа.
%
%^^A%   The most popular usage of |facing| key is printing of
%^^A%   beside captions to the inner sides of pages with option
%^^A%   |capbesideposition=inside| (the opposite option is |capbesideposition=outside|)
%^^A%   works together with switched |facing=yes| key.
%   Наиболее популярное использование ключа |facing| \cdash---
%   размещение подрисуночных подписей сбоку к~корешку с~помощью
%   опции |capbesideposition=inside| (а~также |capbesideposition=outside|)
%   которая работает вместе с~ключом |facing=yes|.
%
%^^A%   The figures~\ref{intro:beside} and~\ref{intro:beside:FBwidth} with beside captions
%^^A%   in the Introduction illustrate these options---%^^A
%^^A%   |facing=yes,|\allowbreak|capbesideposition=inside|.
%   Рисунки~\ref{intro:beside} и~\ref{intro:beside:FBwidth} с~подписями сбоку
%   во введении иллюстрируют опции \cdash---
%   \texttt{facing=yes,\allowbreak capbesideposition=inside}.
%
%^^A%   \subsubsection{Object Settings}
%   \subsubsection{Настройки для содержимого объекта}\label{sec:set:object}
%   \noindent
%   \DescribeMacro{objectset}\DescribeMacro{justification}\label{setup:objectset}%^^A
%^^A%   Defines justification of float object
%^^A%   (float contents). Predefined options are similar to
%^^A%   |justification=| key in |\captionsetup|.
%   Определяет выключку содержимого объекта.
%   Предопределённые опции те же, что и~для ключа
%   |justification=| команды |\captionsetup|.
%   \begin{Options}{\OptionLabel}
%     \item[justified]
%^^A%     Blocks (in the case of a~picture or text in parbox)
%^^A%     moved to the left, the text aligned as a normal paragraph (without indentation).
%     Блоки (рисунки или текст в~боксе) сдвигаются влево,
%     текст объекта печатается как обычный абзац, но без отступа.
%
%     \item[centering]
%^^A%     Blocks centered, each line of the object text will be centered. (This is the default.)
%     Блоки и строки текста объекта центрируются. (Задано по умолчанию.)
%
%     \item[raggedright]
%^^A%     Blocks moved to the left, each line of the text shoved to the left margin.
%     Блоки и строки текста объекта выключаются влево.
%
%     \item[RaggedRight]
%^^A%     As in previous item, each line of the text shoved to the
%^^A%     left margin, too.
%^^A%     But this time the command |\RaggedRight| of the \package{ragged2e} package
%^^A%     will be used to achieve this. This difference is that this time
%^^A%     the word breaking algorithm of \TeX\ will work inside the text.
%     Как и~в~предыдущем пункте, блоки и строки текста объекта также выключаются влево.
%     Но в~этом случае используется команда |\RaggedRight| пакета \package{ragged2e}.
%     Разница состоит в~том, что задействован алгоритм переносов внутри текста
%     как в plain~\TeX'е.
%
%     \item[raggedleft]
%^^A%     Blocks moved to the right,
%^^A%     each line of the text shoved to the right margin.
%     Блоки и строки выключаются вправо.
%
%^^A%     \item[RaggedLeft]
%^^A%^^A%     Analogous to |RaggedRight|.
%^^A%     Аналогична |RaggedRight|.
%
%     \item[...]
%^^A%   You may also create  your own settings with the |\DeclareObjectSet| command (see
%^^A%   page~\pageref{ssec:decl:rule})
%   Вы можете задать свои собственные настройки с~помощью команды~|\DeclareObjectSet|
%   (см.~с.~\pageref{ssec:decl:rule})
%   \end{Options}
%
%^^A%   \subsubsection{Defining Float Margins}
%   \subsubsection{Поля вокруг флотов}\label{sec:set:box}
%   \DescribeMacro{margins}\label{setup:margins}%^^A
%^^A%   Defines margins (skips, rules or other margin material) of alone float boxes with
%^^A%   captions above/below, of float boxes with beside captions, and of
%^^A%   |floatrow| environments. It has following three predefined
%^^A%   options:
%   Определяет поля (отбивки, линейки или другой материал) для отдельных флотов с~подписями сверху/снизу,
%   для отдельных флотов с~подписями сбоку, и~для окружения
%   |floatrow|. Ключ уже имеет три предопределённые опции:
%   \begin{Options}{\OptionLabel}
%     \item[centering]
%^^A%     float box centered;
%     бокс флота (ряд флотов) центрируется;
%     \item[raggedright]
%^^A%     float box flushed to the left (see figure~\ref{fig:floatwidth});
%     бокс флота (ряд флотов)  выключается влево (см.~рис.~\ref{fig:floatwidth});
%     \item[raggedleft]
%^^A%     float box flushed to the right;
%     бокс флота (ряд флотов)  выключается вправо;
%     \item[hangleft]
%^^A%     usually for wide floats: left edge of float boxes hangs to the margin space (there are used
%^^A%     |\marginparwidth| and |\marginparsep| values; the |\leftskip| and |\rightskip| settings are
%^^A%     added, which have been taken from the |objectset=| key);
%     возможный вариант для звёздного окружения, используемого для широких флотов:
%     левый край боксов флотов выступает на поле (для этого используются
%     значения |\marginparwidth| и~|\marginparsep|; добавляются значения |\leftskip| и~|\rightskip|
%     из настроек ключа |objectset=|);
%     \item[hangright]
%^^A%     analogous to previous, right edge of floats boxes hangs to the margin space;
%     аналогична предыдущей, правый край боксов флотов выступает на поле;
%     \item[hanginside]
%^^A%     analogous to previous, but in this option hangs inner edge for facing/twoside layout,
%^^A%     or left margin for one side layout;
%     аналогична предыдущей, но в~этой опции край флотов выступает в~корешковое поле, если
%     макет документа двусторонний, или в~левое поле при одностороннем макете;
%     \item[hangoutside]
%^^A%     analogous to previous, but in this option hangs outer edge for facing/twoside layout,
%^^A%     or right margin for one side layout;
%     аналогична предыдущей, но в~этой опции край флотов выступает во внешнее поле, если
%     макет документа двусторонний, или в~правое поле при одностороннем макете;
%     \item[...]
%^^A%   You may create your own alignment settings with the \\|\DeclareMarginSet| command, see
%^^A%   page~\pageref{ssec:decl:marg}.
%   Вы можете задать специальное выравнивание с~помощью команды~|\DeclareMarginSet|
%   (см.~с.~\pageref{ssec:decl:marg}).
%   \end{Options}
%
%^^A%   \subsubsection{Defining Float Separators}\label{sec:set:sep}
%   \subsubsection{Определение разделителей}\label{sec:set:sep}
%   \noindent
%   \DescribeMacro{floatrowsep}\label{setup:floatrowsep}%^^A
%^^A%   Sets separation material between beside float boxes in one row
%^^A%   inside |floatrow| environment (see page~\pageref{sec:floatrow}).
%   Задаёт разделительный материал между плавающими объектами в~одном ряду,
%   внутри окружения |floatrow| (см.~с.~\pageref{sec:floatrow}).
%
%   \addvspace\smallskipamount\noindent
%   \DescribeMacro{capbesidesep}\label{setup:capbesidesep}%^^A
%^^A%   Sets separation material between object and beside caption (see page~\pageref{intro:beside}).
%   Задаёт разделительный материал между объектом и~подписью сбоку (см.~с.~\pageref{intro:beside}).
%
%   \RestoreSpaces
%^^A%   Both key settings work similarly to |labelsep=| key
%^^A%   from |\captionsetup|.
%   Настройки обоих ключей работают аналогично настройкам ключа |labelsep=|
%   в команде |\captionsetup|.
%%^^A
%^^A%   They use following predefined options:
%   Они используют следующие предопределённые опции:
%   \begin{Options}{\OptionLabel}
%     \item[columnsep]
%^^A%     horizontal skip${}={}$|\columnsep| (default for both keys);
%     горизонтальная отбивка${}={}$|\columnsep| (межколонник при двух-
%     и~многоколонном наборе, опция по умолчанию для обоих ключей);
%     \item[quad]
%^^A%     horizontal skip${}={}1$\,em;
%     горизонтальная отбивка${}={}1$\,em (одна кегельная);
%     \item[qquad]
%^^A%     horizontal skip${}={}2$\,em;
%     горизонтальная отбивка${}={}2$\,em (две кегельные);
%     \item[hfil]
%^^A%     horizontal skip${}={}1$\,fil (like |\hfil|);
%     горизонтальная отбивка${}={}1$\,fil (то же, что и~|\hfil|);
%     \item[hfill]
%^^A%     horizontal skip${}={}1$\,fill (like |\hfill|);
%     горизонтальная отбивка${}={}1$\,fill (то же, что и~|\hfill|);
%     \item[none]
%^^A%     empty separator.
%     пустой разделитель;
%     \item[...]
%^^A%   You may also create  your own settings with the\\ |\DeclareFloatSeparators| command (see
%^^A%   page~\pageref{setup:DeclareFloatSeparators})
%   вы можете задать свои собственные установки с~помощью команды |\DeclareFloatSeparators|
%   (см.~с.~\pageref{setup:DeclareFloatSeparators})
%   \end{Options}
%^^A%   This documentation uses settings |floatrowsep=qquad| for separation of
%^^A%   beside floats and\allowbreak\ |capbesidesep=quad|
%^^A%   for floats with beside captions.
%   Данная документация использует настройки |floatrowsep=qquad,| для флотов рядом и~|capbesidesep=quad|
%   для флотов с~подписью сбоку.
%
%^^A%   The figure \ref{fig:plain:trick} uses tricky float style, which shows you layout, where
%^^A%   the |capbesidewidth=| key with absolute value appears very useful.
%   Рисунок \ref{fig:plain:trick} использует хитроумный вариант
%   оформления где ключ, определяющий ширину подписи сбоку |capbesidewidth=|
%   как абсолютное значение, оказывается очень полезным.
%\begin{Quote}
%\begin{preamble}
%|\|\FRkey{DeclareFloatSeparators}|{mcapwidth}{\hskip-\FCwidth}|
%|\floatsetup[figure]|
%| {|\FRkey{style}|=plain,|\FRkey{objectset}|=centering,|\FRkey{margins}|=centering,|
%|  |\FRkey{capbesidewidth}|=6cc,|%^^A
%    \FRkey{capbesideposition}|=left,|
%|  |\FRkey{capbesidesep}|=mcapwidth,|\FRkey{floatwidth}|=sidefil}|\smallskip
%|\captionsetup[capbesidefigure]{labelsep=newline,|
%|  justification=raggedright}|
%\end{preamble}
%   |\begin{figure}|\nopagebreak
%   |\|\FRkey[FB]{fcapside}\nopagebreak
%   |\end{figure}|
%\end{Quote}
%^^A%   In this style all figures with beside captions centered accordingly to
%^^A%   full text \verb|\hsize|, because of the separator between float object and
%^^A%   caption has negative value of caption width.
%^^A%   Usage of such float layout supposes that all
%^^A%   float objects with beside captions are narrower than |\hsize| (|\textwidth|) by at least 2~caption
%^^A%   widths. Please note the |\FCwidth| command in the definition of |mcapwidth|
%^^A%   key---later you may change the width of beside caption (loading e.g.
%^^A%   |\thisfloatsetup|\allowbreak|{capbesidewidth=8cc}| settings), and, in spite of the value
%^^A%   the separator also will be changed, picture will be anyway
%^^A%   centered accordingly to full \verb|\hsize|.
%   В~этом случае все рисунки с~подписями сбоку будут центрированы
%   относительно \verb|\hsize|, поскольку разделитель между объектом и~подписью сбоку
%   задан в~виде отрицательного значения ширины подписи (см.~с.~\pageref{setup:DeclareFloatSeparators}).
%   Использование такого оформления флота предполагает что все объекты флота \'уже чем
%   |\textwidth| или заданного значения \verb|\hsize| (|\textwidth|), как минимум на 2~ширины подписи.
%   Обратите внимание, что в~опции |mcapwidth| используется команда |\FCwidth| \cdash---
%   в~документе вы можете изменить ширину подписи сбоку (задав, например, настройки
%   |\thisfloatsetup||{capbesidewidth=8cc}| перед нужным окружением), рисунок всё равно отцентрируется
%   относительно всей ширины \verb|\hsize|.
%
%   \begingroup
%   \clearfloatsetup{figure}\floatsetup[figure]
%    {style=plain,objectset=centering,
%     floatwidth=\columnwidth,capbesidewidth=6cc,
%     capbesideposition=left,capbesidesep=mcapwidth,
%     margins=centering,floatwidth=sidefil}
%   \captionsetup[capbesidefigure]{labelsep=newline,
%     justification=raggedright}
%   \begin{figure}[H]
%     \fcapside{}{\unitlength1.28\unitlength
%     \input{Doll.picture}
%     \caption[Рисунок с~подписью сбоку; ширина подписи (\texttt{=6cc}) «скрыта»,
%       рисунок центрируется на всю ширину]{%^^A
%     Просто рисунок}\label{fig:plain:trick}}
%   \end{figure}%
%   \endgroup
%
%^^A%   \subsubsection{Defining Float Rules/Skips}\label{sec:set:rule}
%   \subsubsection{Определение вертикальных отбивок или линеек}\label{sec:set:rule}
%   \DescribeMacro{precode}\label{setup:precode}%^^A
%^^A%   Defines skip, rule or other analogous code above float box (see page~\pageref{intro:leftfig:box}).
%   Определяет отбивку, линейку или аналогичный материал сверху флота
%    (см.~с.~\pageref{intro:leftfig:box}).
%
%   \addvspace\smallskipamount\noindent
%   \DescribeMacro{rowprecode}\label{setup:rowprecode}%^^A
%^^A%   Defines skip, rule or other analogous code above alone float box,
%^^A%   or, in the case of beside floats inside |floatrow| environment,
%^^A%   above float row (see page~\pageref{intro:leftfig:row} and~\pageref{fig:rotrow:WcatI}).
%   Определяет отбивку, линейку или аналогичный материал
%   сверху отдельного флота или сверху ряда флотов в~окружении |floatrow|
%   (см.~с.~\pageref{intro:leftfig:row} и~\pageref{fig:rotrow:WcatI}).
%
%   \addvspace\smallskipamount\noindent
%   \DescribeMacro{midcode}\label{setup:midcode}%^^A
%^^A%   Defines skip, rule or other analogous code between
%^^A%   caption above/below and float object.
%   Определяет отбивку, линейку или аналогичный материал
%   между подписью сверху/снизу и~объектом.
%
%   \addvspace\smallskipamount\noindent
%   \DescribeMacro{postcode}\label{setup:postcode}%^^A
%^^A%   Defines skip, rule or other analogous code below float box (see page~\pageref{intro:leftfig:box}).
%   Определяет отбивку, линейку или аналогичный материал снизу флота
%    (см.~с.~\pageref{intro:leftfig:row} и~\pageref{intro:leftfig:box}).
%
%   \addvspace\smallskipamount\noindent
%   \DescribeMacro{rowpostcode}\label{setup:rowpostcode}%^^A
%^^A%   Defines skip, rule or other analogous code below alone float box, or,
%^^A%   in the case of beside floats inside |floatrow| environment,
%^^A%   below float row (see page~\pageref{intro:leftfig:row} and~\pageref{fig:rotrow:WcatI}).
%   Определяет отбивку, линейку или аналогичный материал снизу
%   отдельного флота или
%   снизу ряда флотов в~окружении |floatrow| (см.~с.~\pageref{fig:rotrow:WcatI}).
%
%^^A%   For all these keys there are predefined following options (settings
%^^A%   were taken from styles created in \package{float} package):
%   Для всех этих ключей предопределены следующие опции (настройки
%   взяты из стилей, созданных пакетом \package{float}):
%   \begin{Options}{\OptionLabel}\makeatletter\@itempenalty10000\makeatother
%     \item[none]
%^^A%     absent code (the default option for |precode=|, |rowprecode=|, |postcode=| and |rowpostcode=|
%^^A%     keys); in |plain|, |plaintop|, |boxed|, and similar styles;
%     отбивка отсутствует (является опцией по умолчанию для ключей |precode|, |rowprecode|,
%       |postcode| и~|rowpostcode|) в~стилях |plain|, |plaintop|, |boxed| и~т.\,п.;
%     \item[thickrule]
%^^A%     thick rule (.8pt) with 2pt vertical skip below---rule above float box
%^^A%     in |ruled| and |Ruled| styles which is used there by
%^^A%     |precode=| key (see figures~\ref{leftfig:ruled}--\ref{rightfig:Ruled});
%     толстая линия (.8pt) с~отбивкой снизу в~2pt \cdash--- верхняя линейка
%     над флотом в~стилях |ruled| и~|Ruled|, используется
%     ключом |precode=|;
%     \item[rule]
%^^A%     rule of default thickness (.4pt), with 2pt vertical skips above and below---middle rule
%^^A%     in |ruled| and |Ruled| styles is printed between object and caption, and
%^^A%     used there by |midcode=| key;
%     линейка обычной толщины (.4pt), с~отбивками сверху и~снизу
%     в~2pt \cdash--- средняя линейка в~стиле |ruled| и~|Ruled|, печатается между
%     объектом и~подписью и~используется ключом |midcode=|;
%     \item[lowrule]
%^^A%     rule of default thickness (.4pt), with 2pt vertical skip above---rule below float box
%^^A%     in |ruled| and |Ruled| styles, used there by
%^^A%     |postcode=| key;
%     линейка обычной толщины (.4pt), с~отбивкой сверху
%     в~2pt "--- нижняя линейка в~стиле |ruled| используется ключом |postcode=|;
%     \item[captionskip]
%^^A%     vertical skip which uses the value, defined in |captionskip=| key; the default option for
%^^A%     |midcode=| key: this option is used
%^^A%     in |plain|, |plaintop|, |boxed|, and similar styles.
%     опция использует вертикальную отбивку, задаваемую ключом |captionskip=|, и~в~свою очередь
%     используется стилями |plain|, |plaintop|, |boxed| и~др. (является опцией по умолчанию
%     для ключа |midcode=|).
%     \item[...]
%^^A%   You may create your own options with the |\DeclareFloatVCode| command,
%^^A%   see page~\pageref{ssec:decl:rule}.
%   Вы можете задать свои установки с~помощью команды~\\|\DeclareFloatVCode|,
%   см.~с.~\pageref{ssec:decl:rule}.
%   \end{Options}
%^^A%   The |rowprecode| and~|rowpostcode| keys, in the case of unfilled row
%^^A%   may occupy the whole width of the predefined size or get the natural width,
%^^A%   depending to the defined settings  of row contents (see description of the
%^^A%   \FRkey{rowfill} key, page~\pageref{setup:rowfill}).
%   В~зависимости от настроек ключи |rowprecode=| и~|rowpostcode=|, если флоты занимают не всю ширину ряда,
%   могут принять натуральную ширину неполного ряда или растянуться на весь формат (см. описание
%   ключа \FRkey{rowpfill} на с.~\pageref{setup:rowfill}).
%
%^^A%   \subsubsection{Defining Float Frames}
%   \subsubsection{Задание рамок для флотов}
%   \DescribeMacro{framestyle}\label{setup:framestyle}%^^A
%^^A%   Defines type of frame; the
%^^A%   \package{floatrow} package offers only one type of frame:
%   Определяет тип рамки; пакет
%   \package{floatrow} предлагает только следующие виды рамок:
%   \RestoreSpaces\begin{Options}{\OptionLabel}
%     \item[fbox]
%^^A%     standard frame;
%     стандартная рамка.
%     \item[colorbox]
%^^A%     colored frame, needs also \package{color} package;
%^^A%     if not defined,  the |\fbox| command is used instead.
%     цветная рамка, для неё нужен пакет \package{color};
%     если эта рамка не определена, используется обычная |\fbox|;
%     \item[FRcolorbox]\label{setup:FRcolorbox}%
%^^A%     colored frame which allow to set additional material attached to its corners,
%^^A%     needs also \package{color} package;
%^^A%     if not defined, there is used |\fbox|;
%     цветная рамка, позволяющая задать линейки или другой материал, привязанный к~её углам;
%     если эта рамка не определена, используется обычная |\fbox|;
%     \item[corners]\label{setup:corners}%
%^^A%     the same as previous but without |\colorbox|---it puts the corner material only,
%^^A%     (current option doesn't need the frame definition);
%^^A%     needs also \package{color} package (in current version).
%     аналогична предыдущей но не создаёт цветной рамки |\colorbox| \cdash---
%     помещается только материал, заданный по углам
%     (в~данной опции определения рамки не требуется);
%     для этой опции всё равно необходим пакет \package{color}.
%   \end{Options}
%^^A%   There are options for additional frames, offered by \package{fr-fancy}
%^^A%   package, installed with |floatrow|:
%   Далее идут опции для задания дополнительных вариантов рамок,
%   предлагаемых пакетом \package{fr-fancy},
%   который инсталлируется вместе с~\package{floatrow}:
%   \begin{Options}{\OptionLabel}
%     \item[doublebox]
%^^A%     double frame, needs also \package{fancybox} package;
%     двойная рамка, для неё нужен пакет \package{fancybox};
%     \item[shadowbox]
%^^A%     frame with shadow, needs also \package{fancybox} package;
%     рамка с~тенью, для неё нужен пакет \package{fancybox};
%     \item[wshadowbox]
%^^A%     modified |shadowbox| frame (frame with ``white shadow''),
%^^A%     needs also \package{fancybox} package;
%     изменённая рамка |shadowbox| (с~«белой тенью»),
%     для неё нужен пакет \package{fancybox};
%   \end{Options}
%
%   \addvspace\medskipamount\noindent
%   \DescribeMacro{frameset}\label{setup:frameset}%^^A
%^^A%   The parameters for chosen frame; there are no options
%^^A%   for this key, just write something like:
%   Параметры выбранной рамки; для этого ключа нет предопределённых опций,
%   он определяется следующим образом:
%   \begin{Quote}
%     |frameset={\fboxrule1pt\fboxsep12pt}|\quad.
%   \end{Quote}
%^^A%   The default settings for frame building with the
%^^A%   |\fbox| command:
%   По умолчанию используются стандартные значения для построения рамки с~помощью команды
%   |\fbox|:
%   \begin{Quote}
%     |\fboxrule=.4pt \fboxsep=3pt|\quad.
%   \end{Quote}
%
%   \addvspace\medskipamount\noindent
%   \DescribeMacro{framearound}\label{setup:framearound}%^^A
%^^A%   Declares element of float box to be framed:
%   Задаёт элемент флота, вокруг которого нужно создать рамку:
%   \RestoreSpaces\begin{Options}{RaggedRigh}
%     \item[object]
%^^A%     float object contents;
%     только содержимое объекта;
%     \item[all]
%^^A%     full float box including object, caption, and any foot text.
%     весь бокс флота, включая объект, подпись, сноски/экспликации;
%     \item[row]
%^^A%     float row of beside floats, or alone float;
%     весь ряд флотов, или отдельно стоящий флот;
%     \item[none]
%^^A%     nothing.
%     нет рамки.
%   \end{Options}
%
%   \addvspace\medskipamount\noindent
%   \DescribeMacro{framefit}\label{setup:framefit}%^^A
%^^A%   Boolean which sets whether the \textit{frame width} will
%^^A%   be equal to current |\hsize|, predefined width or value of \meta{width} option of
%^^A%   float box (|framefit=yes|), in this case object size reduced (see
%^^A%   figures~\ref{fig:setup:Boxed} and~\ref{fig:setup:FBwidth:Boxed});
%^^A%   or the frame climbs out in the left and
%^^A%   right sides, and \textit{width of object} has current
%^^A%   |\hsize|, predefined width or value of \meta{width} option of
%^^A%   float box (|framefit=no|, see figure~\ref{fig:setup:boxed}).
%   Переключатель (булев параметр) определяет,
%   нужно ли \emph{ширину рамки} делать равной ширине
%   текста, предопределённой ширине |\hsize| или значению \meta{width} заданному в~командах
%   |\floatbox| (|framefit=yes|),
%   ширина бокса для объекта в~этом случае
%   уменьшается, (см.~рис.~\ref{fig:setup:Boxed});
%   или рамка выступает в~обе стороны и
%   в~этом случае \emph{ширина объекта} будет равна ширине
%   текста, предопределённой ширине |\hsize| или значению \meta{width} заданному в~командах
%   |\floatbox| (|framefit=no|, см.~рис.~\ref{fig:setup:boxed}).
%  \begingroup
%  \begin{Quote}\openup-.5pt
%\begin{preamble}%
%   |\floatsetup[figure]{framestyle=fbox,|\nopagebreak
%   |      framearound=object,frameset={\fboxrule1pt\fboxsep14pt},|
%   |      framefit=yes}%|$\approx|style=Boxed|$
%\end{preamble}%
%   |\begin{figure}|
%   |\|\FRkey[FB]{ffigbox}|[5cm]|
%   |   {...}{\caption{...}}|\nopagebreak
%   |\end{figure}|
%  \end{Quote}\pagebreak[3]
%   \floatsetup[figure]{framestyle=fbox,
%     framearound=object,frameset={\fboxrule1pt\fboxsep14pt},framefit=yes}%^^A$\equiv|style=Boxed|$
%  \begin{figure}[H]%
%  \ffigbox[5cm]
%  {\unitlength1.2\unitlength\input{Cat.picture}}{\caption[Ширина рамки равна ширине бокса]{Ширина рамки равна
%       ширине бокса (здесь: ширине подрисуночной подписи)}\label{fig:setup:Boxed}}
%  \end{figure}%
%   \floatsetup[figure]{framestyle=fbox,heightadjust=object,
%     framearound=object,frameset={\fboxrule1pt\fboxsep14pt},framefit=no}%%^^A$\equiv|style=boxed|$
%  \begin{Quote}\openup-.5pt
%\begin{preamble}%
%   |\floatsetup[figure]{...,framefit=no}%|$\approx|style=boxed|$
%\end{preamble}%
%   |\begin{figure}|%
%   |\ffigbox[5cm]|
%   |  {...}{\caption{...}}|\nopagebreak
%   |\end{figure}|
%  \end{Quote}%
%  \begin{figure}[H]%
%  \ffigbox[5cm]
%  {\unitlength1.2\unitlength\input{Cat.picture}}{\caption[Рамка вокруг графики выступает за края]{Рамка вокруг содержимого
%        объекта выступает за края бокса \hbox{флота}}\label{fig:setup:boxed}}
%  \end{figure}%
%
%^^A%   Next follows an example with |framefit=yes| key in the case of |[\|\FRkey{FBwidth}|]|
%^^A%   option of |\ffigbox|
%^^A%   command. In this case the width of float box (here: the width of caption) expanded to the
%^^A%   width of framed object.
%   Следующим идёт пример с~ключом |framefit=yes|, а~в~команде |\ffigbox| задана опция |[\|\FRkey{FBwidth}|]|.
%   В~этом случае ширина бокса флота увеличивается до размера объекта в~рамке.
%  \begin{Quote}\openup-.5pt
%\begin{preamble}%
%   |\floatsetup[figure]{...,framefit=yes}%|$\approx|style=Boxed|$
%\end{preamble}%
%   |\begin{figure}|
%   |\|\FRkey[FB]{ffigbox}|[\|\FRkey[FB]{FBwidth}|]|
%   |   {...}{\caption{...}}|\nopagebreak
%   |\end{figure}|
%  \end{Quote}
%   \floatsetup[figure]{framestyle=fbox,heightadjust=object,
%     framearound=object,frameset={\fboxrule1pt\fboxsep14pt},framefit=yes}%^^A$\equiv|style=Boxed|$
%  \begin{figure}[H]%
%  \ffigbox[\FBwidth]
%  {\unitlength1.2\unitlength\input{Cat.picture}}{\caption[Объект в~рамке имеет натуральную ширину;
%       у~остальных элементов бокса (здесь: подписи) ширина увеличена до размера
%       объекта в~рамке]{Объект в~рамке имеет натуральную ширину;
%       у~подписи ширина увеличена}\label{fig:setup:FBwidth:Boxed}}
%  \end{figure}%
%  \endgroup
%
%   \addvspace\medskipamount\noindent
%   \DescribeMacro{rowfill}\label{setup:rowfill}%^^A
%^^A%   Boolean key which in the case of |true| the material above and below float
%^^A%   row (the |rowprecode=| and |rowpostcode=| keys) or row frames (|framearound=row| option)
%^^A%   will be expanded to full predefined width, otherwise the rule or frame material will
%^^A%   have natural width of beside float boxes. Default value is |false|.
%   Булев параметр, при значении |true| материал (линейки) сверху и~снизу всего
%   ряда (ключи |rowprecode=| и~|rowpostcode=|) или рамки (опция |framearound=row|) растянутся
%   на полную ширину, в~противном случае линейки или рамки примут натуральную ширину
%   окружённого ими ряда флотов. (Нерастянутый ряд выключится согласно настройкам
%   |objectset=|.) По умолчанию данная опция |false|.
%
%\begin{Quote}
%\begin{preamble}
%|\|\FRkey{DeclareColorBox}|{yellowplate}{\colorbox{yellow}}|
%|\floatsetup{style=plain,|\FRkey{framestyle}|=colorbox,|
%|   |\FRkey{framearound}|=row,|\FRkey{colorframeset}|=yellowplate,|\FRkey{frameset}|={\fboxrule0pt},|
%|   |\FRkey{framestyle}|=colorbox,|\FRkey{framefit}|=yes,|\FRkey{heightadjust}|=object,|\FRkey{valign}|=c}|
%|\usepackage{calc}|\nopagebreak
%\end{preamble}
%   |\begin{figure}|
%   |\begin{|\FRkey[sec]{floatrow}|}|
%   |  \|\FRkey[FB]{ffigbox}|[\|\FRkey[FB]{FBwidth}|+2cm]|
%   |    {...}|
%   |\end{floatrow}|\nopagebreak
%   |\end{figure}|\vspace*{-.75\intextsep}
%\end{Quote}%
%\begingroup\floatsetup{style=plain,framearound=row,colorframeset=yellowplate,
%       framestyle=colorbox,framefit=yes,heightadjust=object,valign=c}
%   \begin{figure}[H]
%    \begin{floatrow}
%   \ffigbox[\FBwidth+2cm]
%   {\unitlength.9\unitlength\input{BlackCat.picture}}
%   {\caption{Рисунок слева в~неполном ряду, помещённом на цветную плашку. Ширина плашки
%        равна натуральной ширине флотов}%
%    \label{leftfig:BOXED:valigned:rowbox}}%
%   \ffigbox[\FBwidth+2.4cm]
%   {\caption{Рисунок справа в~неполном ряду, помещённом на цветную плашку}%^^A
%    \label{rightfig:BOXED:valigned:rowbox}}
%   {\unitlength1.25\unitlength\input{Cat.picture}}
%    \end{floatrow}
%   \end{figure}%^^A
%\endgroup
%^^A%   The result you see in the row of
%^^A%   figures~\ref{leftfig:BOXED:valigned:rowbox}, \ref{rightfig:BOXED:valigned:rowbox}.
%   Результат вы видите на примере с~рисунками%^^A
%   ~\ref{leftfig:BOXED:valigned:rowbox}, \ref{rightfig:BOXED:valigned:rowbox}.
%
%\begin{Quote}
%\begin{preamble}
%|\floatsetup{...rowfill=yes}|
%|...|\nopagebreak
%\end{preamble}
%   |...|\vspace*{-.75\intextsep}
%\end{Quote}%
%\begingroup\floatsetup{style=plain,framearound=row,colorframeset=yellowplate,rowfill=yes,
%       framestyle=colorbox,framefit=yes,heightadjust=object,valign=c}
%   \begin{figure}[H]
%    \begin{floatrow}
%   \ffigbox[\FBwidth+2cm]
%   {\unitlength.9\unitlength\input{BlackCat.picture}}
%   {\caption{Рисунок слева в~неполном ряду, помещённом на цветную плашку.
%        Ширина плашки задана на полный формат}%
%    \label{leftfig:BOXED:valigned:fillrowbox}}%
%   \ffigbox[\FBwidth+2.4cm]
%   {\caption{Рисунок справа в~неполном ряду, помещённом на цветную плашку, заданную на всю ширину}%^^A
%    \label{rightfig:BOXED:valigned:fillrowbox}}
%   {\unitlength1.25\unitlength\input{Cat.picture}}
%   ^^A\ffigbox[\Xhsize]{}{\strut}
%    \end{floatrow}
%   \end{figure}%^^A
%\endgroup
%^^A%   The result you see in the row of
%^^A%   figures~\ref{leftfig:BOXED:valigned:fillrowbox}, \ref{rightfig:BOXED:valigned:fillrowbox}.
%   Результат вы видите на примере с~рисунками%^^A
%   ~\ref{leftfig:BOXED:valigned:fillrowbox}, \ref{rightfig:BOXED:valigned:fillrowbox}.
%
%\begin{Quote}
%\begin{preamble}
%|\floatsetup[widefloat]{margins=hanfleft}|
%|\floatsetup{...}|
%|...|\nopagebreak
%\end{preamble}
%   |...|\vspace*{-.75\intextsep}
%\end{Quote}%
%\begingroup\floatsetup{style=plain,framearound=row,colorframeset=yellowplate,frameset={\fboxrule0pt},
%       framestyle=colorbox,framefit=yes,heightadjust=object,valign=c}
%   \begin{figure*}[H]
%    \begin{floatrow}
%   \ffigbox[\FBwidth+2cm]
%   {\unitlength.9\unitlength\input{BlackCat.picture}}
%   {\caption{Рисунок слева в~неполном ряду, помещённом на цветную плашку
%        (альтернативное оформление с~выходом в~левое поле).
%        Ширина плашки равна натуральной ширине флотов}%
%    \label{leftfig:BOXED:valigned:widerowbox}}%
%   \ffigbox[\FBwidth+2.4cm]
%   {\caption{Рисунок справа в~неполном ряду, помещённом на цветную плашку
%        (альтернативное оформление с~выходом в~левое поле)}%^^A
%    \label{rightfig:BOXED:valigned:widerowbox}}
%   {\unitlength1.25\unitlength\input{Cat.picture}}
%    \end{floatrow}
%   \end{figure*}%^^A
%\endgroup
%^^A%   The result you see in the row of
%^^A%   figures~\ref{leftfig:BOXED:valigned:widerowbox}, \ref{rightfig:BOXED:valigned:widerowbox}.
%   Результат вы видите на примере с~рисунками%^^A
%   ~\ref{leftfig:BOXED:valigned:widerowbox}, \ref{rightfig:BOXED:valigned:widerowbox}.
%
%\begin{Quote}
%\begin{preamble}
%|...|
%|\floatsetup{...rowfill=yes}|
%|...|\nopagebreak
%\end{preamble}
%   |...|\vspace*{-.75\intextsep}
%\end{Quote}%
%\begingroup\floatsetup{style=plain,framearound=row,colorframeset=yellowplate,rowfill=yes,
%       framestyle=colorbox,framefit=yes,heightadjust=object,valign=c,frameset={\fboxrule0pt}}
%   \begin{figure*}[H]
%    \begin{floatrow}
%   \ffigbox[\FBwidth+2cm]
%   {\unitlength.9\unitlength\input{BlackCat.picture}}
%   {\caption{Рисунок слева в~неполном ряду, помещённом на цветную плашку (альтернативное оформление с~выходом в~левое поле). Ширина плашки задана на полный формат}%
%    \label{leftfig:BOXED:valigned:widefillrowbox}}%
%   \ffigbox[\FBwidth+2.4cm]
%   {\caption{Рисунок справа в~неполном ряду, помещённом на цветную плашку (альтернативное оформление), заданную на всю ширину}%^^A
%    \label{rightfig:BOXED:valigned:widefillrowbox}}
%   {\unitlength1.25\unitlength\input{Cat.picture}}
%   ^^A\ffigbox[\Xhsize]{}{\strut}
%    \end{floatrow}
%   \end{figure*}%^^A
%\endgroup
%^^A%   The result you see in the row of
%^^A%   figures~\ref{leftfig:BOXED:valigned:widefillrowbox}, \ref{rightfig:BOXED:valigned:widefillrowbox}.
%   Результат вы видите на примере с~рисунками%^^A
%   ~\ref{leftfig:BOXED:valigned:widefillrowbox}, \ref{rightfig:BOXED:valigned:widefillrowbox}.
%
%^^A%   \subsubsection{Settings for Colored Frames}
%   \subsubsection{Настройки для цветных рамок}
%   \DescribeMacro{colorframeset}\label{setup:colorframeset}%^^A
%   \DescribeMacro{\DeclareColorBox}\label{setup:DeclareColorBox:pre}%^^A
%^^A%   This key (needs \package{color} package) defines
%^^A%   a~color box in the case of the |framestyle=colorbox| or |framestyle=FRcolorbox| settings are loaded
%^^A%   (default is standard |\fbox|). There are not any predefined options for this key so you
%^^A%   must define your color box option, using the |\DeclareColorBox| command like following:
%   Данный ключ (для него необходимо
%   загрузить пакет \package{color}) определяет настройки
%   цветной рамки, если задана опция |framestyle=colorbox| или |framestyle=FRcolorbox|
%   (по умолчанию это команда |\fbox|).
%   Для данного ключа не определено готовых опций, поэтому вам нужно задать
%   опцию цветной рамки, используя команду |\|\FRkey{DeclareColorBox}
%   (с.\,\pageref{setup:DeclareColorBox}), например:
%   \begin{Quote}
%     |\DeclareColorBox{mycolorbox}{\fcolorbox{red}{yellow}}|
%   \end{Quote}
%^^A%   then use this option in |colorframeset=| key:
%   затем использовать эту опцию в~ключе:
%   \begin{Quote}
%     |colorframeset=\meta{option}|\quad,
%   \end{Quote}
%^^A%   for example:
%   например так:
%   \begin{Quote}
%     |\floatsetup{colorframeset=mycolorbox}|\quad,
%   \end{Quote}
%
%   \DescribeMacro{colorframecorners}\label{setup:colorframecorners}%^^A
%   \DescribeMacro{\DeclareCBoxCorners}\label{setup:DeclareCBoxCorners:pre}%^^A
%^^A%   This key defines material attached to the corners of the frame defined
%^^A%   by the |framestyle=FRcolorbox| option.
%^^A%   This key, as the previous one, has not predefined options; the needed material is
%^^A%   set by the |\|\FRkey{DeclareCBoxCorners} command
%^^A%   (page~\pageref{setup:DeclareCBoxCorners}).
%   Ключ определяет размещение материала по углам рамки, заданной опцией |framestyle=FRcolorbox|.
%   Для данного ключа, как и~для предыдущего, не определено готовых опций; материал, который
%   должен быть добавлен, задаётся с~помощью команды |\|\FRkey{DeclareCBoxCorners}
%   (с.\,\pageref{setup:DeclareCBoxCorners}).
%
%^^A%   \subsubsection{Defining Float Skips}
%   \subsubsection{Определение отбивок внутри флота}
%   \DescribeMacro{captionskip}\label{setup:captionskip}%^^A
%^^A%   Defines vertical space between caption and float object
%^^A%   in case of \FRkey{midcode} key defined as |midcode=captionskip|;
%^^A%   or in case of usage of float styles (|style=|
%^^A%   key) |plain|, |boxed| and similar to them:
%   Определяет размер вертикальной отбивки между подписью и~объектом
%   если ключ \FRkey{midcode} определён как
%   |midcode=captionskip|; или в~случае использования стилей (ключ |style=|)
%   |plain|, |plaintop| или |Plaintop|, пример:
%   \begin{Quote}
%      |captionskip=10pt|\quad.
%   \end{Quote}
%^^A%   The settings above are default and equal to \LaTeX's settings (|\abovecaptionskip=10pt|).
%^^A%   The settings of current documentation: |captionskip=5pt|.
%   Установки отбивки выше используются по умолчанию и~равны стандартным (|\abovecaptionskip=10pt|).
%   Установки, используемые данной документацией: |captionskip=5pt|.
%
%   \addvspace\medskipamount\noindent
%   \DescribeMacro{footskip}\label{setup:footskip}%^^A
%^^A%   Defines vertical space before foot material and footnotes. It can be defined like:
%   Определяет вертикальную отбивку до сносок и~экспликаций. Его можно задать как:
%   \begin{Quote}
%      |footskip=4pt|\quad,
%   \end{Quote}
%   или
%   \begin{Quote}
%      |footskip=\skip\footins|\quad.
%   \end{Quote}
%^^A%   the last example shows default settings.
%   Последний пример демонстрирует установки по умолчанию.
%
%^^A%   \subsubsection{Defining Float Footnote Rule's Style}
%   \subsubsection{Задание стиля для линейки над сноской}\label{sec:footnotestyle}
%   \DescribeMacro{footnoterule}\label{setup:footnoterule}%^^A
%^^A%   Defines type of footnote rule for footnotes inside floating environment.
%   Определяет тип линейки над сноской внутри бокса плавающего элемента.
%   \begin{Options}{\OptionLabel}
%     \item[normal]
%^^A%     standard \LaTeX{} definition, the
%^^A%     width of it equals to 0.4 of current with of text (|\columnwidth|);
%     стандартное определение \LaTeX'а,
%     ширина линейки составляет
%     0.4 от ширины текста (|\columnwidth|);
%     \item[limited]
%^^A%     like previous one but max width of footnote rule equals to the value
%^^A%     defined by |\frulemax|\label{setup:frulemax} command, like:
%     аналогична предыдущей, но максимальная ширина сноски равна
%     величине определённой в~команде |\frulemax|\label{setup:frulemax}, например:
%     \begin{quote}
%     |\renewcommand\frulemax{1in}|
%     \end{quote}
%     \item[fullsize]
%^^A%     rule to full current text width.
%     линейка на всю ширину текста.
%     \item[none]
%^^A%     Absent rule.
%     нет линейки.
%     \item[...]
%^^A%   You may create your own options with |\DeclareFloatFootnoterule| command,
%^^A%   see page~\pageref{ssec:fnoterule}.
%   Вы можете создать собственные настройки с~помощью команды~|\DeclareFloatFootnoterule|,
%   см.~с.~\pageref{ssec:fnoterule}.
%   \end{Options}
%
%   \label{setup:end}
%
%^^A%^^A%   \subsubsection{Loading Style for Fancy Boxes}
%^^A%   \subsubsection{Загрузка пакета для необычных рамок}
%^^A%   \DescribeMacro{fancyboxes}\label{setup:fancyboxes}%^^A
%^^A%^^A%   This boolean key  loads \package{fr-fancy} package. This key you may use
%^^A%^^A%   only in optional argument in |\usepackage| line. The styles, supported by this package
%^^A%^^A%   are described in the table~\ref{tab:floatlayouts}.
%^^A%   Переключатель (работает как булев параметр) загружает пакет
%^^A%   \package{fr-fancy}. Этот ключ можно использовать
%^^A%   только в~опции строки |\usepackage|. Стили, предлагаемые данным пакетом описаны
%^^A%   в~табл.~\ref{tab:floatlayouts}.
%
%^^A%   \subsubsection{Managing Floats with \texttt{[H]} placement option}
%   \subsubsection{Управление флотами с~опцией~\texttt{[H]}}
%   \DescribeMacro{doublefloataswide}\label{setup:doublefloataswide}%^^A
%^^A%   This boolean key redefines starred floating environment \emph{in onecolumn layout}
%^^A%   like non-starred ones, but in this case they are still store layout
%^^A%   settings, declared by |[wide...]| options of |\floatsetup| (page~\pageref{sec:floatsetup}).
%^^A%   This key is necessary
%^^A%   for usage of the \texttt{[H]} option
%^^A%   in starred environments in the same way as in non-starred.
%   Данный переключатель делает \LaTeX'овское поведение «звёздных»
%   окружений флотов в~одноколонном макете аналогичным «незвёздным», но при этом
%   сохраняются установки опции |[wide...]| команды |\floatsetup| (с.~\pageref{sec:floatsetup}).
%   Данный ключ нужен для возможности использования опции \texttt{[H]}
%   в~«звёздных» окружениях равно как и~в~«незвёздных».
%
%   \medskip\noindent
%   \DescribeMacro{floatHaslist}%^^A
%^^A%   This boolean key adds values of penalties before and after
%^^A%   this ``anchored'' float like in the list environment and cancels
%^^A%   paragraph indentation, if there is no blank line appears after environment
%^^A%   (see also page~\pageref{sec:listpen}).
%   Данный переключатель добавляет штрафы (penalties) до и~после
%   флотов «на якоре» аналогичные штрафам до и~после окружений перечней и~отменяет
%   абзацный отступ, если после окружения флота нет пустой строки
%   (см.~также с.~\pageref{sec:listpen}).
%
%^^A%   \subsection{Settings for Current Float Environment}
%   \subsection{Настройки для текущего флота}
%   \DescribeMacro{\thisfloatsetup}\label{thisfloatsetup}\label{setup:thisfloatsetup}%^^A
%^^A%   You may define some settings only for one float just
%^^A%   before necessary environment. Command |\thisfloatsetup| could
%^^A%   contain the same keys and options as in |\floatsetup|. It has
%^^A%   only mandatory argument (the \cmd{\thisfloatsetup} is defined
%^^A%   as abbreviation of the \cmd{\floatsetup[tmpset]} command).
%   Можно задать некоторые настройки только для одного флота
%   перед необходимым окружением. Команда |\thisfloatsetup|
%   включает в~себя те же ключи и~опции, что и~|\floatsetup|, но использует
%   только обязательный аргумент\footnote{Команда \cmd{\thisfloatsetup} определена
%   как аббревиатура \cmd{\floatsetup[tmpset]}.}.\par\strut\par\kern-\baselineskip
%
%^^A%   \subsection{Clearing of Previous Float Type Settings}
%   \subsection{Отмена настроек для определённого типа плавающих объектов}
%   \DescribeMacro{\clearfloatsetup}\label{setup:clearfloatsetup}%^^A
%^^A%   If you want to get rid of parameters marked
%^^A%   for an automatic use within a particular environment
%^^A%   you can use the command\footnote{Created as additional macro for
%^^A%   \cs{clearcaptionsetup} macro, see also documentation
%^^A%   of \package{caption} package about \cmd{\clearcaptionsetup} command}:\allowpostlistbreaks[-4]
%   Если вы хотите отменить параметры, определённые для
%   использования в~окружении определённого типа
%   вы можете использовать команду\footnote{Сделана как «сопровождение»
%   команде \cs{clearcaptionsetup}, см.~также документацию пакета
%   \package{caption} о~команду \cmd{\clearcaptionsetup}}:\allowpostlistbreaks[-4]
%   \begin{Quote}
%      |\clearfloatsetup|\marg{float type}\quad.
%   \end{Quote}\allowpostlistbreaks
%^^A%   where \marg{float type}---types as |figure|, |widefloat| etc.
%   где \marg{float type} \cdash--- тип флота, например, |figure|,
%   |widefloat| и~т.\,д.
%
%^^A%   \subsection{Temporary Clearing of All Float Settings}\label{page:killfloatstyle}
%   \subsection{Временная очистка всех установок для флотов}\label{page:killfloatstyle}
%   \DescribeMacro{\killfloatstyle}\label{setup:killfloatstyle}%^^A
%^^A%   The first case when this command is needed: mixed rows of floats where figure stays beside table
%^^A%   and you need to cancel layout of ``foreign'' float (see page~\pageref{mixrow}).
%^^A%   The |\killfloatstyle| command is used before any
%^^A%   command of |\floatbox| stuff (see {\sectionname}~\ref{sec:floatbox}).
%   Первый случай, когда нужна эта команда \cdash--- рисунок нужно поместить рядом с~таблицей
%   и~нужно отключить настройки «чужого» флота (см.с.~\pageref{mixrow}).
%   Команда |\killfloatstyle| используется до
%   команды, созданной на базе |\floatbox|, (см.~{\sectionname}~\ref{sec:floatbox}).
%
%^^A%   Another case---layout of floats with beside captions is quite different from
%^^A%   other subtypes: |[figure]| option of
%^^A%   floatsetup defined with |style=plain| and
%^^A%   |[cabesidefigure]| must be defined with |style=boxed|.
%^^A%   In this case you may define your command, based on predefined
%^^A%   |\fcapside|:
%   Другой случай \cdash--- макет флота с~подписями сбоку
%   имеет сильно отличающиеся настройки от других подтипов: опция |[figure]|
%   команды |\floatsetup| задана как |style=plain|,
%   а~|[capbesidefigure]| (для подписей сбоку) должна быть задана как |style=boxed|.
%   Для~этих случаев можно определить новую команду, например, на основе
%   |\fcapside|:
%\begingroup
%   \begin{Quote}
%   \begin{preamble}
%      |\newcommand\myfcapside{\killfloatstyle|\nopagebreak
%      |     \floatsetup[figure]{style=Boxed,capbesideframe=yes}\fcapside}|\quad.
%   \end{preamble}
%      |\begin{figure}|
%        |\myfcapside[\FBwidth]|
%        |...|
%      |\end{figure}|\quad.\vspace*{-\intextsep}
%   \end{Quote}
%      \newcommand\myfcapside{\killfloatstyle
%           \floatsetup[figure]{style=Boxed,capbesideframe=yes,capbesideposition=left}\fcapside}
%   \begin{figure}[H]
%   \myfcapside[\FBwidth]
%     {\unitlength1.28\unitlength\input{Horse.picture}}%
%     {\caption[Подпись сбоку рисунка, заключённого в~рамку в~стиле \texttt{Boxed}.]{%^^A
%       Подпись сбоку рисунка, заключённого в~рамку в~стиле \texttt{Boxed}.
%       Специально создана команда \cmd{\myfcapside} для изменения макета
%       с~обычного \texttt{plain} для рисунков с~подписями снизу}\label{fig:beside:Boxed}}%
%   \end{figure}
%\endgroup
%^^A%   The option |[figure]| is necessary if you defined settings for this option
%^^A%   globally in the preamble.
%   Опция |[figure]| необходима, если определены установки с~такой опцией
%   в~преамбуле.
%
%^^A%  \emph{Notes}.\startNotes\nopagebreak \par
%  \emph{Замечания}.\startNotes\nopagebreak \par
%^^A%   \Note Please remember that such command with redefined settings can be placed
%^^A%   only \emph{inside an environment} or \emph{group}.
%   \Note Обратите внимание, что такая команда, с~изменёнными настройками,
%   может быть использована только в~\emph{окружениях
%   флота} или \emph{в~группе}.
%
%^^A%   \Note Before creation of such risky command, please revise your layout settings:
%^^A%   maybe the |[widefigure]| option never used in your documentation settings, so you can define
%^^A%   necessary settings in |\floatsetup[widefigure]|\allowbreak|{style=Boxed,capposition=beside...}|
%^^A%   and then use ``starred'' floats in following way:
%   \Note До того, как создать такую коварную команду, проверьте ваши настройки:
%   возможно опция |[widefigure]| вами не используется в~данной документации, следовательно
%   вы можете задать нужные настройки в~|\floatsetup[widefigure]|\allowbreak
%   |{style=Boxed,capposition=beside...}|
%   а~затем использовать «звёздное» окружение следующим образом:
%\begingroup
%   \begin{Quote}
%   \begin{preamble}
%   |\floatsetup[widefigure]{|\FRkey{style}|=Boxed,|\FRkey{capposition}|=beside,|
%   |    |\FRkey{capbesideframe}|=yes}|
%   \end{preamble}
%      |\begin{figure*}|
%        |\fcapside...|
%      |\end{figure*}|\quad.\vspace*{-\intextsep}
%   \end{Quote}
%   \floatsetup[widefigure]{margins=centering,style=Boxed,capposition=beside,capbesideframe=yes,capbesideposition=left}
%   \begin{figure*}[H]
%     \fcapside[\FBwidth]{\unitlength1.28\unitlength\input{Horse.picture}}%
%     {\caption[Подпись сбоку рисунка, заключённого в~рамку в~стиле \texttt{Boxed}
%       в~«звёздном» окружении.]{%^^A
%       Подпись сбоку рисунка, заключённого в~рамку в~стиле \texttt{Boxed}.
%       Специальные настройки для рисунков в~рамках заданы в~звёздном окружении}\label{figs:beside:Boxed}}%
%   \end{figure*}
%\endgroup
%
%^^A%   \subsection{The Default Float Type Settings}\label{sec:default}
%   \subsection{Установки для флотов заданные по умолчанию}\label{sec:default}
%^^A%   The following keys and options are switched on when the \package{floatrow}
%^^A%   package loaded. They equal to |default| style:
%   Следующие ключи и~опции включаются, при загрузке пакета \package{floatrow}.
%   Они эквивалентны стилю |plain| и~являются опциями по умолчанию:
%   \begin{Options}{\OptionLabel}\par
%     \item[font=normalsize]\allowitembreaks[-4]
%     \item[footfont=footnotesize]\allowitembreaks[1]
%     \item[capposition=bottom]
%     \item[capbesideposition=left]
%     \item[capbesideframe=no]
%     \item[footposition=default]
%     \item[heightadjust=none]
%     \item[facing=no]
%     \item[margins=centering]
%     \item[objectset=centering] ($\equiv$|justification=centering|, \package{caption})
%     \item[floatrowsep=columnsep]
%     \item[capbesidesep=columnsep]
%     \item[precode=none]
%     \item[rowprecode=none]
%     \item[postcode=none]
%     \item[rowpostcode=none]
%     \item[framearound=none]
%     \item[rowfill=no]
%     \item[midcode=captionskip]\allowitembreaks[-4]
%     \item[captionskip=10pt]
%   \end{Options}
%
%^^A%   \subsection{Defining New Options}
%   \subsection{Определение новых опций}
%^^A%   In the next few sections a list of commands is presented, which help to define
%^^A%   additional key options for the |\floatsetup| command.
%   В~следующих разделах перечисляются команды, с~помощью которых можно  определить дополнительные опции
%   ключей команды |\floatsetup|.
%
%^^A%   \subsubsection{Float Style (\texttt{style=})}\label{ssec:declstyle}
%   \subsubsection{Опция стиля флота (\texttt{style=})}\label{ssec:declstyle}
%   \DescribeMacro{\DeclareFloatStyle}\label{setup:DeclareFloatStyle}%^^A
%^^A%   Defines new float style. Example shows definition of new float
%^^A%   style |MyBoxed|. The figures~\ref{fig:plain:MyBoxed}, and
%^^A%   some others in current documentation show result.
%   Определяет новый стиль. Пример демонстрирует задание нового стиля
%   |MyBoxed|. Рисунок~\ref{fig:plain:MyBoxed},
%   и~некоторые другие в~данной документации демонстрируют результат.
%\begin{Quote}
%|\DeclareFloatStyle{MyBoxed}{|\FRkey{style}|=Boxed,|\FRkey{captionskip}|=5pt,|
%|      |\FRkey{frameset}|={\fboxrule1pt\fboxsep12pt}}|
%|\floatsetup[figure]{style=MyBoxed}|
%\end{Quote}
%
%   \begingroup
%
%   \floatsetup[figure]{style=MyBoxed}
%   \begin{figure}[H]
%     {\unitlength1.88\unitlength\input{Horse.picture}}%
%     \caption{%^^A
%   Простой рисунок в стиле \texttt{MyBoxed}}%
%   \label{fig:plain:MyBoxed}%
%   \floatfoot{Much more, more and more and more and more and more and more and
%     more and more text inside macro \cmd{\floatfoot}}%
%   \end{figure}
%
%^^A%   The same result you get with:
%   Тот же результат вы можете получить, задав:
%\begin{Quote}\openup-.65pt
%|\floatsetup[figure]{style=Boxed,captionskip=5pt,|
%|      frameset={\fboxsep12pt\fboxrule1pt}}|
%\end{Quote}
%   \endgroup
%
%^^A%   \subsubsection{Float Font Option}\label{ssec:declfont}
%   \subsubsection{Опция шрифта содержимого объекта (\texttt{font=})}\label{ssec:declfont}
%   \DescribeMacro{\DeclareFloatFont}\label{setup:DeclareFloatFont}%^^A
%^^A%   With this macro you may define new option
%^^A%   for font (|font=| key) of float contents. This macro works
%^^A%   like |\DeclareCaptionFont| in \package{caption} package: you may also
%^^A%   use key options declared by |\DeclareCaptionFont| command.
%   Этой макрокомандой вы можете определить новую опцию
%   для шрифта (ключ |font=|) содержимого объекта. Эта макрокоманда работает
%   также как аналогичная ей |\DeclareCaptionFont| из пакета \package{caption}: вы можете также
%   воспользоваться опциями, заданными в~команде |\DeclareCaptionFont|.
%
%^^A%   To get red color for text in the example with figure~\ref{color:fig} on the page~\pageref{color:fig},
%^^A%   you may define the red color by following way:
%   Чтобы получить текст красного цвета в~примере с~рис.~\ref{color:fig} на с.~\pageref{color:fig},
%   определите красный цвет:
%   \begin{Quote}%
%   |\DeclareFloatFont{red}{\color{red}}|
%   \end{Quote}%
%   а~затем задайте его в~команде |\floatsetup|
%   \begin{Quote}%
%   |\floatsetup[figure]{font={small,red}}|\quad.
%   \end{Quote}%
%^^A%   The version 3.1 of the \package{caption} package offers special option inside
%^^A%   |font=| key. Since the \package{floatrow} package uses the same mechanism for its |font=|
%^^A%   key, the example above you can write as following:
%   Версия \textbf{3.1} пакета \package{caption} предлагает вариант задания цветного текста, не требующий
%   задания специальной опции. Поскольку пакет \package{floatrow} для задания опций шрифта
%   использует механизм пакета \package{caption}, пример выше можно записать короче:
%   \begin{Quote}%
%   |\floatsetup[figure]{font={small,color={red}}}|\quad.
%   \end{Quote}%
%
%^^A%   \subsubsection{Defining Float Rules/Skips}\label{ssec:decl:rule}
%   \subsubsection{Опция задания линеек или отбивок (\texttt{precode=} и~др.)}\label{ssec:decl:rule}
%   \DescribeMacro{\DeclareFloatVCode}\label{setup:DeclareFloatVCode}%^^A
%^^A%   This command defines the skip, rule or other analogous code above
%^^A%   and below full float box and between caption above/below and
%^^A%   object. The defined option might be used  in |rowprecode|,
%^^A%   |precode|, |midcode|, |postcode|, and
%^^A%   |rowpostcode| keys (page~\pageref{setup:precode}).
%   Эта команда создаёт определение отбивки, линейки или другого подобного материала
%   сверху и~снизу всего бокса объект---подпись и~между
%   подписью сверху/снизу и~объектом.
%   Созданную опцию вы можете использовать в~ключах |rowprecode|,
%   |precode|, |midcode|, |postcode|
%   и~|rowpostcode|.
%
%^^A%   Compare two examples:
%   Сравните два примера:
%   \begin{Quote}\openup1pt
%   \begin{preamble}
%   |\DeclareFloatVCode{grayruleabove}%|
%   |      {{\color{gray}\hrule height2.8ptdepth0pt\vskip4pt}}|
%   |\DeclareFloatVCode{grayrulebelow}%|
%   |      {{\color{gray}\vskip4pt\hrule height2.8ptdepth0pt}}|
%   |\floatsetup{...,|\FRkey{heightadjust}|=all,|%^^A
%           \FRkey{valign}|=c,|
%   |      |\FRkey{rowprecode}|=grayruleabove,|%^^A
%           \FRkey{rowpostcode}|=grayrulebelow}|
%   \end{preamble}
%   |\begin{figure}|\nopagebreak
%   |\begin{floatrow}|\nopagebreak
%   |  \ffigbox|\nopagebreak
%   |    {...}{\caption{Левый ...}\label{...}}%|
%   |  \ffigbox|\nopagebreak
%   |    {...}{\caption{Правый ...}\label{...}}|
%   | \end{floatrow}|\nopagebreak
%   |\end{figure}|
%   |\begin{figure}|\nopagebreak
%   |  ...|
%   |  \caption{Отдельный ...}\label{...}%|\nopagebreak
%   |\end{figure}|
%   \end{Quote}\pagebreak[3]
%   \begin{figure}[H]\floatsetup{heightadjust=all,valign=c,rowprecode=grayruleabove,
%       rowpostcode=grayrulebelow}\killfloatstyle
%    \begin{floatrow}
%   \ffigbox
%   {\unitlength.65\unitlength\input{BlackCat.picture}}
%   {\caption{Левый рисунок в~ряду с~линейками сверху и~снизу, заданными для ряда}%
%   \label{intro:leftfig:row}}%
%
%   \ffigbox
%   {\caption{Правый рисунок в~ряду с~линейками сверху и~снизу, заданными для ряда}%^^A
%    \label{intro:rightfig:row}}
%   {\unitlength.85\unitlength\input{Cat.picture}}
%    \end{floatrow}
%   \end{figure}%^^A
%   \begin{figure}[H]\floatsetup{heightadjust=all,valign=c,rowprecode=grayruleabove,
%       rowpostcode=grayrulebelow}\killfloatstyle
%   \ffigbox
%   {\caption{Отдельный рисунок с~линейками сверху и~снизу, заданными для ряда}%^^A
%    \label{intro:alone:row}}
%   {\unitlength.85\unitlength\input{TheCat.picture}}
%   \end{figure}%^^A
%   \begin{Quote}
%   \begin{preamble}
%   |...|\nopagebreak
%   |\floatsetup{...,|\FRkey{heightadjust}|=all,|
%   |   |\FRkey{precode}|=grayruleabove,|%^^A
%        \FRkey{postcode}|=grayrulebelow}|
%   \end{preamble}\nopagebreak
%   |...|
%   \end{Quote}%^^A
%
%\begingroup
%   \begin{figure}[H]\floatsetup{heightadjust=all,valign=c,
%       precode=grayruleabove,postcode=grayrulebelow}\killfloatstyle
%    \begin{floatrow}
%   \ffigbox
%   {\unitlength.65\unitlength\input{BlackCat.picture}}
%   {\caption{Левый рисунок в~ряду с~линейками сверху и~снизу рисунка, заданными для бокса флота}%
%   \label{intro:leftfig:box}}%
%
%   \ffigbox
%   {\caption{Правый рисунок в~ряду с~линейками сверху и~снизу рисунка, заданными для бокса флота}%^^A
%    \label{intro:rightfig:box}}
%   {\unitlength.85\unitlength\input{Cat.picture}}
%    \end{floatrow}%
%   \end{figure}\kern-\lastskip%^^A
%   \begin{figure}[H]\floatsetup{precode=grayruleabove,postcode=grayrulebelow}\killfloatstyle
%   \ffigbox
%   {\caption{Отдельный рисунок с~линейками сверху и~снизу рисунка, заданными для бокса флота}%^^A
%    \label{intro:alone:box}}
%   {\unitlength.85\unitlength\input{TheCat.picture}}
%   \end{figure}%^^A
%^^A%   {\sloppy Please note that for ruled styles for figures \ref{intro:leftfig:box}
%^^A%   and \ref{intro:rightfig:box}, which are placed in one row, you need to
%^^A%   set |heightadjust=all| key---the rules
%^^A%   at the start and finish of boxes reset the height and depth values.\par}
%   Обратите внимание, что для стилей задающих линейки для бокса, как в~рис.~\ref{intro:leftfig:box}
%   и~\ref{intro:rightfig:box}, если рисунки должны помещаться в~одном ряду,
%   необходимо задать ключ |heightadjust=all| \cdash--- линейки вначале
%   и~в~конце боксов изменяют значения высоты и~глубины.\nopagebreak
%\endgroup
%
%\begingroup
%^^A%   The examples with unfill rows.\RemoveSpaces\vspace*{\topsep}
%   Примеры с~незаполненными рядами флотов.\RemoveSpaces\vspace*{\topsep}
%   \begin{Quote}\openup.5pt
%   \begin{preamble}
%   |\floatsetup{...,|\FRkey{heightadjust}|=all,|%^^A
%           \FRkey{valign}|=c,|
%   |      |\FRkey{rowprecode}|=grayruleabove,|%^^A
%           \FRkey{rowpostcode}|=grayrulebelow}|
%   \end{preamble}
%   |\begin{figure}|\nopagebreak
%   |\begin{floatrow}|\nopagebreak
%   |  \ffigbox[\FBwidth+2cm]...|\nopagebreak
%   |  \ffigbox[\FBwidth+2cm]...|\nopagebreak
%   | \end{floatrow}|\nopagebreak
%   |\end{figure}|
%   \end{Quote}%^^A
%   \begin{figure}[H]\floatsetup{heightadjust=all,valign=c,rowprecode=grayruleabove,
%       rowpostcode=grayrulebelow}\killfloatstyle
%    \begin{floatrow}
%   \ffigbox[\FBwidth+2cm]
%   {\unitlength.65\unitlength\input{BlackCat.picture}}
%   {\caption{Левый рисунок в~неполном ряду с~линейками сверху и~снизу, заданными для ряда}%
%   \label{intro:leftfig:rownofill}}%
%
%   \ffigbox[\FBwidth+2cm]
%   {\caption{Правый рисунок в~неполном ряду с~линейками сверху и~снизу, заданными для ряда}%^^A
%    \label{intro:rightfig:rownofill}}
%   {\unitlength.85\unitlength\input{Cat.picture}}
%    \end{floatrow}
%   \end{figure}%^^A
%^^A%   The same, but with \FRkey{rowfill} option.
%   То же, но с~опцией \FRkey{rowfill}.
%   \begin{Quote}\openup.5pt
%   \begin{preamble}
%   |\floatsetup{...,|\FRkey{rowfill}|=yes}|
%   \end{preamble}
%   |...|
%   \end{Quote}%^^A
%   \begin{figure}[H]\floatsetup{heightadjust=all,valign=c,rowprecode=grayruleabove,
%       rowpostcode=grayrulebelow,rowfill=yes}\killfloatstyle
%    \begin{floatrow}
%   \ffigbox[\FBwidth+2cm]
%   {\unitlength.65\unitlength\input{BlackCat.picture}}
%   {\caption{Левый рисунок в~неполном ряду с~линейками сверху и~снизу на полный формат, заданными для ряда}%
%   \label{intro:leftfig:rowfill}}%
%
%   \ffigbox[\FBwidth+2cm]
%   {\caption{Правый рисунок в~неполном ряду с~линейками сверху и~снизу на полный формат, заданными для ряда}%^^A
%    \label{intro:rightfig:rowfill}}
%   {\unitlength.85\unitlength\input{Cat.picture}}
%    \end{floatrow}
%   \end{figure}%^^A
%\endgroup
%
%^^A%   \subsubsection{Settings for Colored Frame (\texttt{colorframeset=})}\label{ssec:color:frame}
%   \subsubsection{Настройки для цветных плашек и~рамок (\texttt{colorframeset=})}\label{ssec:color:frame}
%   \DescribeMacro{\DeclareColorBox}\label{setup:DeclareColorBox}%^^A
%^^A%   Let's repeat the command for definition of colored box used by |colorframeset=| key
%^^A%   (see also page~\pageref{setup:DeclareColorBox}).
%^^A%   Here is defined frame for figure~\ref{color:frame} below:
%   Здесь опять повторим определение опции для цветной рамки, используемой ключом |colorframeset=|
%   (см.~также с.~\pageref{setup:DeclareColorBox}).
%   Ниже дано определение рамки, используемой рисунком~\ref{color:frame} на с.~\pageref{color:frame}:
%   \begin{Quote}
%     |\DeclareColorBox{framedfigure}{\fcolorbox{gray}{white}}|\quad.
%   \end{Quote}
%^^A%   The yellow plate for figure rows on the page~\pageref{setup:rowfill}:
%   Плашка для рисунков, помещённых рядом~(с.\,\pageref{setup:rowfill}, для плашки предпочтительнее
%   использовать команду |\colorbox|):
%   \begin{Quote}
%     |\DeclareColorBox{yellowplate}{\colorbox{yellow}}|\quad.
%   \end{Quote}
%^^A%   Please note, that for correct positioning of the color plate during usage of the |\colorbox|
%^^A%   command you need set to zero value for the |\fboxrule| command in the \FRkey{frameset} option:
%   Обратите внимание, что при использовании команды |\colorbox| для создания цветной плашки
%   нужно обязательно обнулить значение |\fboxrule| в~опции \FRkey{frameset} для верного
%   размещения плашки:
%   \begin{Quote}
%     |frameset={\fboxrule0pt}|\quad.
%   \end{Quote}
%
%   \DescribeMacro{\DeclareCBoxCorners}\label{setup:DeclareCBoxCorners}%^^A
%^^A%   If you use the \FRkey{FRcolorbox} option for the \FRkey{framestyle} key
%^^A%   (page~\pageref{setup:framestyle}), you may set additional material (rules or something),
%^^A%   attached to four corners.
%   Если для задания цветной рамки в~ключе \FRkey{framestyle} использовать
%   опцию \FRkey{FRcolorbox} (с.\,\pageref{setup:framestyle}), можно
%   задать линейки или другой материал привязанный к~углам рамки.
%\begin{Quote}%
%|\DeclareCBoxCorners|\marg{option}\marg{llcorner}\marg{lrcorner}\marg{urcorner}\marg{ulcorner}
%\end{Quote}%
%^^A%   The \marg{option} argument defines name of option of the \FRkey{colorframecorners} key.
%^^A%   The four others define material attached to four corners.
%   Аргумент \marg{option} определяет название опции ключа \FRkey{colorframecorners}.
%   Остальные четыре определяют материал, имеющий точки привязки в~углах плашки.
%
%^^A%   The order of corner material analogous to the order in the METAPOST's |bbox| box
%^^A%   for the |label| command: first goes lower left corner (\marg{llcorner})
%^^A%   then, counterclockwise, lower right corner (\marg{lrcorner}), upper right corner
%^^A%   (\marg{urcorner}) and last goes upper left corner (\marg{ulcorner}).
%   Отсчёт углов в~аргументах аналогичен отсчёту, используемому при задании «площадки» (|bbox|)
%   для метки (команда |label|) в~METAPOST'е: первым идёт левый нижний угол (\marg{llcorner})
%   далее, против часовой стрелки, правый нижний угол (\marg{lrcorner}), правый верхний угол
%   (\marg{urcorner}) и~последним левый верхний угол (\marg{ulcorner}).
%^^A%   There are used modified commands of |picture| environment inside these arguments:
%^^A%   all lengths and coordinates must have units like points, millimeters etc., but
%^^A%   here you may use usual length parameters like |\textwidth|. When the color box is created
%^^A%   the |\FRcolorboxht|, |\FRcolorboxwd| and~|\FRcolorboxdp| parameters define
%^^A%   height, width and depth of the box, you may use them inside settings
%^^A%   of the |\DeclareCBoxCorners| xommand. You may use the
%^^A%   |\|\FRkey{floatfacing} command to create facing layout.
%   Внутри аргументов используются модифицированные команды окружения |picture|:
%   при задании длин и~координат обязательно задаются единицы измерения, зато
%   можно использовать параметры типа |\textwidth|. При создании плашки в~параметры
%   |\FRcolorboxht|, |\FRcolorboxwd| и~|\FRcolorboxdp|, записываются значения
%   высоты, ширины и~глубины плашки, которые можно использовать при определении
%   настроек |\DeclareCBoxCorners|. При задании линеек или другого материала можно
%   использовать команду |\|\FRkey{floatfacing} для создания оформления для разворотов.
%
%^^A%   The example with material in all corners, which shows overlapping.
%   Пример с~заданием материала во всех точках привязки, демонстрирующий наложения.
%\begin{Quote}%
%|\DeclareCBoxCorners{angles}|
%|   {{\color{green}%green llcorner|
%|      \linethickness{10pt}\put(-5pt,-5pt)|
%|      {{\put(0pt,0pt){\line(0,1){\FRcolorboxht}}}%|
%|       {\put(-5pt,0pt){\line(1,0){\FRcolorboxwd}}}}%|
%|   }}{{\color{red}%red lrcorner|
%|      \linethickness{10pt}\put(0pt,0pt)|
%|      {{\put(0pt,0pt){\line(0,1){\FRcolorboxht}}}%|
%|       {\put(5pt,0pt){\line(-1,0){\FRcolorboxwd}}}}%|
%|   }}{{\color{blue}%blue urcorner|
%|      \linethickness{10pt}\put(5pt,-5pt)|
%|      {{\put(0pt,0pt){\line(0,-1){\FRcolorboxht}}}%|
%|       {\put(5pt,0pt){\line(-1,0){\FRcolorboxwd}}}}%|
%|   }}{{\color{magenta}%magenta ulcorner|
%|      \linethickness{10pt}\put(0pt,0pt)|
%|      {{\put(0pt,0pt){\line(0,-1){\FRcolorboxht}}}%|
%|       {\put(-5pt,0pt){\line(1,0){\FRcolorboxwd}}}}%|
%|   }}|
%\end{Quote}%
%^^A%   Please note, that this material has not any width and its values do not used during calculation
%^^A%   of frame position and width. Please note also that material in the left lower and upper corners
%^^A%   will be covered by frame, but right lower and upper corner material cover the frame
%^^A%   (inside these ``layers'' the material from upper corners covers lower ones)
%^^A%   the object contents appear in the upper layer.
%   Обратите внимание, что этот материал не имеет ширины и~его значения не используются
%   при подсчёте параметров размещения и~ширины плашки.
%   Следует также учитывать, что материал, записанный в~аргументах
%   левого нижнего и~верхнего углов будет перекрыт рамкой, материал в~правом нижнем
%   и~правом верхнем углах сам перекроет рамку (внутри этих «слоёв»
%   материал верхних углов перекроет нижние) содержимое объекта попадает в~самый верхний слой.
%\begingroup
%\begin{Quote}%
%|\floatsetup{style=Boxed,|\FRkey{framestyle}|=FRcolorbox,|
%|  |\FRkey{colorframeset}|=yellowplate,|\FRkey{colorframecorners}|=angles,|
%|  |\FRkey{frameset}|={\fboxrule=0pt\fboxsep=2pt},|\FRkey{framefit}|=yes,|\FRkey{captionskip}|=15pt}|\vspace*{\baselineskip}
%\end{Quote}%
%\floatsetup{style=Boxed,framestyle=FRcolorbox,colorframeset=yellowplate,colorframecorners=angles,
%  framefit=yes,frameset={\fboxrule=0pt\fboxsep=2pt},captionskip=15pt}
%   \ffigbox[\FBwidth+2.4cm]
%   {\caption{Рисунок на цветной плашке с~разноцветными уголками}%^^A
%    \label{BOXED:yellowplate:Redangles}}
%   {\unitlength1.25\unitlength\input{BlackDog.picture}}
%\endgroup
%
%\begingroup
%^^A%   The same but without color plate.
%   То же самое, но без плашки.
%\begin{Quote}%
%|\floatsetup{style=Boxed,|\FRkey{framestyle}|=corners,|%^^A
%    \FRkey{colorframecorners}|=angles,|
%|  |\FRkey{frameset}|={\fboxrule=0pt\fboxsep=2pt},|\FRkey{framefit}|=yes,|\FRkey{captionskip}|=15pt}|\vspace*{\baselineskip}
%\end{Quote}%
%\floatsetup{style=Boxed,framestyle=corners,colorframecorners=angles,
%  framefit=yes,frameset={\fboxrule=0pt\fboxsep=2pt},captionskip=15pt}
%   \ffigbox[\FBwidth+2.4cm]
%   {\caption{Рисунок просто с~разноцветными уголками}%^^A
%    \label{BOXED:transparent:Redangles}}
%   {\unitlength1.25\unitlength\input{BlackDog.picture}}
%\endgroup
%
%^^A%   \subsubsection{Object Justification Option (\texttt{objectset=})}\label{ssec:decl:oset}
%   \subsubsection{Опция выключки содержимого объекта (\texttt{objectset=})}\label{ssec:decl:oset}
%   \DescribeMacro{\DeclareObjectSet}\label{setup:DeclareObjectSet}%^^A
%^^A%   You may define justification for |objectset=| key (page~\pageref{setup:objectset})
%^^A%   like\nopagebreak:
%   Вы можете определить свою опцию выключки для ключа |objectset=| (с.~\pageref{setup:objectset})
%   так:
%   \begin{Quote}
%     |\DeclareObjectSet{centering}{\centering}|
%   \end{Quote}
%^^A%   In option's definition you may try to include any regular commands
%^^A%   (it could be the repeated head text also)
%^^A%   which you need to put before each object contents in float
%^^A%   environment. You may also use key options declared by
%^^A%   \cmd{\DeclareCaptionJustification} command of \package{caption} package
%^^A%   as options for |objectset=| key.
%   В~определении опции вы можете попробовать задать и~другие повторяющие команды,
%   которые вам нужны при оформлении содержимого объекта. Вы можете использовать
%   опции, заданные \cmd{\DeclareCaptionJustification} "---
%   командой из пакета \package{caption}, как опции ключа |objectset=|.
%
%^^A%   \subsubsection{Option for Float Box Alignment/Settings  (\texttt{margins=})}
%   \subsubsection{Определение выключки/полей
%     для бокса флота (\texttt{margins=})}\label{ssec:decl:marg}
%   \DescribeMacro{\DeclareMarginSet}\label{setup:DeclareMarginSet}%^^A
%^^A%   You may define box alignment for float box (|margins=| key) like:
%   Вы можете определить выключку всего бокса (ключ |margins=|)
%   так:
%   \begin{Quote}
%   |\DeclareMarginSet{center}{%|\nopagebreak
%   |  \setfloatmargins{\hfil}{\hfil}}|
%   \end{Quote}
%^^A%   or like (see also sample files)
%   или (см. также файлы примеров):
%   \begin{Quote}
%   |\DeclareMarginSet{outside}{%|\nopagebreak
%   |  \setfloatmargins*{\hfil}{}}|
%   \end{Quote}\pagebreak[1]
%^^A%   The |\DeclareMarginSet| command used the |\setfloatmargins| command, which defines
%^^A%   fill code for each margin.
%   Команда |\DeclareMarginSet| использует команду |\setfloatmargins|, которая определяет
%   заполняющий материал для каждого из полей.
%
%   \DescribeMacro{\setfloatmargins}\label{setup:setfloatmargins}%^^A
%^^A%   Non-starred form of |\setfloatmargins| defines left and right
%^^A%   margin.
%   Команда |\setfloatmargins| определяет левое и правое поля.
%   \begin{quote}
%     |\setfloatmargins{|\meta{left margin}|}{|\meta{right margin}|}|
%   \end{quote}
%
%^^A%   Here goes rather complex example which was created as alternative float layout for one-column
%^^A%   document. The starred, |figure*|, environment places caption on the left margin, beside
%^^A%   object. Frame around object has default width of main text.
%   Далее следует довольно громоздкий пример, созданный как альтернативное оформление флотов
%   в~одноколонном документе. «Звёздное» окружение  |figure*|, помещает подпись сбоку в~левое поле.
%   Рамка вокруг объекта по умолчанию имеет ширину основного текста.
%   \begin{Quote}[0pt]
%   \begin{preamble}
%   |\makeatletter\@mparswitchfalse\makeatother|
%   |\|\FRkey{DeclareColorBox}|{framedfigure}{\fcolorbox{gray}{white}}|\vspace{1ex}
%   |\|\FRkey{DeclareFloatSeparators}|{marginparsep}{\hskip\marginparsep}|
%   |\|\FRkey[sec]{floatsetup}|[widefigure]{|%^^A
%       \FRkey{margins}|=hangleft,|%^^A
%       \FRkey{floatwidth}|=\textwidth,|
%   |   |\FRkey{capposition}|=beside,|%^^A
%       \FRkey{capbesideposition}|=left,|%^^A
%       \FRkey{capbesideframe}|=yes,|
%   |   |\FRkey{capbesidewidth}|=\marginparwidth,|%^^A
%       \FRkey{capbesidesep}|=marginparsep,|
%   |   |\FRkey{framestyle}|=colorbox,|\FRkey{framefit}|=yes,|\nopagebreak
%   |   |\FRkey{colorframeset}|=framedfigure,|%^^A
%       \FRkey{frameset}|={\fboxrule3pt\fboxsep8pt}}|\vspace{1ex}
%   |\captionsetup[capbesidefigure]{justification=RaggedRight,|\nopagebreak
%   |    font=small,labelfont={normalsize,sf,bf},labelsep=newline,strut=no}|
%   \end{preamble}
%   |\begin{figure*}|\nopagebreak
%   |...|\nopagebreak
%   |\end{figure*}|
%   \end{Quote}
%   \begingroup
%   \floatsetup[widefigure]{margins=hangleft,floatwidth=\textwidth,
%       capposition=beside,capbesideposition=left,capbesideframe=yes,
%       capbesidewidth=\marginparwidth,capbesidesep=marginparsep,framestyle=colorbox,framefit=yes,
%       frameset={\fboxrule3pt\fboxsep8pt},colorframeset=framedfigure}
%   \captionsetup[capbesidefigure]{justification=RaggedRight,
%       font=small,labelfont={normalsize,sf,bf},labelsep=newline,strut=no}
%   \begin{figure*}[H]%
%   {\input{Mouse.picture}}{\caption{Рисунок с~альтернативным оформлением («звёздное» окружение)
%       подпись сбоку помещается в~левое поле}\label{color:frame}}
%   \end{figure*}%
%   \endgroup
%
%^^A%   \emph{Note}. The row of figures~\ref{fig:row:Dog}--\ref{fig:row:cheese} on the page
%^^A%   \pageref{fig:row:Dog} uses the same |margin=| settings of option |margins=|.
%   \emph{Замечание}. Ряд рисунков~\ref{fig:row:Dog}--\ref{fig:row:cheese} на
%   с~\pageref{fig:row:Dog} использует те же настройки полей в~опции |margins=|.
%
%^^A%   Starred form, |\setfloatmargins*|, defines facing layout: inside and
%^^A%   outside margin.
%   «Звёздная» форма команды, |\setfloatmargins*|, определяет оформление
%   для разворота: внутреннее и~внешнее поля.
%   \begin{quote}
%     |\setfloatmargins*{|\meta{inside margin}|}{|\meta{outside margin}|}|
%   \end{quote}
%
%^^A%   You may even set much more complex definition:
%   Вы можете сделать ещё более сложное определение:
%   \begin{Quote}\leftmargin0pt
%   |\DeclareObjectSet{facingrule}{%|
%   |\setfloatmargins*{%|
%   |   \floatfacing{\hskip-12pt\vrule width4pt\hskip8pt\hfill}%|
%   |               {\hfill\hskip8pt\vrule width4pt\hskip-12pt}}{}}|
%   \end{Quote}
%   \DescribeMacro{\floatfacing}\label{setup:floatfacing}%^^A
%^^A%   the |\floatfacing| defines following
%   Команда |\floatfacing| определяет следующее
%   \begin{quote}
%     |\floatfacing{|\meta{odd page definition}|}{|\meta{even page definition}|}|
%   \end{quote}
%^^A%   This macro has also starred form |\floatfacing*|,
%^^A%   which you can use in key options for |\captionsetup| stuff and for floats with beside captions.
%   Эта макрокоманда также имеет  «звёздную» форму |\floatfacing*|,
%   которой вы можете воспользоваться для настроек макета с~подписями сбоку
%   и~в~опциях ключей для команды |\captionsetup|.
%
%^^A%   \emph{Note}. Please remember that all options, which set different layout for facing pages
%^^A%   need |facing=yes| key option.
%   \emph{Замечание}. Помните, что все опции, задающие различное оформление для страниц на развороте,
%   требуют задание ключа |facing=yes|.
%
%   \DescribeMacro{\floatboxmargins}\label{setup:floatboxmargins}%^^A
%   \DescribeMacro{\floatrowmargins}\label{setup:floatrowmargins}%^^A
%   \DescribeMacro{\floatcapbesidemargins}\label{setup:floatcapbesidemargins}%^^A
%^^A%   The |\setfloatmargins| could be ``separated'' into the three macros which set margins
%^^A%   for three main variants of float positions:
%   Команду |\setfloatmargins| можно разбить на три макрокоманды, которые определяют
%   поля (выключку и~другой материал) для трёх вариантов расположения флота:
%   \begin{Options}{\OptionLabel}
%^^A%   \item[\cmd{\floatboxmargins}]sets left/right margins around alone
%^^A%        float box;
%   \item[\cmd{\floatboxmargins}]задаёт левое/правое поля для отдельного флота;
%^^A%   \item[\cmd{\floatrowmargins}]sets left/right margins around
%^^A%        |floatrow| environment;
%   \item[\cmd{\floatrowmargins}]задаёт левое/правое поля для
%    флотов рядом в~окружении |floatrow|;
%^^A%   \item[\cmd{\floatcapbesidemargins}]sets left/right margins around
%^^A%        alone float box with beside caption.
%   \item[\cmd{\floatcapbesidemargins}]задаёт левое/правое
%    поля для отдельного флота с~подписью сбоку.
%   \end{Options}
%^^A%   The grammar for using three mentioned commands is similar to
%^^A%   |\setfloatmargins|. Again, the settings which use |\floatfacing| command
%^^A%   work only in the case when key |facing=yes| is used.
%   Грамматика использования этих трёх команд такая же как
%   и~у~|\setfloatmargins|. И~опять же настройки, использующие команду |\floatfacing|
%   будут работать если включён ключ |facing=yes|.
%
%\RestoreSpaces
%^^A%   \paragraph{Alignment Settings for longtable.}
%   \label{ssec:decl:ltable:marg}
%   \paragraph{Выключка таблиц в~окружении longtable.}
%^^A%   The \package{floatrow} expands some settings of table layout
%^^A%   to the |longtable| environment, so you may set |\LTleft| and
%^^A%   |\LTright| parameters inside |\DeclareMarginSet| settings. For example,
%^^A%   |centering| option was defined like:
%   Пакет \package{floatrow} задаёт некоторые настройки
%   оформления таблиц для окружения |longtable|,
%   поэтому вы можете задать параметры |\LTleft| и~|\LTright|
%   в~команде |\DeclareMarginSet|.
%   Например, опция |centering| в~пакете была определена следующим образом:
%   \begin{Quote}
%   |\DeclareMarginSet{centering}{%|
%   |   \setfloatmargins{\hfill}{\hfill}%|
%   |   \LTleft=\fill \LTright=\fill}|
%   \end{Quote}
%
%^^A%   \subsubsection{Float Separators Options (\texttt{floatrowsep=}, \texttt{capbesidesep=})}
%   \subsubsection{Опции разделителей флотов (\texttt{floatrowsep=}, \texttt{capbesidesep=})}
%   \DescribeMacro{\DeclareFloatSeparators}\label{setup:DeclareFloatSeparators}%^^A
%^^A%   You may define separator
%^^A%   between float boxes, or between float object and beside caption:
%   Вы можете определить разделитель между флотами рядом (в~окружении |floatrow|)
%   или между флотом и~подписью сбоку, например:
%   \begin{Quote}
%   |\DeclareFloatSeparators{columnsep}{\hskip\columnsep}|
%   \end{Quote}
%^^A%   Please remember, that you may use options defined with |\DeclareFloatSeparators|
%^^A%   by both |floatrowsep=| and |capbesidesep=| keys.
%^^A%   You may also use key options declared
%^^A%   by \cmd{\DeclareCaptionLabelSeparator} command.\par%
%   Вы можете использовать заданные опции в~ключах, задающих разделители |floatrowsep=|
%   и~|capbesidesep=|. (Вы можете воспользоваться опциями, заданными
%   \cmd{\DeclareCaptionLabelSeparator} "--- командой из \package{caption}.)
%
%^^A%   The next example uses more complex separator, which uses, \package{color} package.
%   Следующий пример использует более сложный разделитель, с~использованием пакета \package{color}:
%   \begin{Quote}[0pt]
%   \begin{preamble}\nopagebreak
%   |\|\FRkey{DeclareObjectSet}|{colorred}{\parskip2pt\parindent15pt\color{red}}|
%   |\DeclareFloatSeparators{colorsep}%|
%   |  {\begingroup\color{blue}%|
%   |    \floatfacing*{\hskip16pt\vrule width4.8pt\hskip6pt}%|
%   |                 {\hskip6pt\vrule width4.8pt\hskip16pt}%|
%   |   \endgroup}|
%   |\|\FRkey[sec]{floatsetup}|[widefigure]{|%^^A
%       \FRkey{margins}|=hangleft,|\FRkey{capbesidesep}|=colorsep,|
%   |   |\FRkey{objectset}|=colorred,|\FRkey{floatwidth}|=\textwidth,| \FRkey{facing}|=yes}|
%   |\captionsetup[figure]{justification=justified,|
%   |    labelfont={color={magenta},bf},textfont={color={green}},|
%   |    labelsep=newline}|
%   \end{preamble}
%   |\begin{figure*}|\nopagebreak
%   |...|\nopagebreak
%   |\end{figure*}|
%   \end{Quote}
%   \begingroup
%   \floatsetup[widefigure]{margins=hangleft,capbesidesep=colorsep,objectset=colorred,
%      floatwidth=\textwidth,facing=yes,capposition=beside,capbesideposition=left}
%   \captionsetup[figure]{justification=justified,
%       labelfont={color={magenta},bf},textfont={color={green}},labelsep=newline}
%   \begin{figure*}[H]%
%   {\TEXTBOX}{\caption[Разноцветные рисунок и~подпись сбоку]{Разноцветные рисунок
%       и~подпись. And A bit more text, and some more text}\label{color:fig}}
%   \end{figure*}%
%^^A%   \emph{Note}. The settings of  color of caption font like
%^^A%   |labelfont=|\allowbreak|{color={magenta},bf,}|\allowbreak
%^^A%   |textfont=|\allowbreak|{color={green}}|
%^^A%   were documented first time in the \package{caption} documentation version~\textbf{3.1}.
%   \emph{Замечание}. Следует напомнить, что настройки цвета шрифта в~виде
%   |labelfont=|\allowbreak|{color={magenta},bf}|\allowbreak
%   |textfont=|\allowbreak|{color={green}}|
%   впервые описаны в~документации пакета \package{caption} версии~\textbf{3.1}.
%   \endgroup
%
%^^A%   \subsubsection{Option for Float Footnote Rule's Style}\label{ssec:fnoterule}
%   \subsubsection{Опция линейки для сносок (\texttt{footnoterule=})}\label{ssec:fnoterule}
%   \DescribeMacro{\DeclareFloatFootnoterule}\label{setup:DeclareFloatFootnoterule}%^^A
%^^A%   You may define new footnoterule (|footnoterule=| key) like:
%   Вы можете определить новую линейку для сноски (ключ |footnoterule=|)
%   следующим образом:
%   \begin{Quote}
%   \begin{preamble}
%   |...|
%   |\usepackage{ifthen}|
%   |\renewcommand\frulemax{72pt}|
%   |\newcommand \Limitedrule{.33\columnwidth}|
%   |\DeclareFloatFootnoterule{Limited}{\kern-3pt|
%   |  \def\Limitedrule{.33\columnwidth}%|
%   |  \ifthenelse{\lengthtest{\frulemax<\Limitedrule}}%|
%   |         {\def\Limitedrule{\frulemax}}{}%|
%   |  \hrule width\Limitedrule\kern2.6pt}|
%   \end{preamble}
%   \end{Quote}
%^^A%   Remember, that summary vertical height for footnote rule must be
%^^A%   equal to~0pt.
%   \emph{Замечание}. Помните, что суммарный вертикальный пробел для линейки у~сноски должен составлять~0pt.
%
%\clearpage
%^^A%   \section{Creation of New Float Type}\label{sec:newfloat}
%   \section{Создание нового типа плавающих объектов (флотов)}\label{sec:newfloat}
%   \DescribeMacro{\DeclareNewFloatType}\label{setup:DeclareNewFloatType}%^^A
%^^A%   For creation of new float type the |\DeclareNewFloatType|\label{FAD:newfloattype}
%^^A%   command was created
%^^A%   which also uses
%^^A%   \meta{key}${}=\nobreak {}$\meta{value} mechanism:
%   Для создания нового типа флотов создана команда
%   |\DeclareNewFloatType|\label{FAD:newfloattype},
%   которая также использует механизм
%   \meta{key}${}=\nobreak {}$\meta{value}:
%   \RestoreSpaces
%   \begin{quote}
%   |\DeclareNewFloatType{|\meta{type}|}{|\meta{options}|}|
%   \end{quote}
%^^A%   The \meta{type} argument includes the new floating environment name.\\
%^^A%   The \meta{options} could include the following keys:
%   Аргумент \meta{type} включает имя нового окружения флота.\\
%   Аргумент \meta{options} может включать следующие ключи:
%
%   \noindent
%   \DescribeMacro{placement}\label{setup:placement}%^^A
%^^A%   The value of this key could contain any combination of the letters
%^^A%   |t|, |b|, |h|, and |p|, which
%^^A%   define the placement of current float type on the page in
%^^A%   the case floating environment has no option argument.
%^^A%   (As default is declared |placement=tbp|.)
%   (размещение) опцией этого ключа может быть любая комбинация букв
%   |t|, |b|, |h|, и~|p|, которые
%   определяют  размещение данного типа флотов на странице
%   в~случае, если не используется дополнительный аргумент в~окружении.
%   (По умолчанию определено |placement=tbp|.)
%
%   \noindent
%   \DescribeMacro{name}\label{setup:name}%^^A
%^^A%   Defines the name of environment in the caption
%^^A%   label. (As default for caption label is declared the
%^^A%   name of environment.)
%   Определяет имя флота в~нумерационном заголовке подписи.
%   (По умолчанию  для нумерационного заголовка используется имя окружения.)
%
%   \noindent
%   \DescribeMacro{fileext}\label{setup:fileext}%^^A
%^^A%   Defines extension of the file in which
%^^A%   gathered list of floats.
%   Определяет расширение файла, где будет собираться список флотов.
%
%^^A%   \emph{Note.} In the version v0.2b, in the case of this key not defined,
%^^A%   the captions of one type are gathered in the file with extension,
%^^A%   co-named to current floating environment with perfix ``lo''. This new feature allows
%^^A%   to create separate float lists by default.%^^A\footnote{In some systems these extensions could fail?}
%   \emph{Примечание.} Начиная с~версии~v0.2b, если данный ключ не определён,
%   подрисуночные подписи одного типа собираются в~файле с~расширением,
%   одноимённым окружению с~префиксом «lo». Это даёт возможность получать разные файлы
%   списков флотов по умолчанию.%^^A\footnote{Такие расширения могут не пройти в~некоторых операционных системах?}
%
%   \noindent
%   \DescribeMacro{within}\label{setup:within}%^^A
%^^A%   Declares the section head of document, by which
%^^A%   current float resets its numbering to zero. If this key is absent,
%^^A%   the float numbering increases during whole documentation.
%   Определяет раздел, внутри которого будет производиться перенумерация.
%   Если ключ отсутствует, задаётся сквозная нумерация по всему документу.
%
%   \noindent
%   \DescribeMacro{relatedcapstyle}\label{setup:relatedcapstyle}%^^A
%^^A%   In the \package{float} package the non-starred
%^^A%   \cmd{\newfloat}/\cmd{\restylefloat} macros attach related
%^^A%   caption style for float styles (see {\sectionname}~\ref{sec:floatst}).
%^^A%   If you use |\DeclareNewFloatType| mechanism and exists (you created
%^^A%   it by |\captionsetup[...]|) co-named, i.e. related, caption style
%^^A%   you may attach this style with key |relatedcapstyle=yes|.\medskip
%   В~пакете \package{float} команды \cmd{\newfloat}/\cmd{\restylefloat}
%   присоединяют специальный стиль подписи, связанный с~данным стилем флота
%   (см.~{\sectionname}~\ref{sec:floatst}). Если вы используете механизм |\DeclareNewFloatType|,
%   и~имеется (вы создали с~помощью |\captionsetup[...]|) одноимённый, связанный,
%   стиль подписи, вы можете присоединить этот стиль с~помощью ключа
%   |relatedcapstyle=yes|.\medskip
%
%^^A%   Below is an example of the |\DeclareNewFloatType| command,
%^^A%   which was used for definition of the |Example|
%^^A%   environment demonstrated on page \pageref{exa1.1}.
%^^A%   It consists of following code:
%   Ниже приводится пример команды |\DeclareNewFloatType|,
%   которая была использована для определения окружения примера
%   |Example|, который приводится на с.~\pageref{exa1.1}).
%   Она была задана следующим образом:
%   \begin{Quote}
%      |\DeclareNewFloatType{Example}%|
%      |    {placement=t,within=section,fileext=loe,|
%      |     name=\CYRP\cyrr\cyri\cyrm\cyre\cyrr}}|
%   \end{Quote}
%   Для русской документации пришлось добавить ключ |name=| (обратите внимание: русские буквы
%   лучше записывать в~виде команд).
%
%^^A%   \subsection{How to replace \texorpdfstring{\cs{newfloat}}{newfloat}
%^^A% with \texorpdfstring{\cs{DeclareNewFloatType}}{DeclareNewFloatType}}\label{sec:oldtonew}
%   \subsection{Как заменить \texorpdfstring{\cs{newfloat}}{newfloat} на
%       \texorpdfstring{\cs{DeclareNewFloatType}}{DeclareNewFloatType}}\label{sec:oldtonew}
%^^A%   The |\newfloat| command takes three required and
%^^A%   one optional argument:
%   Команда |\newfloat| использует три обязательных
%   и~один дополнительный аргумент:
%   \begin{Quote}
%   |\newfloat|\marg{type}^^A
%     \marg{placement}\marg{ext}\oarg{within}
%   \end{Quote}
%^^A%   which could be replaced with
%   что можно заменить на:
%   \begin{Quote}
%   |\DeclareNewFloatType|\marg{type}|%|
%     |    {placement=|\meta{placement}|,fileext=|\meta{ext}|,widthin=|\meta{within}|}|
%   \end{Quote}
%
%^^A%   The \package{float} package offers also other commands of float type declaring:
%^^A%   the |\floatname| command can be replaced by the |name=| key of |\DeclareNewFloatType|
%^^A%   command; the |\floatplacement|---by the |placement=| key.
%   Пакет \package{float} предлагает также другие команды, для задания нового типа флотов:
%   команда |\floatname| заменяется на ключ |name=| в~установках команды |\DeclareNewFloatType|,
%   а~|\floatplacement| \cdash--- на ключ |placement=|, как уже показано.
%
%   \clearpage
%   %^^A\section{Borrowed code}\label{sec:borrow}
%   \section{Заимствованный код}\label{sec:borrow}
%^^A%   \FRorisubsection{\package{float} Package: Compatibility}\label{sec:floatst}
%   \FRorisubsection{Пакет \package{float}: совместимость}\label{sec:floatst}
%
%^^A%   The \package{floatrow} package includes some macros of \package{float}
%^^A%   (version v1.3d, dated 2001/11/08)
%^^A%   with necessary modifications. In the case of loaded \package{float}
%^^A%   package \emph{before} \package{floatrow} you'll get error message.
%   Пакет \package{floatrow} включает некоторые макрокоманды пакета \package{float}
%   (версии v1.3d, датированной 2001/11/08)
%   с~необходимыми изменениями. Если вы загрузили пакет \package{float}
%   до \package{floatrow}, то выдаётся сообщение об ошибке.
%
%^^A%   \emph{Note}.
%^^A%   In the case of some packages
%^^A%   could call \package{float} package\footnote{I'm aware about \package{algorithm}
%^^A%   package.} the \package{floatrow} package loads code which emulates
%^^A%   already loaded \package{float} package v1.3, so future requests for
%^^A%   this package will be  ignored. This will help to avoid strange error messages
%^^A%   in the case of these packages loaded after \package{floatrow}.
%^^A%   Please note that packages, which load \package{float} must be loaded
%^^A%   \emph{after} \package{floatrow}.
%   \emph{Замечание}.
%   Поскольку некоторые пакеты могут вызывать
%   пакет \package{float}\footnote{Мне известен пакет \package{algorithm}.}
%   пакет \package{floatrow} вводит код, эмулирующий
%   загрузку пакета \package{float} v1.3 и~последующие запросы пакета игнорируются.
%   Это поможет избежать сообщений об ошибках,
%   если эти пакеты загружены после \package{floatrow}.
%   Обратите внимание, что пакеты, загружающие пакет \package{float}, должны быть
%   загружены \emph{после} \package{floatrow}.
%
%^^A%   I hope that old documents, which use the \package{float} package,
%^^A%   could work with \package{floatrow}. The first
%^^A%   limitation or feature is---if you didn't use any |\restylefloat|
%^^A%   command---all figures and tables appear in |plain| float style
%^^A%   with bottomed captions. Another limitation---you ought to put all
%^^A%   |\newfloat| and |\floatstyle| and |\restylefloat| commands in
%^^A%   preamble, before |\begin{document}|. The commands |\restylefloat|,
%^^A%   |\newfloat| and |\floatstyle| are obsolete but
%^^A%   supported\footnote{The better
%^^A%   way is to use \cmd{\floatsetup} macros. The \package{floatrow} package
%^^A%   supports obsolete macros but there is no guarantee that they will work as expected.} (see section below).
%   Надеюсь что старые документы, использующие пакет~\package{float}
%   будут работать с~\package{floatrow}. Первое
%   ограничение/особенность "--- если команды |\restylefloat| не заданы
%   "--- все рисунки и~таблицы выведутся в~стиле  |plain|
%   с~подписями снизу. Другое ограничение "--- нужно перенести все команды
%   |\newfloat|, |\floatstyle| и~|\restylefloat| в~преамбулу,
%   до команды |\begin{document}|. Команды |\newfloat|, |\floatstyle|
%   и~|\restylefloat| устаревшие, хотя и~поддерживаются пакетом\footnote{Всё же лучше заменить
%   их на команды \cmd{\floatsetup},
%   Пакет \package{floatrow} поддерживает старые команды, но не даёт гарантии.} (см.~раздел ниже).\medskip
%
%^^A%   The sections below explain how \package{float} commands and options work in \package{floatrow}.
%^^A%   Sections, signed with ``[\package{float}]'' and typed with slanted font, were borrowed from
%^^A%   \package{float}'s  documentation. The section which
%^^A%   describes commands of layout settings of \package{float} package was moved
%^^A%   in the section~\ref{sec:changed}
%^^A%   (subsection~\ref{sec:floatborrowI}, ``The User Interface---New
%^^A%   Floats [\package{float}]''), this section describes obsolete stuff.
%   Разделы ниже объясняют как команды и~опции пакета \package{float} работают в~пакете \package{floatrow}.
%   Разделы, помеченные  «[\package{float}]» и~отпечатанные наклонным шрифтом, заимствованы из
%   документации пакета
%   \package{float}\footnote{Настоятельно рекомендуется читать эти разделы
%   в~английском варианте документации.
%   За корректность перевода не ручаюсь.}. Раздел, описывающий команды
%   настроек флотов и~создания нового типа флотов перемещён в~конец,
%   в~разд.~\ref{sec:changed} (подраздел~\ref{sec:floatborrowI},
%   «Интерфейс пользователя \cdash--- новые плавающие объекты») поскольку описывает устаревший интерфейс.
%
%^^A%   \subsubsection{How macros from \package{float} package
%^^A%     work in \package{floatrow}}\label{float-obs}
%   \subsubsection{Как макрокоманды из пакета \package{float}
%     работают в~\package{floatrow}}\label{float-obs}
%^^A%   The combination of command |\floatstyle|\marg{style} and one of commands
%   Комбинация команды |\floatstyle|\marg{style} и~любой из команд
%   \begin{Quote}
%   |\floatstyle|\marg{style}
%   \cmd{\newfloat}\marg{float}
%   \end{Quote}
%   или:
%   \begin{Quote}
%   |\floatstyle|\marg{style}
%   \cmd{\restylefloat}\marg{float}
%   \end{Quote}
%^^A%   in \package{floatrow} package set float layout in the following way:
%   превращается в~пакете \package{floatrow} в~настройки \hbox{вида}:
%   \begin{Quote}
%   |\floatsetup|\oarg{float}|{style=|\meta{style}|}|
%   \end{Quote}
%^^A%   Please note that there is used |\floatsetup|\oarg{float}|{...}|
%^^A%   settings for current type of float, but not |\floatsetup{...}|.
%   Обратите внимание, что используются настройки |\floatsetup|\oarg{float}|{...}|
%   для конкретного типа флотов, а~не просто |\floatsetup{...}|.
%
%   \begin{slshape}
%
%^^A%   \pagebreak\subsubsection{Printing of Float List [\package{float}]}
%^^A%   \label{sec:floatborrowIa}
%   \pagebreak\subsubsection{Печать списка плавающих объектов (флотов)
%    [\package{float}]}\label{sec:floatborrowIa}
%
%   \nobreak\DescribeMacro{\listof}
%   \nopagebreak
%^^A%   The |\listof| command produces a list of all the floats
%^^A%   of a given class. Its syntax~is\\[2pt]
%   Команда |\listof| создаёт список всех флотов данного
%   класса. Её синтаксис\vspace*{\topsep}
%   \begin{quote}
%   \hspace*{\MacroIndent}|\listof{|\meta{type}|}{|\meta{title}|}|^^A
%   \end{quote}
%^^A%   \meta{type} is the float type given in the |\newfloat| command.
%^^A%   \meta{title} is used for the title of the list as well as the
%^^A%   headings if the current page style includes them. Otherwise, the
%^^A%   |\listof| command is analogous to the built-in \LaTeX\ commands
%^^A%   |\listoffigures| and |\listoftables|.
%   \meta{type} это тип флота, заданный командой |\newfloat|.
%   \meta{title} задаёт заголовок списка флотов и~колонтитулы
%   если стиль страницы задаёт их. В~противном случае, команда
%   |\listof| работает аналогично встроенным командам \LaTeX'а
%   |\listoffigures| и~|\listoftables|.
%
%^^A%^^A%   \noindent\emph{Floatrow note}.
%^^A%^^A%   Please remember that for each float type list
%^^A%^^A%   you must set file extension where the entries of each float type gathered.
%^^A%^^A%   Use key \texttt{fileext=...} in |\DeclareNewFloatType|.
%^^A%^^A%   If two or more float types will have the same file
%^^A%^^A%   for list of floats, you will get all floats in the
%^^A%^^A%   first appeared |\listof|, and all next will be empty.
%^^A%   \noindent\emph{Замечание \textsf{floatrow}}.
%^^A%   Помните, что для каждого списка флотов
%^^A%   нужно задать расширение файла, где будут собираться вхождения этого флота.
%^^A%   Используйте ключ \texttt{fileext=...} в~команде~|\DeclareNewFloatType|.
%^^A%   Если два или более типов флотов будут иметь один файл (заданное расширение)
%^^A%   списка флотов, все флоты соберутся в~первом
%^^A%   списке |\listof|, оставив остальные пустыми.
%
%^^A%   \subsubsection{The User Interface---\texttt{[H]}
%^^A%   Placement Specifier [\package{float}]}\label{sec:floatborrowII}
%   \subsubsection{Интерфейс пользователя---указатель
%   размещения \texttt{[H]} [\package{float}]}\label{sec:floatborrowII}
%
%^^A%   Many%^^A
%^^A%   \FRmpar{Anchored float}{FAD:AnchoredFloat}
%^^A%   people find \LaTeX's float placement specifiers too
%^^A%   restrictive. A Commonly Uttered Complaint (CUC) calls for a way to
%^^A%   place a float exactly at the spot where it occurs in the input file,
%^^A%   i.e., to \emph{not} have it float at all. It seems that the
%^^A%   \texttt{[h]} specifier should do that, but in fact it only suggests
%^^A%   to \LaTeX\ something along the lines of ``put the float here if it's
%^^A%   OK with you''. As it turns out, \LaTeX\ hardly ever feels inclined
%^^A%   to actually do that. This situation can be improved by judicious
%^^A%   manipulation of float style parameters.
%   Многие%^^A%
%   \FRmpar{Флот «на якоре»}{FAD:AnchoredFloat}
%   находят набор указателей размещения флотов в~\LaTeX'е
%   ограниченным. Общество \textit{Commonly Uttered Complaint} (CUC) призвало найти путь
%   поместить флот точно в~то место, где он появляется в~исходном файле,
%   иными словами не делать плавающим его вообще. С~первого взгляда указатель
%   \texttt{[h]} должен делать это, но фактически он только предлагает
%   \LaTeX'у~«поместить здесь если получится».
%   На самом деле \LaTeX\ едва склонен в~действительности
%   делать это. (Эта ситуация может быть исправлена только хитроумными
%   манипуляциями параметров флота.)
%
%   \RestoreSpaces
%^^A%   The same effect can be achieved by changing the actual method of
%^^A%   placing floats. David Carlisle's \package{here} option introduces a new
%^^A%   float placement specifier, namely \texttt{[H]}, which, when added to
%^^A%   a float, tells \LaTeX\ to ``put it HERE, period''. If there isn't
%^^A%   enough space left on the page, the float is carried over to the next
%^^A%   page together with whatever follows, even though there might still
%^^A%   be room left for some of that. This style option provides the
%^^A%   \texttt{[H]} specifier for newly defined classes of floats as well
%^^A%   as the predefined |figure|s and |table|s, thereby
%^^A%   superseding \package{here}. David suggests that the \package{here} option be
%^^A%   withdrawn from the archives in due course.
%   Тот же эффект может быть достигнут изменением метода
%   размещения флотов. Опция \package{here} (David Carlisle) предлагает
%   новый указатель размещения флота, названный \texttt{[H]},
%   который, при добавлении в~опции флота,
%   говорит \LaTeX'у~«поставить СЮДА, точка». Если места на
%   странице недостаточно, флот переносится на другую страницу
%   вместе с~последующим текстом, даже в~случае, если этот текст
%   мог бы там разместиться. Пакет поддерживает эту опцию, указатель
%   \texttt{[H]}, как для новых классов флотов так и~для
%   предопределённых |figure| и~|table|, вместо
%   \package{here}. David предполагает, что пакет \package{here}
%   может быть со временем удалён из архивов.
%
%^^A%   The {\tt[H]} specifier may simply be added to the float as an
%^^A%   optional argument, like all the other specifiers. It may \emph{not}
%^^A%   be used in conjunction with any other placement specifiers, so
%^^A%   {\tt[Hhtbp]} is illegal. Neither may it be used as the default
%^^A%   placement specifier for a whole class of floats. The following table
%^^A%   is defined like this:
%   Указатель {\tt[H]} может быть просто добавлен к~флоту
%   как опция, как другие указатели. Он \emph{не}
%   может быть использован совместно с~другими указателями, поэтому
%   {\tt[Hhtbp]} неверно. Также он не может быть использован как
%   параметр по умолчанию для класса флотов. Следующая таблица
%   определена следующим образом:
%   \begin{verse}
%   |\begin{table}[H]| \\*
%   |\begin{tabular}{cl}|\\
%   |\tt t & Top of the page\\|\\*
%   \dots\ more stuff \dots\\
%   |\end{tabular}|
%   \end{verse}
%^^A%   (It seems that I have to add some extraneous chatter here just so
%^^A%   that the float actually comes out right in the middle of a printed
%^^A%   page. When I \LaTeX ed the documentation\footnote{For \package{float}
%^^A%   package.} just now it turned out that there was a page break that
%^^A%   fell exactly between the ``So now'' line and the float. This
%^^A%   wouldn't Prove Anything. Bother.) So now we have the following float
%^^A%   placement specifiers:
%   (Кажется мне пришлось добавить здесь немного ненужной болтовни
%   чтобы флот был помещён точно посередине страницы.
%   Когда документация обрабатывалась
%   \LaTeX'ом\footnote{Пакета \package{float}.}
%   обнаружилось что разрыв страницы приходится между строкой
%   «Итак теперь» и~флотом. Это ничего не доказывает.
%   Итак теперь мы имеем следующие указатели размещения
%   флота:\nopagebreak
%   \RestoreSpaces
%   \begin{table}[H]
%   \begin{tabular}{cl}
%   \tt t & вверх полосы\\
%   \tt b & вниз полосы\\
%   \tt p & на отдельную страницу\\
%   \tt h & здесь, если возможно\\
%   \tt H & только здесь, (после этого текста)
%   \end{tabular}
%   ^^A\caption{Could it be that this just needs a caption?}
%   \end{table}
%
%\end{slshape}
%
% \smallskip
%^^A%   \smallskip\em \textit{Floatrow note}. Please don't mix meaning of
%^^A%   \texttt{[H]} and \texttt{[h]} options.
%^^A%   Float with \texttt{[h]} and \texttt{[!h]} option, if succeed, appears
%^^A%   \emph{after completing line} of text,
%^^A%   where it was appeared in the source file. That could be visible if you
%^^A%   put floating environment within a~paragraph (and at the middle of line also).
%   \emph{Замечание \textsf{floatrow}}. Не путайте значение опций
%   \texttt{[H]} и~\texttt{[h]}.
%   Опции~\texttt{[h]} или~\texttt{[!h]}, если выполняются, помещают флот
%   \emph{после того, как завершена строка}  текста,
%   где появилось окружение в~исходном файле. Это легко увидеть, если
%   вы поместите окружение флота внутри абзаца (да к~тому же ещё и~в~середине строки).
%
%^^A%   The \texttt{[H]} option places the float just \emph{at the point} where it appeared
%^^A%   in the source file, it is used (\emph{but that strongly
%^^A%   not recommended when typesetting books}!) for floats after text like ``\dots{}shown in this
%^^A%   \textbf{figure:}'', i.e. the \texttt{[H]} float, almost like math formulas, continues the current
%^^A%   paragraph.
%   Опция~|[H]| помещает флот \emph{в~точке} где
%   окружение появилось в~исходном файле,
%   это используется (\emph{такие вещи в~книгах настоятельно
%   не рекомендуются}!) для «флотов» после текста типа «\dots{}показано на этом
%   \textbf{рисунке:}», т.\,е. флоты с~опцией~\texttt{[H]}, почти как математические формулы, продолжают
%   данный абзац.
%   \RestoreSpaces
%
%^^A%   \subsubsection{The {[H]}
%^^A%   Placement Specifier---Managing of Page Breaks}\label{sec:listpen}
%   \subsubsection{Опция \texttt{[H]}---настройка разрывов на страницы}\label{sec:listpen}
%
%^^A%   The strange phrase at the end of previous paragraph, ``almost like math formulas''
%^^A%   means, that ``anchored'' floats have no management of page breaking, and also
%^^A%   the text, typed without blank line after float, always gets |\parindent|.
%   Странная фраза, «почти как математические формулы», в~конце предыдущего раздела
%   означает, что у~флотов «на якоре» по умолчанию нет управления разрывами до и~после флота,
%   и, если после флота нет пустой строки, абзац всё равно начинается с~отступа.
%
%^^A%   To follow the idea of |\allowdisplaybreaks| command from
%^^A%   \package{amsmath} package there is created a \emph{beta-temp}\footnote{I~hope
%^^A%   that such support sooner or later could appear in
%^^A%   \package{paralist} package and think it is better to follow
%^^A%   grammar of master-package for similar situations.} version
%^^A%   of \package{listpen} package (it can be used separately). It offers commands,
%^^A%   which manage the penalty values in the list environments:
%   Используя идею команды |\allowdisplaybreaks| из пакета
%   \package{amsmath} создан небольшой (beta-temp) пакет
%   \package{listpen}\footnote{Я~надеюсь
%   что подобная поддержка рано или поздно появится в~пакете
%   \package{paralist} и~считаю, что лучше следовать грамматике
%   этого пакета для таких ситуаций.} (может использоваться отдельно),
%   который предлагает команды, управляющие значениями штрафов стандартного \LaTeX'а,
%   используемых в~перечнях:
%   \begin{Options}{\OptionLabel}
%^^A%   \item[\cmd{\allowprelistbreaks}]sets penalty before lists
%^^A%      (and also  ``anchored'' floats);
%   \item[\cmd{\allowprelistbreaks}]устанавливает разрывы до перечней
%     (а~также флотов «на якоре»);
%^^A%   \item[\cmd{\allowpostlistbreaks}]sets penalty after lists;
%   \item[\cmd{\allowpostlistbreaks}]устанавливает разрывы
%     после перечней (флотов «на якоре»);
%^^A%   \item[\cmd{\allowitembreaks}]sets penalty between list items.
%   \item[\cmd{\allowitembreaks}]устанавливает разрывы между
%     пунктами перечня (флотам, естественно, это не нужно!).
%   \end{Options}
%^^A%   All of them can be set globally, inside groups, and inside
%^^A%   environments. These penalties are set accordingly to digits
%^^A%   from |[-4]| (never break) to |[4]| (always break). The positive
%^^A%   values of optional argument in these commands analogous to values
%^^A%   of optional arguments in |\pagebreak| command. The negative
%^^A%   ones---to optional arguments |[1]|--|[4]| in |\nopagebreak| command.
%^^A%   The default value of all three commands is |[-1]| which equal
%^^A%   to settings of standard \LaTeX{} classes: \cls{book}, \cls{article}
%^^A%   etc. (|[-1]| option equal to |\@lowpenalty| value).
%   Все эти команды задают глобально, внутри группы или
%   окружения. Значения разрывов задаются цифрами
%   от |[-4]| (нет разрыва) до |[4]| (разрыв). Положительные
%   значения опций команд аналогичны значениям опций
%   команды |\pagebreak|. Отрицательные соответствуют
%   опциям |[1]|--|[4]| в~команде |\nopagebreak|.
%   Значение по умолчанию равно |[-1]|, что
%   равно установкам стандартных классов \LaTeX'а
%   (|[-1]| соответствует значению |-\@lowpenalty|).
%
%   \DescribeMacro{floatHaslist}\label{setup:floatHaslist}%^^A
%^^A%   The key, if true,
%^^A%   uses list penalties, otherwise anchored float works without any penalty, i.e. like
%^^A%   defined in \package{float}.
%   Ключ, в~значении |true|,
%   использует штрафы (penalties) задаваемые для перечней,
%   в~противном случае флот «на якоре»
%   работает как в~пакете~\package{float}.
%
%^^A%   Also (added in version 0.1k with current key):
%^^A%   Since list environments do \emph{not make indentation} in the
%^^A%   paragraphs next to them, in the case of \emph{no blank} line after environment,
%^^A%   the ``anchored'' floating environment does
%^^A%   the same, if this option is true. Default value of |floatHaslist|
%^^A%   is |false|
%^^A%   (for backward compatibility with previous version 0.1j).
%   Также (добавлено в~версии 0.1k наряду с~данным ключом):
%   поскольку после перечня \emph{не делается абзацного отступа} в~тексте
%   в~случае, если  \emph{не задана пустая строка} после окружения,
%   флот «на якоре» делает то же самое,
%   если включена опция. По умолчанию опция |floatHaslist| отключена (|false|)
%   (для обратной совместимости с~версией~0.1j).
%
%   \DescribeMacro{\floatHpenalties}\label{setup:floatHpenalties}%^^A
%^^A%   This macro, defined with |\renewcommand| can include settings for
%^^A%   list penalties around anchored floats. If you define
%   Это макро, определённое с~помощью |\renewcommand| может содержать установки
%   штрафов вокруг перечней вокруг флота «на якоре». Если вы определите в~преамбуле документа
%   \begin{Quote}
%\begin{preamble}
%   |\makeatletter|\nopagebreak
%   |\renewcommand\floatHpenalties{\@beginparpenalty\@M}|\nopagebreak
%   |\makeatother|
%\end{preamble}
%   \end{Quote}
%^^A%   or, with \package{listpen} package
%   или, с~пакетом \package{listpen},\allowpostlistbreaks[-4]
%   \begin{Quote}
%\begin{preamble}
%   |\renewcommand\floatHpenalties{\allowprelistbreaks[-4]}|\quad,
%\end{preamble}
%   \end{Quote}
%^^A%   you'll never get page breaks before anchored float.
%   вы запретите разрыв до флота «на якоре».
%
%   \allowpostlistbreaks\medskip\noindent
%   \DescribeMacro{\RestoreSpaces}
%   \DescribeMacro{\RemoveSpaces}
%^^A%   The commands-aliases
%^^A%   of the |\if@nobreak| flag were added. The first is equal to |\@nobreakfalse|.
%^^A%   The main (and most visible) usage of this flag is for managing
%^^A%   vertical spaces:\startNotes\Note the |true| value in the case of two sectioning commands
%^^A%   cancels usage of the space before next
%^^A%   |\..section| command of the pair; \Note in the case of
%^^A%   spaces around list environments it cancels usage of the space
%^^A%   before list just after sectioning command.
%^^A%   Usually the |\@nobreakfalse| flag toggles at the next paragraph (or |\par| command),
%^^A%   but in some cases this ``toggling'' cannot be happen in necessary point.
%^^A%   The |\RestoreSpaces| command would help. Opposite command |\RemoveSpaces| equals to |\@nobreaktrue|.
%   Добавлены ещё две команды, пользовательский вариант внутреннего
%   флага |\if@nobreak|.
%   Основное (и~самое заметное) действие этого флага \cdash--- управление
%   вертикальными отбивками:
%   значение |true| между двумя элементами рубрикации отменяет, например,\startNotes\Note
%   отбивку сверху для следующего из двух стоящих подряд заголовков, \Note
%   а~при расстановке отбивок вокруг окружений перечней (окружений, созданных на основе окружения
%   |list|, к~ним относятся, например, и~теоремы), отменяет отбивку
%   до перечня сразу после заголовка.
%   По правилам этот флаг переключается в~начале следующего абзаца (или командой |\par|),
%   но в~некоторых случаях в~нужный момент этого не происходит.
%   Команда |\RestoreSpaces| в~этих случаях должна помочь. Противоположная команда |\RemoveSpaces|
%   соответствует |\@nobreaktrue|.
%
%^^A%   \subsection{The \package{rotfloat} Package}
%   \subsection{Пакет \package{rotfloat}}
%^^A%   Code of \package{rotfloat} package was also borrowed by \package{floatrow}
%^^A%   package.
%^^A%   This package originally allows to expand settings of \package{float} package to
%^^A%   rotated environments like |sidewaysfigure| and |sidewaystable|. This mechanism
%^^A%   was borrowed to expand the \package{floatrow}'s settings in the similar way.
%   Код пакета \package{rotfloat} был также позаимствован
%   пакетом \package{floatrow}. Данный пакет, в~оригинале, позволяет подключить настройки пакета
%   \package{float}  на развёрнутые флоты типа |sidewaysfigure| и~|sidewaystable|.
%   Данный механизм и~был позаимствован, чтобы подключить созданные для этих окружений
%   настройки пакета \package{floatrow}.
%
%^^A%   In the case of loaded \package{rotfloat} package \emph{before}
%^^A%   \package{floatrow} you will get error message.
%   Если пакет \package{rotfloat} был загружен до \package{floatrow},
%   вы получите сообщение об ошибке.
%
%^^A%   The \package{floatrow} package loads code which pretends that
%^^A%   \package{rotfloat} is already loaded, so next loads are ignored.
%^^A%   The \package{rotfloat} allowed in the |\usepackage|
%^^A%   line with \package{rotating} package, which could have options. It is
%^^A%   necessary to delete \package{rotfloat} package from |\usepackage| line
%^^A%   where also \package{rotating} package loaded with options: otherwise
%^^A%   you may get an `option clash' error message.
%   Пакет \package{floatrow} вводит код, который эмулирует уже загруженный
%   пакет \package{rotfloat} и~последующая его загрузка игнорируется.
%   Пакет \package{rotfloat} построен таким образом, что может быть
%   загружен в~одной строке \verb|\usepackage| вместе
%   с~пакетом \package{rotating}, который может иметь опции. Необходимо
%   также удалить пакет \package{rotfloat} из строки \verb|\usepackage|,
%   где задан пакет \package{rotating} с~опциями: в~противном случае
%   вы получите сообщение об ошибке со словами `option clash'.
%
%\clearpage
%^^A%   \section{The \package{floatrow} Package and The \package{caption} Package}\label{ssec:caption}
%   \section{Пакет \package{floatrow} и пакет \package{caption}}
%^^A%   Tested (and compatible) with \package{caption} version from v3.0q to~v3.1j.
%   Тестировалось (и~совместимо) с~версиями \package{caption} v3.0q--v3.1j.%^^A
%
%^^A%   The \package{caption} package has strong mechanism for creation of
%^^A%   caption layout, so \package{floatrow} addresses the creation of new
%^^A%   caption styles to this package (see documentation for \package{caption}
%^^A%   package%^^A
%^^A%   \footnote{The English documentation is
%^^A%   \href{ftp://ctan.tug.org/tex-archive/macros/latex/contrib/caption/caption-eng.pdf}%^^A
%^^A%   {\meta{texmf folder}\texttt{/doc/latex/caption/caption-eng.pdf}}.}).
%   Пакет \package{caption} обладает сильным механизмом создания
%   оформления подписей, поэтому \package{floatrow} адресует создание
%   новых стилей для подписей этому пакету (см.~документацию для
%   пакета \package{caption}%^^A
%   \footnote{Английская документация
%   \href{ftp://ctan.tug.org/tex-archive/macros/latex/contrib/caption/caption-eng.pdf}%^^A
%   {\meta{texmf folder}\texttt{/doc/latex/caption/caption-eng.pdf}}.}).
%
%^^A%   The \package{floatrow} package adds a~possibility to create variations of caption layouts
%^^A%   for floats in different positions or float layouts (e.g. like wide or
%^^A%   two-column floats, rotated floats, wrapped floats) in the same time when |\floatsetup|
%^^A%   settings were loaded, using the same optional argument in
%^^A%   |\captionsetup| settings.
%   Пакет \package{floatrow} добавляет возможность создать варианты
%   оформления подписей для флотов с~различным размещением (например
%   для флотов вразрез двух колонок или широких флотов,
%   развёрнутых вертикально флотов, флотов в~оборку) параллельно с~настройками |\floatsetup|
%   за счёт задания того же дополнительного аргумента в~команде
%   |\captionsetup|.
%
%^^A%   For example you want to create a~special caption layout for wide or
%^^A%   two-column floats. In this case you may use
%   Например вы желаете создать специальное оформление для подписи
%   под широким флотом или
%   флотом вразрез двух колонок. В~этом случае вы можете использовать
%   \begin{quote}
%   |\captionsetup[widefloat]|\marg{options}
%   \end{quote}
%^^A%   or for wide or two-column figures:
%   или, для широких рисунков или рисунков вразрез двух колонок:
%   \begin{quote}
%   |\captionsetup[widefigure]|\marg{options}
%   \end{quote}
%^^A%   The priority of |\captionsetup| optional arguments is similar to
%^^A%   |\floatsetup| ones: in current examples |\captionsetup[widefigure]|
%^^A%   will be stronger than |\captionsetup[widefloat]|---the priority
%^^A%   and usage of ``\meta{float subtypes}'' in optional arguments
%^^A%   see on  page~\pageref{stsetorder}\label{cap:beside:order}.
%   Приоритет опций в~команде |\captionsetup| такой же, как в~опциях
%   команды |\floatsetup|: в~приведённых примерах настройки
%   |\captionsetup[widefigure]| будут «сильнее», чем
%   |\captionsetup[widefloat]|. Приоритет и~использование
%   «\meta{float subtype}» в~дополнительных аргументах
%   см.~на с.~\pageref{stsetorder}\label{cap:beside:order}.
%
%\begingroup
%\providecommand*\subcaption{\captionsetup{subtype*}\caption}
%
%^^A%   \captionsetup[subtype]{labelformat=brace,font=footnotesize}
%   \captionsetup[subtable]{labelformat=brace,textfont=md,labelfont=up}
%
%^^A%   \subsection{Managing of Float Parts With the \cmd{\subcaption} Command}\label{ssec:subcaption}
%   \subsection{Работа с~частями флотов и~окружение  \texttt{subfloatrow}}\label{ssec:subcaption}
%   \DescribeMacro{\subcaption}
%^^A%   The version~3.1 of caption package offers possibility for creation of
%^^A%   subcaptions, using the |subtype| settings (and |\DeclareCaptionSubType| command, see \package{caption}
%^^A%   documentation), which allow to create captions for parts of floats.
%   Версия~3.1 пакета \package{caption} предлагает возможность создания
%   подписей к~частям флота, используя настройки |subtype|
%   (и~команду |\DeclareCaptionSubType|, см.~документацию к~пакету
%   \package{caption}), которые позволяют создать подписи
%   к~частям рисунков.
%
%^^A%   In this section you may see some examples with building of rows of beside parts of floats.
%   В~этом разделе вы можете увидеть примеры построения рядов из частей флотов.
%
%^^A%   The example with subtables \Fref{subcaptab:tabIIIa} and \Fref{subcaptab:tabIIIb}
%^^A%   (table~\ref{captab:tabIII}).%^^A
%^^A%   \FRmpar{Subcaption above subtable}{FAD:subcapabove:subcaption}
%   Пример с~двумя подтаблицами \Fref{subcaptab:tabIIIa} и~\Fref{subcaptab:tabIIIb}
%   (табл.~\ref{captab:tabIII}).%^^A
%   \FRmpar{Подпись над частью таблицы}{FAD:subcapabove:subcaption}
%   \begin{Quote}
%\begin{preamble}
%\verb|...|
%\verb|\DeclareCaptionSubType[asbuk]{table}|
%\verb|\captionsetup[subtable]{labelformat=brace,textfont=md,labelfont=up}|\vspace{1ex}
%\verb|\floatsetup[subtable]{style=Plaintop}%|
%\end{preamble}
%   \verb|\begin{table}|
%   \verb|\ttabbox[\FBwidth]|
%   \verb|{\begin{subfloatrow}|
%   \verb|  \ttabbox|
%   \verb|    {\subcaption{First subtable}\Flabel{...}%|
%   \verb|     \begin{tabular}{..}...|
%   \verb|  |
%   \verb|  \ttabbox...|
%   \verb|\end{subfloatrow}}|
%   \verb|{\caption{Two ...}\Flabel{...}}|\nopagebreak
%   \verb|\end{table}|
%   \end{Quote}%
%   \DeleteShortVerb{\|}%
%\begingroup
%   \floatsetup[table]{style=plaintop}
%   \floatsetup[subtable]{style=Plaintop}
%   \begin{table}[H]\extrarowheight1pt\tabcolsep1.5\tabcolsep
%   \ttabbox[\FBwidth]
%   {\begin{subfloatrow}
%    \ttabbox
%     {\subcaption{Первая часть таблицы}\Flabel{subcaptab:tabIIIa}%^^A
%      \begin{tabular}{|l|>{\phantom0}c|>{\phantom0}c|}
%       \hline
%       \multirowthead{2}[-1ex]{Column Head}
%                  & \multicolumn{2}{c|}{\thead{Data}} \\
%                  \cline{2-3}
%                  & \multicolumn{1}{c|}{\thead{I}}
%                              & \multicolumn{1}{c|}{\thead{II}}
%       \\\hline
%       First row    &         1 &         2 \\
%       Second row   &         3 &         4 \\
%       Third row    &         6 &         8 \\
%       Fourth row   & \llap{1}0 & \llap{1}6 \\
%       \hline
%       \end{tabular}}{}
%
%    \ttabbox
%    {\subcaption{Вторая часть таблицы, тоже внутри \cs{ttabbox} и~окружения |floatrow|}%^^A
%        \Flabel{subcaptab:tabIIIb}%^^A
%     \begin{tabular}{|l|c|c|}
%     \hline
%       \multirowthead{2}[-1ex]{Column Head}
%                  & \multicolumn{2}{c|}{\thead{Data}} \\
%                  \cline{2-3}
%                  & \multicolumn{1}{c|}{\thead{I}}
%                              & \multicolumn{1}{c|}{\thead{II}}
%     \\\hline
%     First row    & \phantom01 & \phantom02 \\
%     Second row   & \phantom03 & \phantom04 \\
%     Third row    & \phantom06 & \phantom08 \\
%     \hline
%   \end{tabular}}{}%
%   \end{subfloatrow}}
%   {\caption{Две части таблицы
%    (подписи к~ним созданы с~помощью \cs{subcaption})}\label{captab:tabIII}}
%   \end{table}%
%\endgroup
%   \MakeShortVerb{\|}%
%^^A%   Please note that for the labels of table parts the special option
%^^A%   \verb|brace| of the \verb|labelformat| key was used.
%   Обратите внимание, что для создания нумерационного заголовка частей таблицы
%   используется опция \verb|brace| ключа \verb|labelformat|.
%
%   \DescribeMacro{subfloatrow}
%^^A%   The |subfloatrow| is analogous to the |floatrow| environment\footnote{
%^^A%       It skips some features of ``parent'' environment, (e.g. margins or margin material
%^^A%       this environment build box and follows |objectset=| option).}.
%^^A%   The usage is similar to |floatrow|, you may write for example:
%   Окружение |subfloatrow| аналогично окружению |floatrow|\footnote{
%       В~данном окружении отсутствуют некоторые свойства «старшего» окружения
%       (опущены опции задания полей, вместо этого используются настройки ключа |objectset=|
%       «старшего» окружения).}.
%   Задание его тоже аналогично окружению |floatrow|, вы можете записать:
%   \begin{Quote}
%   \verb|\begin{subfloatrow}[|\meta{number of beside parts of floats}\verb|]|\nopagebreak
%   \verb|\floatbox...|\nopagebreak
%   \verb|\floatbox...|\nopagebreak
%   \verb|...|\nopagebreak
%   \verb|\end{subfloatrow}|
%   \end{Quote}
%^^A%   i.e.\ by default there are allowed two parts of floats. For other number of parts
%^^A%   you ought to put number in the optional argument. This environment
%^^A%   puts  horizontal separator, defined by |subfloatrowsep=|
%^^A%   key. This key uses the same options
%^^A%   as |floatrowsep=| and |capbesidesep=| keys (options of
%^^A%   these keys defined by the \verb|\|\FRkey{DeclareFloatSeparators} command).
%   т.\,е.\ по умолчанию в~ряду предполагаются две части флота. Если нужно разместить
%   другое число частей, вам нужно задать их число в~дополнительном аргументе.
%   Части флота разделяются отбивкой или материалом, определёнными опцией ключа
%   |subfloatrowsep=|. Этот ключ использует те же опции, что ключи
%   |floatrowsep=| и~|capbesidesep=| (опции этих ключей определяются
%   командой \verb|\|\FRkey{DeclareFloatSeparators}).
%
%^^A%   Inside the  |subfloatrow| environment you may use the |\caption| command, which
%^^A%   this time creates the label for parts of float. This is because of setting
%   Внутри окружение |subfloatrow| вы можете использовать команду |\caption|,
%   которая в~данном окружении уже создаст метки для частей флота.
%   Дело в~том что в~самом начале окружения заданы установки
%   \begin{Quote}
%   |\captionsetup{subtype}|\quad.
%   \end{Quote}%
%^^A%   at the very beginning of  this environment.
%
%^^A%   \emph{Note}: With the \package{floatrow} package you may use also |\captionsetup[subfloat]|
%^^A%   settings, the \package{caption} package offers
%^^A%   the |\captionsetup[subtype]{...}| settings which will be stronger than previous, to say nothing
%^^A%   about  |\captionsetup[subfigure]{...}| for parts of figure, which are strongest. (Please note
%^^A%   that in \package{caption} terms word ``subtype'' means part of float.)
%   \emph{Замечание}: При использовании пакета \package{floatrow} можно использовать настройки
%   |\captionsetup[subfloat]|, а~пакет \package{caption} предлагает настройки
%   |\captionsetup[subtype]{...}| которые сильнее предыдущих, не говоря уж
%   о~|\captionsetup[subfigure]{...}| для частей рисунка, которые являются самыми сильными. (Обратите
%   внимание, что в~терминологии пакета \package{caption} слово ``subtype'' означает часть флота.)
%
%^^A%   Next follows an example with beside main caption (figure~\ref{fig:subcap:catsI}).%^^A
%   Далее следует пример с~подписью сбоку (рис.~\ref{fig:subcap:catsI}).%^^A
%   \begin{Quote}[0pt]
%   \begin{preamble}
%   \verb|...|\nopagebreak
%   \verb|\DeclareCaptionSubType[alph]{figure}|
%   \verb|\captionsetup[subfigure]{labelformat=brace,justification=centerlast}|\vspace{1ex}
%   \verb|\floatsetup[figure]{|\FRkey{style}\verb|=Shadowbox,|%^^A%
%        \FRkey{capbesidesep}\verb|=columnsep,%|
%   \verb|    |\FRkey{capbesideframe}\verb|=yes,|%^^A
%        \FRkey{capbesideposition}\verb|={left,bottom}}|\nopagebreak
%   \verb|\floatsetup[subfigure]{|\FRkey{style}\verb|=plain,|\FRkey{heightadjust}\verb|=object}|
%   \end{preamble}
%   \verb|\begin{figure}|
%   \verb|\fcapside[\FBwidth]|
%   \verb|  {\begin{subfloatrow}|
%   \verb|    \ffigbox[\FBwidth]{\subcaption{Одна забавная...}\Flabel{...}...}{}|
%   \verb| |
%   \verb|    \ffigbox[\FBwidth]{\subcaption{Другая очаровательная...}\Flabel{...}...}{}%|
%   \verb|   \end{subfloatrow}}|
%   \verb|  {\caption{... \Fref{...} and \Fref{...}}\label{...}}|\nopagebreak
%   \verb|\end{figure}|
%   \end{Quote}
%\begingroup
%   \captionsetup[subfigure]{labelformat=brace,justification=centerlast,strut=no}
%   \floatsetup[figure]{style=Shadowbox,capbesidesep=columnsep,
%     capbesideframe=yes,capbesideposition={left,bottom}}
%   \floatsetup[subfigure]{style=plain,heightadjust=object}
%   \begin{figure}[H]
%   \fcapside[\FBwidth]
%   {\begin{subfloatrow}
%   \ffigbox[\FBwidth]{\subcaption{Одна забавная кошка}\Flabel{subcapfig:w}%
%     \unitlength1.2\unitlength\input{Cat.picture}}{}
%   \ffigbox[\FBwidth]{\subcaption{Другая очаровательная кошка}\Flabel{subcapfig:b}%^^A
%     \unitlength1.32\unitlength\input{TheCat.picture}}{}%
%   \end{subfloatrow}}
%   {\caption[Ряд, состоящий из частей рисунка]{Подпись сбоку,
%       выровненная по низу; макет \texttt{Shadowbox}.
%       Рисунок состоит из двух частей:
%       \Fref{subcapfig:w} и~\Fref{subcapfig:b}}\label{fig:subcap:catsI}}
%   \end{figure}
%\endgroup
%
%^^A%   In the next example the main caption will be placed below, but labels of figure parts were
%^^A%   printed beside (see figure~\ref{fig:subcap:catsII}). For this reason the
%^^A%   \cs{useFCwidth} command was used, which creates the width of caption box equal to natural caption width.
%   В~следующем примере основная подпись помещена снизу, а~метки частей рисунка размещены сбоку
%   \FRmpar{Метка подподписи сбоку подфлота}{FAD:sublabelbeside:subcaption}%%^^A
%   (см.~рис.~\ref{fig:subcap:catsII}). Для этой цели используется команда \cs{useFCwidth},
%   которая определяет ширину подписи, равную натуральной.
%   \begin{Quote}%
%\begin{preamble}
%\verb|...|
%\verb|\captionsetup[subfigure]{labelformat=brace,list=off}|\vspace{1ex}
%\verb|\floatsetup[subfigure]{|\FRkey{style}\verb|=plain,|%^^A
%   \FRkey{capbesideposition}\verb|=left,|
%\verb|      |\FRkey{capbesidesep}\verb|=space,|%^^A
%   \FRkey{heightadjust}\verb|=object}|
%\end{preamble}
%   \verb|\begin{figure}[H]|
%   \verb|  \ffigbox[\FBwidth]|
%   \verb|    {\begin{subfloatrow}\useFCwidth|
%   \verb|       \fcapside[\FBwidth]{\subcaption{}\Flabel{...}...}{}|
%
%   \verb|       \fcapside[\FBwidth]{\subcaption{}\Flabel{...}...}{}|
%   \verb|     \end{subfloatrow}}|
%   \verb|{\caption[...]{...}\label{...}}|
%   \verb|\end{figure}|
%   \end{Quote}\pagebreak[1]
%\begingroup
%   \captionsetup[subfigure]{labelformat=brace,list=off}
%   \floatsetup[subfigure]{style=plain,capbesideposition=left,
%       capbesidesep=space,floatrowsep=qquad}
%   \begin{figure}[H]
%   \ffigbox[\FBwidth]
%   {\begin{subfloatrow}\useFCwidth
%
%   \fcapside[\FBwidth]
%     {\subcaption{}\Flabel{subcap:wI}\hbox{\unitlength1.02\unitlength\input{Cat.picture}}}{}
%
%   \fcapside[\FBwidth]
%     {\subcaption{}\Flabel{subcap:bI}\hbox{\unitlength.85\unitlength\input{TheCat.picture}}}{}%
%   \end{subfloatrow}}
%   {\caption[Две части рисунка имеют метки, созданные командой \cmd{\subcaption}
%       (метки сбоку)]{Две части рисунка рядом имеют метки, созданные командой \cmd{\subcaption}
%       (метки сбоку). Основная подпись снизу. Итак, части рисунка
%       \Fref{subcap:wI}~и~\Fref{subcap:bI}}\label{fig:subcap:catsII}}
%   \end{figure}
%\endgroup
%
%^^A%   In the next example the difference from previous layout settings is in usage
%^^A%   of the top vertical alignment. The height of the right graphics was enlarged by 1cm just
%^^A%   to show how the alignment for parts (here is default centering alignment)
%^^A%   and the top alignment for their captions (they are aligned by top) works.
%   Отличие от предыдущего примера в~примере ниже заключается в~том, что
%   используется вертикальное выравнивание частей рисунка. Высота правой части увеличена на 1\,см,
%   для демонстрации работы вертикального выравнивания объектов (здесь используется
%   вертикальное центрирование по умолчанию) и~их меток или подписей (которые выровнены по верху).
%   \begin{Quote}%
%\begin{preamble}\nopagebreak
%\verb|...|
%\verb|\floatsetup[subfigure]{|\FRkey{style}\verb|=plain,|%^^A
%   \FRkey{heightadjust}|=object,|
%\verb|      |\FRkey{capbesideposition}\verb|={left,top},|\FRkey{capbesidesep}\verb|=space}|
%\end{preamble}
%   \verb|\begin{figure}[H]|
%   \verb|  \ffigbox[\FBwidth]|
%   \verb|    {\begin{subfloatrow}\useFCwidth|
%   \verb|       \fcapside[\FBwidth]{\caption{}\Flabel{...}...}{}|
%
%   \verb|       \fcapside[\FBwidth][\FBheight+1cm]{\caption{}\Flabel{...}...}{}|
%   \verb|     \end{subfloatrow}}|
%   \verb|{\caption[...]{...}\label{...}}|
%   \verb|\end{figure}|\pagebreak[1]
%   \end{Quote}
%\begingroup
%   \captionsetup[subfigure]{labelformat=brace,list=off}
%   \floatsetup[subfigure]{style=plain,heightadjust=object,capbesideposition={left,top},
%       capbesidesep=space,floatrowsep=qquad}
%   \begin{figure}[H]
%   \ffigbox[\FBwidth]
%   {\begin{subfloatrow}\useFCwidth

%   \fcapside[\FBwidth]
%     {\caption{}\relax\Flabel{subcap:wIi}\hbox{\unitlength1.02\unitlength\input{Cat.picture}}}{}
%
%   \fcapside[\FBwidth][\FBheight+1cm]
%     {\caption{}\Flabel{subcap:bIi}\hbox{\unitlength.85\unitlength\input{TheCat.picture}}}{}%
%   \end{subfloatrow}}
%   {\caption[Две части рисунка рядом, с~командами \cmd{\caption}
%       внутри окружения subfloatrow (метки сбоку)]{Две
%       части рисунка рядом \ref{subsubcap:wIi}~и~\ref{subsubcap:bIi},
%       внутри окружения subfloatrow
%       (метки сбоку). Основная подпись снизу. Итак, части рисунка:
%       \Fref{subcap:wIi}~и~\Fref{subcap:bIi}}\label{fig:subcap:catsIiI}}
%   \end{figure}
%\endgroup
%
%^^A%   Another example (\ref{fig:subcap:IcatsI}) demonstrates, that you
%^^A%   may not only use the option |style=plain| for parts of float,
%^^A%   and there can not only be labels for beside subcaptions.
%   Следующий пример (рис.\,\ref{fig:subcap:IcatsI}) демонстрирует, что можно использовать не только
%   простое оформление частей рисунка, заданное, например опцией ключа |style=plain|,
%   а~сбоку частей рисунка можно разместить не только метки части рисунка,
%   \begin{Quote}[0pt]
%   \begin{preamble}\nopagebreak
%   \verb|\captionsetup[subfigure]{labelformat=brace,justification=rightlast,|
%   \verb|      format=hang}|\vspace{1ex}
%   \verb|\floatsetup[figure]{|\FRkey{style}\verb|=plain}%|
%   \verb|\floatsetup[subfigure]{|\FRkey{style}\verb|=BOXED,|\FRkey{capbesideposition}\verb|={left,top}}|
%   \end{preamble}
%   \verb|\begin{figure}|
%   \verb|\ffigbox|
%   \verb|  {\begin{subfloatrow}|
%   \verb|    \fcapside[1.1\FBwidth]{\subcaption{One ...}\Flabel{...}...}{}|
%   \verb| |
%   \verb|    \fcapside[1.1\FBwidth]{\subcaption{Another ...}\Flabel{...}...}{}%|
%   \verb|   \end{subfloatrow}}|
%   \verb|  {\caption{... \Fref{...} and \Fref{...}}\label{...}}|\nopagebreak
%   \verb|\end{figure}|
%   \end{Quote}
%\begingroup
%   \captionsetup[subfigure]{labelformat=brace,justification=rightlast,format=hang}
%   \floatsetup[figure]{style=plain}
%   \floatsetup[subfigure]{style=BOXED,capbesideposition={left,top}}
%   \begin{figure}[H]
%   \ffigbox
%   {\begin{subfloatrow}
%   \fcapside[1.1\FBwidth]{\subcaption{Очень забавная кошка с~глазами в~виде полумесяца, треугольным ушами
%       и~маленьким носиком}\Flabel{subcapfig:ww}%
%     \input{Cat.picture}}{}
%   \fcapside[1.1\FBwidth]{\subcaption{Другая, очаровательная кошка с~большими усами,
%       овальными глазами, и~розовым влажным носиком}\label{subcapfig:bb:}\Flabel{subcapfig:bb}%^^A
%     \input{TheCat.picture}}{}%
%   \end{subfloatrow}}
%   {\caption[Две части рисунка рядом, с~подписями сбоку]{Подписи для частей рисунков
%       выровнены по верху. Итак, две части рисунка:
%   \Fref{subcapfig:ww}~и~\Fref{subcapfig:bb}}\label{fig:subcap:IcatsI}}
%   \end{figure}\par\vskip-.5\lastskip
%\endgroup
%
%   \DescribeMacro{\captionlabel}%^^A
%   \DescribeMacro{\subcaptionlabel}%^^A
%^^A%   The last example demonstrates new command \verb|\subcaptionlabel| for caption
%^^A%   labels, which can be used inside,
%^^A%   e.g., |picture| environment or as replacing text in \verb|psfrag| command of \package{psfrag}
%^^A%   package. Unlike the \verb|\caption| and \verb|\subcaption| commands, the \verb|\subcaptionlabel|
%^^A%   will not be saved in special box register when the float box is building, and
%^^A%   will be typed like caption label, which follows settings of caption layout.
%^^A%   This command is based on \verb|\subcaption| command but with changed internal command of \package{caption}
%^^A%   package. There is also the \verb|\captionlabel| command.
%^^A%   \captionsetup[subfigure]{labelformat=brace,justification=raggedleft}
%   Последний пример демонстрирует новую команду \verb|\subcaptionlabel|, которая может быть использована,
%   например, внутри окружения |picture| или как текст-замена для команды \verb|psfrag| (пакет
%   \package{psfrag}). В~отличие от команд \verb|\caption| и~\verb|\subcaption|,
%   команда \verb|\subcaptionlabel| не записывается в~специальный бокс-регистр при построении макета,
%   а~будет напечатана как номер, оформленный соответственно макету подписи.
%   Эта команда, основанная на команде \verb|\subcaption|, но с~изменённой внутренней
%   командой пакета \package{caption}. Также существует команда \verb|\captionlabel|.
%   \captionsetup[subfigure]{labelformat=brace,justification=raggedleft}
%   \begin{Quote}\openup-.5pt%
%\begin{preamble}\nopagebreak
%\verb|...|
%\verb|\floatsetup[figure]{|\FRkey{style}\verb|=plain}|
%\end{preamble}
%   |\begin{figure}|
%   |\fcapside[\FBwidth]|
%   |{\begin{picture}(82,28)(0,0)|
%   |\put(0,0){\framebox(40,28)[bl]{}}|
%   |\put(2,2){\makebox(0,0)[bl]{\relax\hbox{\subcaptionlabel{}\Flabel{scap:I}}}}|
%   |...|
%   |\put(42,0){|
%   |\put(0,0){\framebox(40,28)[bl]{}}|
%   |\put(2,2){\makebox(0,0)[bl]{\hbox{\subcaptionlabel{}\Flabel{scap:II}}}}|
%   |...}|
%   |\end{picture}}|
%   |{\caption{Представлены две части рисунка.|
%   |\textit{Слева} изображены кошачьи глаза (\Fref{scap:I});|
%   |\textit{справа} \cdash--- кошачьи уши (\Fref{scap:II})%|
%   |}\label{figcap:label}}|\nopagebreak
%   |\end{figure}|
%   \end{Quote}\pagebreak[3]
%\begingroup
%   \floatsetup[figure]{style=plain}
%   \begin{figure}[H]
%   \fcapside[\FBwidth]
%   {\unitlength2\unitlength\fboxsep-.4pt
%   \begin{picture}(82,28)(0,0)
%   \put(0,0){\framebox(40,28)[bl]{}}
%   \put(2,2){\makebox(0,0)[bl]{\relax\hbox{\subcaptionlabel{}\Flabel{scap:I}}}}
%   \put(20,2){{
%               \put(-12,5){\put(4.5,4.5){\oval(9,9)[t]}
%                         \put(4.5,4.5){\line(0,1){4.5}}
%                         \put(0,4.5){\line(1,0){9}}}
%               \put(3,5){\put(4.5,4.5){\oval(9,9)[t]}
%                         \put(4.5,4.5){\line(0,1){4.5}}
%                         \put(0,4.5){\line(1,0){9}}}}}
%   \put(42,0){
%   \put(0,0){\framebox(40,28)[bl]{}}
%   \put(2,2){\makebox(0,0)[bl]{\hbox{\subcaptionlabel{}\Flabel{scap:II}}}}%^^A\label{}
%   \put(20,2){{
%               \put(-14,12){\put(0,0){\line(2,3){5}}
%                         \put(10,0){\line(-2,3){5}}}
%               \put(4,12){\put(0,0){\line(2,3){5}}
%                          \put(10,0){\line(-2,3){5}}}}}}
%   \end{picture}}
%   {\caption[Рисунок с~метками частей, встроенными внутри графики]{%^^A
%   Представлены две части рисунка.
%   \textit{Слева} изображены кошачьи глаза (\Fref{scap:I});
%   \textit{справа} \cdash--- кошачьи уши (\relax\Fref{scap:II})
%   \unskip}\label{figcap:label}}
%   \end{figure}
%\endgroup
%
%^^A%    \subsection{Support of The Label--Sublabel References}\label{ssec:Flabel}
%    \subsection{Поддержка ссылок и~меток типа «старший-и-младший»}\label{ssec:Flabel}
%^^A%   In the examples above of the current section  the \verb|\Flabel| and
%^^A%   \verb|\Fref| commands were used for cross referencing (you may see
%^^A%   these commands in the code examples).
%^^A%   The \verb|\Flabel| gets a~modified format of current label of subfloat number:
%^^A%   In these definitions the float and subfloat
%^^A%   separators are divided by a~special separator command, which by default has no effect.
%^^A%   The label command \verb|\Flabel| can be defined like following:
%   В~примерах выше в~данном разделе использовались команды \verb|\Flabel| и~\verb|\Fref|
%   для перекрёстных ссылок (вы можете видеть эти команды в~примерах кода).
%   Команда \verb|\Flabel| использует изменённый формат текущей метки части флота:
%   в~данных примерах метки флота и~подфлота разделяются специальной командой,
%   которая по умолчанию ничего не означает.
%   Команда метки \verb|\Flabel| определяется следующим образом:
%   \begin{Quote}%
%\begin{preamble}
%   \verb|\newseparatedlabel\Flabel{figure}{subfigure}|
%\end{preamble}
%   \end{Quote}
%^^A%   or, for all floats:
%   или для всех флотов:
%   \begin{Quote}%
%\begin{preamble}
%   \verb|\makeatletter|\nopagebreak
%   \verb|\newseparatedlabel\Flabel{\@captype}{sub\@captype}|\nopagebreak
%   \verb|\makeatother|
%\end{preamble}
%   \end{Quote}
%^^A%   Next command, \verb|\Fref|, redefines this separator, and defines, if necessary,
%^^A%   the font emphasize (or other command which uses one argument)
%^^A%   of following part of label, and prints reference with
%^^A%   standard \verb|\ref| command. It was defined in this documentation like following:
%   Следующая команда, \verb|\Fref|, переопределяет команду разделителя и, при необходимости,
%   может задать команду шрифтового оформления (или другие команды использующие один аргумент),
%   а~затем печатает ссылку с~помощью стандартной команды \verb|\ref|. Команда \verb|\Fref|
%   определена в~данной документации следующим образом:
%   \begin{Quote}%
%\begin{preamble}
%   \verb|\newseparatedref\Fref{,\,\textit}|\quad.
%\end{preamble}
%   \end{Quote}
%^^A%   Thus, labels, which use \verb|\Flabel| command can be referenced by usual way with \verb|\ref|
%^^A%   command and with \verb|\Fref| command. The labels in current section and in the section, which describes
%^^A%   the \package{subfig} package, use the \verb|\Flabel|. You may see the result of this command
%^^A%   in all \verb|\Fref|erences to these parts of figures.
%   Теперь метки, которые заданы с~командой \verb|\Flabel| могут быть выведены и~стандартным
%   способом, с~использованием команды \verb|\ref|, и~с~помощью
%   команды \verb|\Fref|. Метки в~данном разделе и~в~разделе, описывающем пакет
%   \package{subfig}, используется команда \verb|\Flabel|. Результат этой команды
%   можно увидеть в~ссылках \verb|\Fref| на части рисунка.
%
%^^A%   The last command, \verb|\makelabelseparator|, defines label separator globally:
%   Последняя команда, \verb|\makelabelseparator|, определяет разделитель между старшим и~младшим
%   номером:
%   \begin{Quote}%
%\begin{preamble}
%   \verb|\makelabelseparator{,\,\textit}|\quad.
%\end{preamble}
%   \end{Quote}
%^^A%   In this case both \verb|\Fref| and \verb|\ref| commands give the same result with |\Flabel|ed
%^^A%   elements.
%   В~этом случае все метки созданные командой \verb|\Flabel| дадут одинаковый
%   результат и~при использовании \verb|\Fref| и~при использовании \verb|\ref|.
%
%^^A%    \subsubsection{The \cmd{\RawCaption} with Parts of Figure}
%    \subsubsection{Команда \texorpdfstring{\cs{RawCaption}}{RawCaption}
%       и~части рисунка}
%\begingroup
%   \DescribeMacro{\RawCaption}\label{subcap:RawCaption}%^^A
%^^A%   The example with usage of |\subcaption| and |\RawCaption| command.
%^^A%   The layout of figure float is modified \verb|BOXED| style. The idea behind this example is
%^^A%   to place caption in the free right lower corner of graphics. The \verb|\RawCaption|
%^^A%   allows to put the caption in necessary place without disturbing the float layout.
%^^A%   \captionsetup[subfigure]{labelformat=brace,justification=rightlast,format=hang}
%   Пример с~совместным использованием команд |\subcaption| и~|\RawCaption|.
%   В~качестве оформления рисунка используется модифицированный стиль \verb|BOXED|.
%   В~данном примере подпись к~рисунку лучше поместить в~свободное место
%   в~правом нижнем углу. Команда \verb|\RawCaption|
%   позволяет поместить подпись в~нужное место с~сохранением оформления рисунка.

%   \DescribeMacro{subfloatrow*}
%^^A%   The starred form loads settings for creation captions of float parts, but
%^^A%   in this environment the |\caption| command restores its meaning. Thus,
%^^A%   you need the |\subcaption| command for typesetting sub-captions.
%^^A%   You may define it by yourself:
%   «Звёздная» форма окружения ряда для частей флота сохраняет
%   значение команды |\caption|. Поэтому вам необходима дополнительная
%   команда |\subcaption| для создания подписей частей флота.
%   Её можно определить следующим образом:
%   \begin{Quote}
%   |\newcommand*\subcaption{\captionsetup{subtype*}\caption}|
%   \end{Quote}%
%^^A%   or use the additional package called \package{subcaption} which on top of everything
%^^A%   defines the |\subcaption| command.
%   или использовать пакет \package{subcaption}, который помимо всего прочего
%   определяет и~команду |\subcaption|.
%
%   \captionsetup[subfigure]{labelformat=brace,justification=rightlast,format=hang}
%   \begin{Quote}[0pt]%
%\begin{preamble}\nopagebreak
%   |\|\FRkey{DeclareColorBox}|{framedfigure}{\fcolorbox{gray}{white}}|\vspace{1ex}
%   |\floatsetup[figure]{style=BOXED,heightadjust=object,|
%   |    colorframeset=framedfigure,|
%   |    framestyle=colorbox,frameset={\fboxrule3pt\fboxsep8pt}}|\vspace{1ex}
%   |\floatsetup[subfigure]{style=plain,capbesideposition={left,top},|
%   |    heightadjust=object}|
%\end{preamble}
%   |\begin{figure}[H]|
%   |\ffigbox{}{\begin{subfloatrow*}|
%   |\fcapside[1.1\FBwidth]{\subcaption{...}\Flabel{...}%|
%   |  ...}{}|
%   |\fcapside[1.1\FBwidth]{\subcaption{...}\Flabel{...}%|%^^A
%   |  ...}{}%|
%   |\end{subfloatrow*}%|
%   |\renewlengthtocommand\settowidth\Mylen{\subfloatrowsep}\vskip\Mylen|
%   |\BottomFloatBoxes\floatsetup[subfigure]{heightadjust=none}|
%   |\begin{subfloatrow*}|
%   |\fcapside[1.1\FBwidth]{\subcaption{...}\Flabel{...}%|
%   |  ...}{}|
%   |\ffigbox[][][b]{}{\RawCaption{\caption[...}\label{...}}}|
%   |\end{subfloatrow*}}|\nopagebreak
%   |\end{figure}|
%   \end{Quote}
%   \floatsetup[figure]{style=BOXED,heightadjust=object,colorframeset=framedfigure,
%       framestyle=colorbox,frameset={\fboxrule3pt\fboxsep8pt}}
%   \floatsetup[subfigure]{style=plain,capbesideposition={left,top},heightadjust=object}
%   \begin{figure}[H]
%   \ffigbox{}{\begin{subfloatrow*}
%   \fcapside[1.1\FBwidth]{\subcaption{Очень забавный кот с весёлыми глазами, треугольными ушами,
%    и~маленьким чёрным носом}\Flabel{subIcapfig:ww}%
%     \setlength\unitlength{61\unitlength/48}\input{Cat.picture}}{}
%   \fcapside[1.1\FBwidth]{\subcaption{Очень приятная кошка с~большими усами, овальными глазами,
%    и~влажным розовым носиком}\Flabel{subIcapfig:bb}%^^A
%     \input{TheCat.picture}}{}%
%   \end{subfloatrow*}\renewlengthtocommand\settowidth\Mylen{\subfloatrowsep}\vskip\Mylen
%   \BottomFloatBoxes\floatsetup[subfigure]{heightadjust=none}
%   \begin{subfloatrow*}
%   \fcapside[1.1\FBwidth]{\subcaption{Очень большой кот, сидит на окне и~смотрит на птиц
%       на дереве во дворе}\Flabel{subIcapfig:bc}%
%     \input{BlackCat.picture}}{}
%   \ffigbox[][][b]{}{\RawCaption{\relax\caption[Три части рисунка с~подписями.
%       Основная подпись в~свободном месте]{Подписи частей
%       рисунков выровнены по верху. Итак три части рисунка:
%   \Fref{subIcapfig:ww}, \Fref{subIcapfig:bb} и~\Fref{subIcapfig:bc}. Подпись рисунка
%       размещена на свободном месте в~правом нижнем углу}\label{fig:subIcap:IcatsI}}}
%   \end{subfloatrow*}}
%   \end{figure}
%\endgroup
%
%\endgroup
%
%   \clearpage
%   \section{Тандемы стилей}
%^^A%   The next few sections show examples and explain some noticed
%^^A%   features with usage of \package{floatrow} and other packages. There is no
%^^A%   full list of style compatibilities. You may succeed with other
%^^A%   versions of mentioned packages, and maybe with not mentioned
%^^A%   packages too.
%   Несколько следующих разделов показывают примеры и~объясняют
%   некоторые замеченные особенности с~использованием пакета
%   \package{floatrow} вместе с~другими пакетами. Это не полный
%   список таких пакетов. Возможна совместимость и~с~другими версиями
%   указанных пакетов, и~с~неуказанными пакетами тоже.
%
%^^A%   \subsection{The \package{subfig} Package}\label{ssec:subfig}
%   \subsection{Пакет \package{subfig}}\label{ssec:subfig}
%^^A%   Tested (and compatible) with version 1.3,
%^^A%   dated 2005/06/28%^^A
%^^A%   \footnote{The English documentation is
%^^A%   \href{ftp://ctan.tug.org/tex-archive/macros/latex/contrib/subfig/subfig.pdf}%^^A
%^^A%   {\meta{texmf folder}\texttt{/doc/latex/subfig/subfig.pdf}}.}.
%^^A%   For the \package{subfig} package there are additional
%^^A%   macros in \package{floatrow} which
%^^A%   put subcaption label beside contents of subfloat and put alone
%^^A%   subcaption label.
%   Тестировалось (и~совместимо) с~версией~1.3 датированной 2005/06/28.%^^A
%   \footnote{Английская документация
%   \href{ftp://ctan.tug.org/tex-archive/macros/latex/contrib/subfig/subfig.pdf}%^^A
%   {\meta{texmf folder}\texttt{/doc/latex/subfig/subfig.pdf}}.}
%   В~пакете \package{floatrow} добавлены
%   макрокоманды для размещения частей флота рядом; размещения
%   номера подписи подфлота сбоку; задания номера подписи подфлота
%   отдельно.
%
%^^A%   \subsubsection{Additions in \package{floatrow}}
%^^A%     \label{ssec:sidelabelsubfloat}
%   \subsubsection{Добавления в~пакете \package{floatrow}}
%     \label{ssec:sidelabelsubfloat}
%^^A%   The example with \cmd{\subfloat}'s (table~\ref{tab:tabIII}). The
%^^A%   setting command in preamble |\floatsetup[table]{style=Plaintop}|%^^A
%^^A%   \FRmpar{Subcaption above subtable}{FAD:subcapabove}
%^^A%   includes also settings for subcaption positions used with the
%^^A%   \package{subfig} package (like |\captionsetup[table]{position=top}| in
%^^A%   \package{caption} package):
%   Пример с~\cmd{\subfloat}'ами (табл.~\ref{tab:tabIII}).
%   Команда настройки оформления в~преамбуле,
%   |\floatsetup[table]{style=Plaintop}|,%^^A
%   \FRmpar{Подподпись над частью таблицы}{FAD:subcapabove}
%   включает
%   также настройки для положения подподписей, задаваемых пакетом
%   \package{subfloat} (аналогично настройкам |\captionsetup[table]{position=top}|
%   в~пакете \package{caption}):
%\begin{Quote}\obeylines\parskip-.15pt
%|\begin{table}\extrarowheight1pt|\nopagebreak
%|  \floatbox{table}[\FBwidth]|
%|   {\caption{Two ...}\label{...}}|
%|   {\begin{subfloatrow}|
%|     \subfloat[First table]|
%\verb+      {\begin{tabular}{|l|c|c|}+
%|        ...\end{tabular}}|
%|     \subfloat[Second table...]|
%\verb+      {\begin{tabular}{|l|c|c|}+
%|        ...\end{tabular}%|
%|    \end{subfloatrow}}}|
%|\end{table}|
%\end{Quote}
%\begingroup
%   \DeleteShortVerb{\|}%
%   \floatsetup[subtable]{style=Plaintop}
%   \begin{table}[H]\extrarowheight1pt\tabcolsep1.5\tabcolsep
%   \floatbox{table}[\FBwidth]
%   {\caption{Две подтаблицы (\cmd{\subtable})
%    (созданные с пакетом \package{subfig})}\label{tab:tabIII}}
%   {\begin{subfloatrow}
%     \subfloat[Первая подтаблица]
%      {\begin{tabular}{|l|>{\phantom0}c|>{\phantom0}c|}
%       \hline
%       \multirowthead{2}[-1ex]{Left Column Head}
%                  & \multicolumn{2}{c|}{\thead{Data}} \\
%                  \cline{2-3}
%                  & \multicolumn{1}{c|}{\thead{I}}
%                              & \multicolumn{1}{c|}{\thead{II}}
%       \\\hline
%       First row    &         1 &         2 \\
%       Second row   &         3 &         4 \\
%       Third row    &         6 &         8 \\
%       Fourth row   & \llap{1}0 & \llap{1}6 \\
%       \hline
%       \end{tabular}}
%
%   \subfloat[Вторая подтаблица с~длинным длинным заголовком]
%   {\begin{tabular}{|l|c|c|}
%     \hline
%       \multirowthead{2}[-1ex]{Column Head}
%                  & \multicolumn{2}{c|}{\thead{Data}} \\
%                  \cline{2-3}
%                  & \multicolumn{1}{c|}{\thead{I}}
%                              & \multicolumn{1}{c|}{\thead{II}}
%     \\\hline
%     First row    & \phantom01 & \phantom02 \\
%     Second row   & \phantom03 & \phantom04 \\
%     Third row    & \phantom06 & \phantom08 \\
%   %^^A   Fourth row   &         10 &         16 \\
%     \hline
%   \end{tabular}}%
%   \end{subfloatrow}}
%   \end{table}%
%   \MakeShortVerb{\|}%
%
%^^A%   The |subfloatrow| is analogous to the |floatrow| environment.
%^^A%   The usage is similar to |floatrow|:
%   Окружение |subfloatrow| \cdash--- это упрощённый вариант окружения
%   |floatrow|.  Использование его аналогично |floatrow|:
%   \begin{Quote}
%   |\begin{subfloatrow}[|\meta{number of beside floats}|]|\nopagebreak
%   |\subfloat...|\nopagebreak
%   |\subfloat...|\nopagebreak
%   |...|\nopagebreak
%   |\end{subfloatrow}|
%   \end{Quote}
%^^A%   i.e. by default two subfloats are allowed. For other number of subfloats
%^^A%   you ought to put number in optional argument.
%^^A%   This environment
%^^A%   puts a~horizontal separator between subfloats, defined by |subfloatrowsep=|
%^^A%   key instead of |floatrowsep=|. This key uses the same options
%^^A%   as |floatrowsep=| and |capbesidesep=| keys (options of
%^^A%   these keys defined by |\DeclareFloatSeparators| command,
%^^A%   page~\pageref{setup:DeclareFloatSeparators}).
%   {\sloppy
%   т.\,е. по умолчанию в~окружении предполагается два подфлота. Для другого числа подфлотов
%   нужно задать дополнительный аргумент.
%   Окружение между подфлотами
%   создаёт разделитель, заданный ключом |subfloatrowsep=|.
%   Ключ использует те же опции, что и~ключи
%   |floatrowsep=| и~|capbesidesep=| (опции этих ключей
%   задаются командой |\DeclareFloatSeparators|,
%   с.~\pageref{setup:DeclareFloatSeparators}).\par}
%
%^^A%   Next follows an example with beside caption (see
%^^A%   figure~\ref{fig:subfig:catsI}).%^^A
%   Следующим идёт пример рисунка с~подписью сбоку (рис.~\ref{fig:subfig:catsI}).%^^A
%\begin{Quote}
%\begin{preamble}
%|\floatsetup[figure]{|\FRkey{style}|=Shadowbox,|%^^A
%     \FRkey{capbesidesep}|=columnsep,|
%|    |\FRkey{capbesideframe}|=yes,|%^^A
%     \FRkey{capbesideposition}|={left,top}}|
%|\floatsetup[subfigure]{|\FRkey{style}|=plain}|
%|\captionsetup[subfigure]{labelformat=brace,justification=centerlast,|
%|      strut=no}|
%\end{preamble}
%|\fcapside[\FBwidth]|
%|   {\begin{subfloatrow}|
%|   \subfloat[...\label{...}]{...}|
%|   \subfloat[...\label{...}]{...}%|
%|   \end{subfloatrow}}|
%|{\caption{...}}|
%\end{Quote}
%   \floatsetup[figure]{style=Shadowbox,capbesidesep=columnsep,
%     capbesideframe=yes,capbesideposition={left,top}}
%   \floatsetup[subfigure]{style=plain}
%   \captionsetup[subfigure]{labelformat=brace,justification=centerlast,strut=no}
%   \begin{figure}[h]
%   \fcapside[\FBwidth]
%   {\begin{subfloatrow}
%   \subfloat[Кот]{\unitlength.99\unitlength\input{Cat.picture}\Flabel{subfig:w}}
%
%   \subfloat[Другой кот]%^^A
%     {\unitlength.9\unitlength\input{TheCat.picture}\Flabel{subfig:b}}%
%   \end{subfloatrow}}
%   {\caption[Ряд подфлотов]{Подпись сбоку
%       выровнена по верху; стиль оформления флота
%   |Shadowbox|. Помещены две части рисунка:
%   \protect\Fref{subfig:w} и~\protect\Fref{subfig:b}}\label{fig:subfig:catsI}}
%   \end{figure}
%\endgroup
%
%   \DescribeMacro{\sidesubfloat}
%^^A%   Another addition in \package{floatrow} for subfloats is the command,%^^a
%^^A%   which puts subcaption label beside subfloat. the subcaption label always
%^^A%   appears on the left side. the key |subcapbesideposition=|
%^^A%   \describemacro{subcapbesideposition}\label{setup:subcapbesideposition}%^^a
%^^A%   sets vertical alignment of beside subcaption and subfloat.
%^^A%   the options are analogous to the ones for |capbesideposition=| key:
%   Ещё одно определение \package{floatrow} для подфлотов \cdash--- команда,
%   которая помещает метку подподписи сбоку подфлота. Метка подподписи
%   всегда располагается слева от подфлота. Ключ |subcapbesideposition=|
%   \DescribeMacro{subcapbesideposition}\label{setup:subcapbesideposition}%^^A
%   определяет взаимное вертикальное выравнивание метки и~подфлота.
%   Название опций аналогично опциям вертикального выравнивания в~ключе
%   |capbesideposition=|:%^^A
%   \begin{Options}{\OptionLabel}\samepage
%     \item[top]
%^^A%     subcaption label aligned to the top of object;
%     метка выровнена по верху объекта;
%     \item[bottom]
%^^A%     subcaption label aligned to the bottom of object;
%     метка по низу объекта (задана по умолчанию);
%     \item[center]
%^^A%     subcaption label aligned to the center of float contents.
%     метка по середине объекта.
%   \end{Options}
%
%^^A%   The figure~\ref{fig:subfig:catsII} shows layout with subfloat labels beside.
%   \mbox{}\FRmpar{Метка подподписи сбоку подфлота}{FAD:sublabelbeside}%%^^A
%   Рисунок~\ref{fig:subfig:catsII} демонстрирует оформление с~метками частей рисунка слева.
%   \begingroup
%   \begin{Quote}%
%\begin{preamble}
%|...|\nopagebreak
%|\floatsetup[figure]{|\FRkey{style}|=plain,|%^^A
%   \FRkey{subcapbesideposition}|=top}|
%\end{preamble}
%   |\begin{figure}[H]|
%   |  \ffigbox[\FBwidth]|
%   |    {\begin{subfloatrow}|
%   |       \sidesubfloat[]{...\label{...}}%|
%   | |
%   |       \sidesubfloat[]{...\label{...}}%|
%   |     \end{subfloatrow}}|
%   |{\caption[...]{...}\label{...}}|
%   |\end{figure}|
%   \end{Quote}
%   \floatsetup[figure]{style=plain,subcapbesideposition=top}
%   \captionsetup[subfigure]{labelformat=brace,justification=centerlast,strut=no}
%   \begin{figure}[h]
%   \ffigbox[\FBwidth]
%   {\begin{subfloatrow}
%   \sidesubfloat[]{%
%     {\unitlength.9\unitlength\input{Cat.picture}\label{subfig:wI}}}
%
%   \sidesubfloat[]{\unitlength.9\unitlength\input{TheCat.picture}\label{subfig:bI}}%
%   \end{subfloatrow}}
%   {\caption[Ряд подфлотов (метки сбоку)]{Подпись сбоку выровнена
%   по средней линии. Помещены две части рисунка: \protect\ref{subfig:wI}
%   и~\protect\ref{subfig:bI}}\label{fig:subfig:catsII}}
%   \end{figure}
%   \endgroup
%
%   \DescribeMacro{\subfloatlabel}
%^^A%   There are cases when usage of something like |\subfloat[]{\label{..}}|
%^^A%   is needed. The first case shows the figure~\ref{fig:subfig:catsIII}---the
%^^A%   funny |picture| environment where subfloat labels were |\put|
%^^A%   as a part of subfigures.
%^^A%   Other---when you use mechanism of \package{psfrag} package and replace text entries
%^^A%   from PostScript file with \LaTeX{} ones. Unfortunately, the \package{subfig} package
%^^A%   creates unnecessary spaces around alone subfloat label in the
%^^A%   |\subfloat[]{\label{..}}| combination. The \package{fr-subfig} tries to fix this problem.
%   Иногда бывает нужна комбинация |\subfloat[]{\label{..}}|.
%   Первый случай демонстрирует рис.~\ref{fig:subfig:catsIII} \cdash--- забавное
%   окружение |picture|, где метки подфлота помещены командой |\put|,
%   внутри рисунка.
%   Другой случай \cdash--- использование пакета \package{psfrag} для замены текста
%   PostScript-файлов на \LaTeX'овский.  К~сожалению, при задании |\subfloat[]{\label{..}}|
%   пакет \package{subfig} создаёт ненужные отбивки
%   вокруг метки подфлота. Пакет \package{fr-subfig} пытается решить эту проблему.
%
%^^A%   This command is based on |\subfloat[]{\label{..}}| sentence and
%^^A%   puts alone subcaption label with necessary number. The full variant
%^^A%   of |\subfloatlabel|
%   Данная команда базируется на комбинации |\subfloat[]{\label{..}}|
%   и~помещает метку части рисунка с~нужным номером. Полный вариант
%   команды |\subfloatlabel|:
%   \begin{Quote}
%   |\subfloatlabel|\oarg{subfloat number}\oarg{label entry}
%   \end{Quote}
%   является сокращением следующего кода:
%   \begin{Quote}
%   |\setcounter|\marg{sub{\upshape\texttt{\char`\\@captype}}}\marg{subfloat number-1}\\
%   |\subfloat[]{\label{|\meta{label entry}|}}|
%   \end{Quote}
%
%^^A%   Another example:
%   Ещё один пример:
%   \begingroup
%   \begin{Quote}%
%\begin{preamble}
%|...|\nopagebreak
%|\floatsetup[figure]{|\FRkey{style}|=plain}|
%|\DeclareCaptionListOfFormat{comma-separated}{#1,\,#2}|
%|\captionsetup[subfigure]{listofformat=comma-separated}|
%   |\begin{figure}[h]|
%   |\fcapside[\FBwidth]|
%   |    {\unitlength2\unitlength\fboxsep-.4pt|
%   |       \begin{picture}(90,30)(0,0)|
%   |           \put(0,0){\framebox(40,30)[bl]{}}|\nopagebreak
%|...|
%\end{preamble}
%   \end{Quote}
%   \floatsetup[figure]{style=plain}
%   \captionsetup[subfigure]{listofformat=comma-separated,labelformat=brace,strut=no}
%   \begin{figure}[H]
%   \fcapside[\FBwidth]
%   {\unitlength2\unitlength\fboxsep-.4pt
%   \begin{picture}(90,30)(0,0)
%   \put(0,0){\framebox(40,30)[bl]{}}
%   \put(2,2){\makebox(0,0)[bl]{\subfloat[]{\label{subfig:wII}}}}
%   \put(0,0){
%   \put(8,10){\put(4.5,4.5){\oval(9,9)[t]}
%             \put(4.5,4.5){\line(0,1){4.5}}
%             \put(0,4.5){\line(1,0){9}}}
%   \put(23,10){\put(4.5,4.5){\oval(9,9)[t]}
%             \put(4.5,4.5){\line(0,1){4.5}}
%             \put(0,4.5){\line(1,0){9}}}}
%
%   \put(50,0){\framebox(40,30)[bl]{}}
%   \put(52,2){\makebox(0,0)[bl]{\subfloatlabel[3][subfig:bII]{}%^^A
%   }}%^^A\label{}
%   \put(50,0){
%   \put(6,18){\put(0,0){\line(2,3){5}}
%             \put(10,0){\line(-2,3){5}}}
%   \put(24,18){\put(0,0){\line(2,3){5}}
%              \put(10,0){\line(-2,3){5}}}}
%   \end{picture}}
%   {\caption[Графика с~метками частей рисунка. Метки подфлотов были заданы
%       с~изменёнными настройками ключа \texttt{listofformat=}]{%^^A
%   Нарисованы два простых рисунка.
%   На одном \protect\cdash--- кошачьи глаза (\subref{subfig:wII}), помеченные как
%   \cs{subfloat}\texttt{[]\char`\{\char`\}};
%   а~\cs{subfloatlabel}\texttt{[3][subfig:bII]} помечает кошачьи уши на другом
%   (\subref{subfig:bII})}%^^A
%   \label{fig:subfig:catsIII}}
%   \end{figure}
%^^A%   in the examples of current section the \verb|\Flabel| and \verb|\Fref|
%^^A%   commands for cross referencing of the subfloats were used
%^^A%   (you may see these commands in the code examples). As described in section~\ref{ssec:flabel}
%^^A%   these commands allow to create combined references which consist of the parent and current
%^^A%   labels separated by predefined punctuation sign.
%   В~примерах данного раздела были использованы команды \verb|\Flabel| и~\verb|\Fref|
%   для перекрёстных ссылок к~подфлотам
%   (вы можете увидеть эти команды в~примерах кода). Как описано в~разд.~\ref{ssec:Flabel}
%   эти команды позволяют задать ссылки, состоящие из старшего и~текущего уровней,
%   разделённых предопределённым знаком пунктуации.
%
%\begin{small}
%
%   \medskip
%^^A%   \emph{Some explanation}.
%^^A%   Previous versions of documentation used the |listofformat=| key; the necessary option
%^^A%   was defined by |\DeclareCaptionListOfFormat| command:
%^^A%   \begin{Quote}%
%^^A%   |\DeclareCaptionListOfFormat{comma-separated}{#1,\,#2}|
%^^A%   \end{Quote}%
%^^A%   This format is used, in particular, by |\subref| command. But usage of this key changes output
%^^A%   of subfloat numbers in the lists (list of tables and list of figures etc.),
%^^A%   which could be undesirable (see numbers of subfigures \subref{subfig:wII}
%^^A%   and \subref{subfig:bII} in the List of Figures).
%   \emph{Объяснительная}.
%   Предыдущие версии документации использовали ключ |listofformat=| key; необходимую опцию можно
%   задать с~помощью команды |\DeclareCaptionListOfFormat|:
%   \begin{Quote}%
%   |\DeclareCaptionListOfFormat{comma-separated}{#1,\,#2}|
%   \end{Quote}%
%   Такой формат метки используется, в~частности, командой |\subref|. Но использование этого ключа
%   изменяет вывод нумерации подфлотов в~Списках (таблиц, рисунков и~т.\,д.),
%   что возможно и~нежелательно (см.~нумерацию рисунков \subref{subfig:wII}
%   и~\subref{subfig:bII} в~списке рисунков в~начале документации).
%   \medskip
%
%\end{small}
%
%^^A%   See examples with |subfloatrow| environments in sample files
%^^A%   \file{frsample03.tex}, \file{frsample05.tex}; and also
%^^A%   \file{frsample10.tex}--\file{frsample12.tex} where aligned contents
%^^A%   of beside subfloats are used in different layouts.
%   См. примеры с~окружениями |subfloatrow| в~файлах примеров
%   \file{frsample03.tex}, \file{frsample05.tex}; а~также
%   \file{frsample10.tex}--\file{frsample12.tex} где подфлоты
%   даны в~различных оформлениях и~размещениях.
%   \endgroup
%
%
%   \clearpage
%^^A%   \subsection{The \package{longtable} Package}\label{ssec:longtable}
%   \subsection{Пакет \package{longtable}}\label{ssec:longtable}
%^^A%   Tested with version v4.11, dated 2004/02/01.%^^A
%^^A%   \footnote{The English documentation is
%^^A%   \href{ftp://ctan.tug.org/tex-archive/macros/latex/required/tools/longtable.dvi}%^^A
%^^A%   {\meta{texmf folder}\texttt{/doc/latex/tools/longtable.dvi}}.}
%   Тестировалось с~версией v4.11, датированной 2004/02/01.%^^A
%   \footnote{Английская документация
%   \href{ftp://ctan.tug.org/tex-archive/macros/latex/required/tools/longtable.dvi}%^^A
%   {\meta{texmf folder}\texttt{/doc/latex/tools/longtable.dvi}}.}
%   В~русских публикациях
%   рекомендуется использовать версию не ниже указанной.
%
%^^A%   Please note that almost all settings in the |\floatsetup|'s
%^^A%   argument do not work inside |longtable| environments, except
%^^A%   settings for caption width (see below) and plain horizontal alignment in the |margins=| key.
%^^A%   So, during building of |\floatsetup| settings for the tables, be aware
%^^A%   that you may use only something like |style=plaintop| or |style=Plaintop|,
%^^A%   to place caption above, also you may use options of the
%^^A%   |margins=| key, which use only spacing commands, like defined ones
%^^A%   in this package (page~\pageref{setup:margins}), and do not forget settings for |\LTleft| and |\LTright|
%^^A%   margins, which set the alignment of |longtable| environment.
%   Обратите внимание, что почти все настройки |\floatsetup| не работают внутри |longtable|, кроме
%   настроек ширины подписи (см.~ниже) и~выключки, задаваемой ключом |margins=|.
%   Поэтому, создавая настройки |\floatsetup| для таблиц, помните, что вы можете
%   использовать только что-то вроде |style=plaintop| или |style=Plaintop|, чтобы поместить
%   подпись над табличным материалом, а~также опции ключа
%   |margins=| аналогичные предопределённым пакетом (с.~\pageref{setup:margins}),
%   и~не забудьте задать значения  |\LTleft| и~|\LTright|, соответствующие заданной выключке.
%
%^^A%   Please see the \package{caption} documentation about how to build necessary caption layout
%^^A%   when |longtable| environment is used.
%   Для создания оформления подписей с~учётом использования окружения |longtable|,
%   обратитесь к~документации пакета \package{caption}.
%
%^^A%   \subsubsection{Additions in \package{floatrow}}\label{ssec:LTcapwidth}
%   \subsubsection{Добавления в~пакете \package{floatrow}}\label{ssec:LTcapwidth}
%^^A%   A patch was added to the \package{longtable}
%^^A%   package\footnote{Thanks to A.~Sommerfeldt for help to make this
%^^A%   code compact.}: this patch adds the same font settings
%^^A%   as for |table| environments, and adds code which helps
%^^A%   to get the width of |longtable| caption equal to the
%^^A%   width of table. For settings of the caption width  the special key was created.
%   Был добавлен код к~пакету
%   \package{longtable}\footnote{Спасибо
%   A.\,Sommerfeldt за помощь в~создании компактного кода.}:
%   этот код задаёт настройки того
%   же шрифта, что и~в~таблицах в~окружении |table|,
%   а~также возможность задать ширину
%   табличного заголовка в~окружении |longtable| равной ширине
%   таблицы. Для задания ширины
%   табличного заголовка задан ключ.
%
%   \DescribeMacro{LTcapwidth}\label{setup:LTcapwidth}%^^A
%   \FRmpar{Ширина подписи по ширине таблицы longtable}{FAD:LTcapwidth}%^^A
%^^A%   This key could have any value, like |5cm| or |\hsize|. The key value will be sent to
%^^A%   the |\LTcapwidth| command. If you'll write
%^^A%   |LTcapwidth=table| or |LTcapwidth=contents|, you will get
%^^A%   the caption width equal to the width of table. In this case settings for
%^^A%   width of caption use information from the |aux|-file, so you'll get
%^^A%   correct caption width at the time when the width of full table \emph{become
%^^A%   stable}.
%   Этот ключ может иметь любое значение типа |5cm| или |\textwidth| \cdash--- в~этом
%   случае он дублирует команду |\LTcapwidth|.
%   Если же вы зададите |LTcapwidth=table| или
%   |LTcapwidth=contents|,
%   ширина табличного заголовка будет рассчитываться по ширине таблицы. Настройка
%   ширины табличного заголовка в~этом случае производится
%   по информации из |aux|-файла,
%   поэтому вы получите правильный результат только тогда,
%   когда ширина всей таблицы будет стабильной.
%
%^^A%   The |longtable| environment uses layout settings from
%^^A%   |\floatsetup[table]| and |\floatsetup[longtable]| contents.
%^^A%   The |\floatsetup[longtable]| will be ``strongest'' in this pair.\medskip
%   Окружение |longtable| использует настройки,
%   заданные в~опциях команды |\floatsetup[table]|
%   и~|\floatsetup[longtable]|. Последние настройки, |\floatsetup[longtable]|,
%   будет «сильнейшими» в~этой паре.\medskip
%
%^^A%   \emph{The addition with version 0.1k}.
%^^A%   A~\textrm{beta-temp}\footnote{Again, like with \package{listpen} package,
%^^A%   I~hope that such support sooner or later could appear in
%^^A%   \package{longtable} and think it is better to follow
%^^A%   grammar of master-package for similar situations. Also it is necessary to say
%^^A%   that command names from \package{fr-longtable} package ``intrude'' in the
%^^A%   \package{longtable}'s naming space.} package \package{fr-longtable}
%^^A%   with additions is added,  which allows creation of special head for the last
%^^A%   page of longtable environment and special foot for pages before last
%^^A%   (the table~\ref{tab:floatlayouts} uses these commands for head and foot settings).
%   \emph{Добавление в~версии~0.1k}. Добавлен
%   \textrm{beta-temp}\footnote{Опять, как и~с~пакетом~\package{listpen},
%   я~надеюсь что подобная поддержка рано или поздно появится в~самом пакете
%   \package{longtable} и~думаю, что лучше использовать названия
%   аналогичные «мастер»-пакету. Кроме того нужно указать, что названия новых определений «вторгаются»
%   в~пространство наименований пакета  \package{longtable}.} пакет \package{fr-longtable}
%   с~добавлениями, которые позволяют создание специальной шапки
%   для последней страницы таблицы |longtable| и~специального подвала
%   для предпоследней.
%   (табл.~\ref{tab:floatlayouts} использует эти команды для настройки шапок и~подвалов).
%
%   \DescribeMacro{\endlasthead}
%   \DescribeMacro{\endprelastfoot}
%^^A%   The |\endlasthead| command defined for last head of longtable; second command,
%^^A%   |\endprelastfoot|, defined for foot on the page before last.
%^^A%   Since these names of commands ``intrude'' in the \package{longtable} naming
%^^A%   territory they get defined if they are still unknown, i.e.~the main,
%^^A%   \package{longtable}, package didn't defined them.
%^^A%   The syntax is also analogous as for commands |\endhead|, |\endfirsthead| etc.
%^^A%   (See examples and additional explanation in the sample file
%^^A%    \texttt{sample-longtable.tex} file.)\medskip
%   Команда |\endlasthead| определяет последнюю шапку для |longtable|;
%   команда |\endprelastfoot| определяет подвал для предпоследней страницы.
%   Поскольку названия команд «забираются» на территорию наименований пакета \package{longtable}
%   они определяются только в~случае, если они до сих пор неизвестны, т.\,е. основной
%   пакет, \package{longtable}, не определил их.
%   Синтаксис определения аналогичен командам |\endhead|, |\endfirsthead| и~т.\,д.
%   (См.~примеры и~дополнительные разъяснения в~файле \texttt{sample-longtable.tex}
%   приложенном к~данному пакету.)
%
%^^A%^^A%   \DescribeMacro{\floatfoot}
%^^A%   \emph{Note}. Please remember that the footnote stuff  inside |longtable| works like in main
%^^A%   text and puts the text of footnotes
%^^A%   at the bottom of page\footnote{See also |longtable| documentation.}.
%   \emph{Замечание}. Механизм создания сносок внутри окружения |longtable| работает как
%   в~основном тексте и~помещает текст сносок
%   вниз полосы\footnote{См.~также документацию к~пакету \package{longtable}.}.
%
%^^A%   The \package{floatrow} package's command for legends or explications, |\floatfoot|,
%^^A%   in current version has emulation mode inside |longtable|, and needs stuff,
%^^A%   similar to |\noalign{\floatfoot{...}}|. Since the default font definition for explications (|\floatfoot|)
%^^A%   is also set to |\footnotesize|, like for footnotes, you may put footnotes-emulations at the end of table,
%^^A%   inside this explication block, using |\mpfootnotemark| commands inside table contents and at the
%^^A%   beginning of each text of footnote.
%   Команда экспликации, |\floatfoot|, внутри окружения |longtable| в~данной версии
%   эмулируется и~для размещения экспликаций требуется код
%   типа |\noalign{\floatfoot{...}}|. Кроме того, поскольку для экспликации по умолчанию задан
%   шрифт  |\footnotesize|, как и~для сносок, можно создать эмуляцию сносок в~конце
%   таблицы, в~блоке экспликаций, используя команды |\mpfootnotemark| в~тексте таблицы
%   и~в~начале текста каждой сноски.
%
%^^A%   The fragments from the longtable \ref{tab:floatlayouts} on the page
%^^A%   \pageref{tab:floatlayouts},
%^^A%   which describes float styles, will be the resum\'e for
%^^A%   this section.
%   Фрагменты многостраничной таблицы~\ref{tab:floatlayouts} на
%   с.~\pageref{tab:floatlayouts},
%   описывающие стили флотов, подытоживают данный раздел.
%\begin{Quote}\openup.5pt%
%\begin{preamble}%
%|\DeclareCaptionLabelFormat{continued}{\rightline|
%|              {\bothIfFirst{#1}{ }#2 (\emph{продолжение})}}|
%|\DeclareCaptionLabelFormat{finished}{\rightline|
%|              {\bothIfFirst{#1}{ }#2 (\emph{окончание})}}|
%\end{preamble}%
%   |\def\LongtableHead{|
%   |   \hfil\thead{Стиль} &|
%   |   \hfil\thead{Ключи \cmd{\floatsetup}} &|
%   |   \hfil\thead{Описание}|
%   |   }|
%   |\begin{longtable}{|\meta{преамбула таблицы}|}|
%   |\caption{Стили плавающих объектов}\label{tab:floatlayouts}\\|
%   |\hline|
%   |\LongtableHead|
%   |\\ \hline|
%   |\endfirsthead|\% \emph{завершение стандартного бокса пакета} \package{longtable}
%   |\captionsetup{labelformat=continued}|%^^A
%       {\em\tabular[t]{@{}l}\% настройки подписи \\\% для страниц с~продолжением\endtabular}
%   |\caption[]{}\\|
%   |\hline|
%   |\LongtableHead|
%   |\\ \hline|
%   |\endhead|\% \emph{завершение стандартного бокса пакета} \package{longtable}
%   |\captionsetup{labelformat=finished}|%^^A
%       {\em\tabular[t]{@{}l}\% настройки подписи \\\% для последней страницы\endtabular}
%   |\caption[]{}\\|
%   |\hline|
%   |\LongtableHead|
%   |\\ \hline|
%   |\endlasthead|\% \emph{завершение бокса заданного пакетом} \package{fr-longtable}
%   |\hline|
%   |\multicolumn{3}{r@{}}{\topstrut\emph{продолжение на следующей странице}}|
%   |\endfoot|\% \emph{завершение стандартного бокса пакета} \package{longtable}
%   |\hline|
%   |\multicolumn{3}{r@{}}{\topstrut\emph{окончание на следующей странице}}|
%   |\endprelastfoot|\% \emph{завершение бокса заданного пакетом} \package{fr-longtable}
%   |\endlastfoot|\% \emph{завершение стандартного бокса пакета} \package{longtable}
%   \meta{Содержимое таблицы}
%   \meta{Содержимое таблицы}|\mpfootnotemark[1]|
%   \meta{Содержимое таблицы}
%   \meta{Содержимое таблицы}|\mpfootnotemark[2]|
%   \meta{Содержимое таблицы}
%   |\\ \hline|
%   |\noalign{\floatfoot*{|\meta{Текст экспликации}|.\vspace{-3pt}\par|\nopagebreak
%   |\rule{1in}{.4pt}\vspace{2pt}%| \emph{Эмуляция линейки для сноски}\nopagebreak
%   |\parindent15pt|\nopagebreak
%   \% \textit{эмуляция текста сносок}\nopagebreak
%   |\mpfootnotemark[1]{|\meta{Текст сноски}|}|\nopagebreak
%   |...|\nopagebreak
%   |}}|\nopagebreak
%   |\end{longtable}|
%\end{Quote}%
%^^A%   \emph{Note}. The usage of settings |\captionsetup{labelformat=continued}|
%^^A%   inside |longtable| environment was documented in the \package{caption} package 3.1.
%   \emph{Замечание}. Использование настроек |\captionsetup{labelformat=continued}|
%   внутри окружения |longtable| появилось в~документации пакета \package{caption}
%   версии 3.1.
%
% \clearpage
%^^A%   \subsection{The \package{wrapfig} Package}\label{ssec:wrapfig}
%   \subsection{Пакет \package{wrapfig}}\label{ssec:wrapfig}
%   \begingroup\let\xpar\par\sloppy
%   \def\FBaskip{-12pt}
%   \floatsetup[figure]{style=ruled,relatedcapstyle=yes,footposition=caption}
%   \captionsetup[wrapfigure]{labelformat=thinspace,labelsep=period}
%   \begin{wrapfigure}[10]{O}{42mm}
%^^A   \ffigbox[40mm]
%   {\caption{Простой рисунок в оборку (пакет \package{wrapfig})}%
%   \floatfoot{Обычный рисунок может не получиться в версии
%   3.3}\label{fig:wrapfig:WcatI}}
%   {\unitlength1.095\unitlength
%   \input{TheCat.picture}}
%   \end{wrapfigure}
%
%^^A%   Tested with version 3.3 dated 1999/10/12 (style from \package{ltxmisc}
%^^A%   bundle) and 3.6 dated 2003/01/31 (the separate \LaTeX\ package)%^^A
%^^A%   \footnote{The English documentation is
%^^A%   \href{ftp://ctan.tug.org/tex-archive/macros/latex/contrib/wrapfig/wrapfig.pdf}%^^A
%^^A%   {\meta{texmf folder}\texttt{/doc/latex/wrapfig/wrapfig.pdf}}.}.
%   Тестировано с~версией 3.3 датированной 1999/10/12
%   (стиль из группы пакетов \package{ltxmisc})
%   и~версией 3.6 датированной 2003/01/31 (отдельный пакет).%^^A
%   \footnote{Английская документация
%   \href{ftp://ctan.tug.org/tex-archive/macros/latex/contrib/wrapfig/wrapfig.pdf}%^^A
%   {\meta{texmf folder}\texttt{/doc/latex/wrapfig/wrapfig.pdf}}.}
%
%^^A%   Options for environment (text borrowed from package comments):
%   Аргументы при задании окружения (текст взят из комментариев
%   к~пакету):
%   \begin{Quote}
%   |\begin{wrapfigure}%|\nopagebreak
%   \strut\quad\oarg{number}\marg{placement}|%|\nopagebreak
%   \strut\quad\oarg{overhang}\marg{width of figure}
%   |...|\nopagebreak
%   |\end{wrapfigure}|
%   \end{Quote}
%   \xpar
%^^A%   {\slshape\meta{Placement} is one of |r|, |l|, |i|,
%^^A%   |o|, |R|, |L|, |I|, |O|,  for
%^^A%   right, left, inside, outside. Lowercase letters set unfloated
%^^A%   positioning, uppercase---floated variant. The figure sticks into
%^^A%   the margin by \meta{overhang}, if given, or by the length
%^^A%   |\wrapoverhang|, which is normally zero. The \meta{number} of
%^^A%   wrapped text lines is normally calculated from the height of the
%^^A%   figure, but may be specified manually, e.g.}
%   {\slshape\meta{Placement} \cdash--- |r|, |l|,
%   |i|, |o|, |R|, |L|, |I|,
%   |O|, для расположения справа, слева, к~внутреннему или
%   внешнему полю. Строчные буквы задают неплавающие варианты,
%   прописные \cdash--- плавающие. Рисунок может выступать
%   в~поле на величину \meta{overhang}, если опция задана,
%   выступ можно задать через параметр |\wrapoverhang|,
%   обычно равный нулю. Параметр \meta{number} задаёт число
%   строк в~оборку, которое обычно рассчитывается автоматически из
%   высоты рисунка, но может быть задан и~вручную}:
%   \begin{Quote}
%   |\begin{wrapfigure}[10]{r}[34pt]{5cm}|\nopagebreak
%       \meta{figure}\nopagebreak
%   |\end{wrapfigure}|
%   \end{Quote}
%   \endgroup
%
%   \begingroup
%   \def\FBaskip{-14pt}
%   \floatsetup[figure]{style=BOXED,frameset={\fboxsep3pt}}
%   \captionsetup[wrapfigure]{labelformat=thinspace,labelsep=period}
%   \begin{wrapfigure}[11]{o}{0mm}
%   \ffigbox[30mm]
%   {\par{\setlength\unitlength{.67\hsize/48}%^^A
%   \input{Cat.picture}}}
%   {\caption{Рисунок в~оборку с~командой \cmd{\ffigbox}
%    (пакет \package{wrapfig})}%
%   \label{fig:wrapfig:WcatII}}
%   \end{wrapfigure}
%
%^^A%   \emph{Notes.} \startNotes
%^^A%   \Note For figure, contents in e.g. in |wrapfigure| environment you set width
%^^A%   in mandatory argument. If you'll write \texttt{0mm} as \marg{width
%^^A%   of figure} argument, the \hbox{\package{wrapfig}} package will calculate a~natural width
%^^A%   of float contents. If you use the |\floatbox| command, put |\FBwidth| option to use natural object width.
%   \emph{Замечания.} \startNotes
%   \Note Для рисунка, помещённого в~окружение |wrap...| вы должны
%   задать ширину в~обязательном аргументе. Если вы зададите
%   |0mm| как аргумент \marg{width of figure}, пакет \package{wrapfig}
%   рассчитает ширину по ширине объекта. Если используются команды |\floatbox|, то
%   для использования натуральной ширины графики, нужно использовать опцию |\FBwidth|.
%
%^^A%   \Note Sometimes above (below) float box in |wrap...| environment
%^^A%   appears unwanted space. To correct vertical position, use |\FBaskip|
%^^A%   (|\FBbskip|) commands (see {\sectionname}~\ref{sec:FBabskips}) and optional argument
%^^A%   \meta{number} of |wrap...| environments.
%   \Note Иногда над (под) флотом в~окружении |wrap...| может появиться
%   ненужный пробел. Для корректировки вертикальной отбивки
%   используйте команды |\FBaskip|
%   и~|\FBbskip| ({\sectionname}~\ref{sec:FBabskips}) и~опцию \meta{number}
%   окружений |wrap...|.\pagebreak[3]
%
%^^A%   \Note Please note that the label of wrapped floats changed to `Fig.~\meta{number}'.
%^^A%   This happened because of the following settings:
%   \Note
%   В~английской документации имя рисунка `Figure' было изменено на `Fig.'
%   с~помощью ключа |name|:
%   \begin{Quote}
%   \begin{preamble}%
%   |\DeclareCaptionLabelFormat{thinspace}{\bothIfFirst{#1}{\,}#2}|
%   \end{preamble}%
%   |\captionsetup[wrapfigure]{name=Fig.,labelformat=thinspace,labelsep=period}|
%   \end{Quote}
%^^A%   In preamble was added special format |thinspace| with smallest space between
%^^A%   `Fig.' and number which we use in the |wrapfig| settings.
%^^A%   See also \package{caption} documentation.
%   помимо этого был уменьшен пробел между `Fig.' и~номером \cdash--- это
%   задано опцией ключа |labelformat=thinspace| созданный в~преамбуле.
%   В~русской документации использовались только настройки уменьшенного пробела:
%   \begin{Quote}
%   |\captionsetup[wrapfigure]{labelformat=thinspace,labelsep=period}|
%   \end{Quote}
%^^A%   See also \package{caption} documentation.
%   См. также документацию пакета \package{caption}.
%
%^^A%   \emph{Special settings}.
%   \emph{Специальные настройки}.\par\penalty10000
%^^A%   You may create settings for |wrap...| environment, there are
%^^A%   following priorities.
%^^A%   (Please note that you can also create special caption settings with
%^^A%   |\captionsetup| stuff.):
%   Вы можете создать настройки для окружения |wrap...|, здесь
%   существуют следующие приоритеты
%   (обратите внимание, что вы можете задать и~специальные настройки
%   оформления подписей в~команде |\captionsetup|):
%   \begin{itemize}\itemsep0pt
%   \item %
%^^A%    if exists |\floatsetup[wrap|\meta{captype}|]{...}|
%^^A%    \package{floatrow} uses these settings---they are the ``strongest''
%^^A%    settings; if they are absent---uses settings of next item;
%    если существуют настройки
%    |\floatsetup[wrap|\meta{captype}|]{...}|
%    \package{floatrow} использует эти настройки "--- они «сильнейшие»
%   настройки; если они отсутствуют "--- использует настройки из
%   следующего пункта;
%^^A   \end{itemize}
%
%^^A   \begin{itemize}
%   \item
%^^A%    if exists |\floatsetup[wrapfloat]{...}|
%^^A%    \package{floatrow} uses these settings---these settings are ``stronger''
%^^A%    than next ones; if they are absent---settings of current
%^^A%    float\\[\medskipamount]
%^^A%    |\floatsetup[|\meta{captype}|]{...}|\,;\\[\medskipamount]
%^^A%    if they are absent---uses
%^^A%    |\floatsetup{...}| settings, package settings inside |\usepackage| command or default settings of
%^^A%    package (page~\pageref{sec:default}).
%    если существуют настройки |\floatsetup[wrapfloat]{...}|
%    \package{floatrow} использует эти настройки "--- эти настройки
%    «сильнее» чем следующие; если они
%    отсутствуют "--- настройки данного типа флотов
%   \begin{quote}
%    |\floatsetup[|\meta{captype}|]{...}|\quad;\pagebreak[2]
%   \end{quote}
%    если и~они отсутствуют "--- настройки
%    |\floatsetup{...}|, затем настройки из строки |\usepackage|,
%    и, наконец, настройки пакета по умолчанию (page~\pageref{sec:default}).
%   \end{itemize}
%
%\pagebreak[2]
%^^A%   \emph{Founded limitations}.\startNotes\nopagebreak
%   \emph{Обнаруженные ограничения}.\startNotes\nopagebreak
%
%^^A%   \Note The usage of plain floating environment in version 3.3 will
%^^A%   not succeed with \package{floatrow}---use |\floatbox|
%^^A%   stuff. The version 3.6 allows usage of plain |wrap...|
%^^A%   environment with \FRkey{plain} (or \FRkey{ruled}) styles, but
%^^A%   the framed styles, like |Boxed| (which use key |framefit=yes|, where text inside frames
%^^A%   changes its |\hsize| to fit frames, fitted to defined |\hsize|)
%^^A%   could work only with |\floatbox| macro, otherwise you'll get
%^^A%   incorrect widths and layout.
%   \Note В~версии 3.3 нужно использовать команды |\floatbox|.
%   В~версии 3.6 можно создавать простые окружения
%   |wrap...| со стилями \FRkey{plain} (или
%   \FRkey{ruled}), но флоты
%   со стилем типа \FRkey{Boxed} (где текст объекта
%   сужается под рамку) всё равно
%   нужно помещать в~|\floatbox|, иначе
%   создастся неверная вёрстка.
%
%^^A%   \Note The |wrap...| environments could fail inside list ones.
%^^A%   You ought be careful with grouping around wrapping environment (float can sail away or disappear).
%^^A%   Tests show that you may set |wrap...| environment at the very beginning of list, in the case of
%^^A%   you created faked or empty paragraph just before list (i.e. between |wrap...| and list)
%^^A%   with compensate negative spacing, like following:
%   \Note Окружения |wrap...| могут дать неверный результат в~окружениях перечней,
%   а~также нужно быть внимательным с~использованием группировок вокруг этих флотов
%   (флот может уплыть или исчезнуть). Тестирование
%   показало, что можно задать окружение в~начале перечня, но для этого перед самым перечнем
%   (т.\,е. между окружением |wrap...| и~началом перечня)
%   нужно создать ложный или пустой абзац с~компенсирующей отбивкой, например, так:
%   |\noindent|\allowbreak|\strut|\allowbreak|\par|\allowbreak
%   |\nobreak|\allowbreak|\vskip-\baselineskip|.
%   \endgroup
%
%   \begingroup\sloppy
%   \captionsetup[floatingfigure]{name=Fig.,labelformat=thinspace}
%   \floatsetup[figure]{style=WSHADOWBOX,captionskip=8pt}
%^^A%   \subsection{The \package{floatflt} package}\label{ssec:floatflt}
%   \subsection{Пакет \package{floatflt}}\label{ssec:floatflt}
%   \begin{floatingfigure}[v]{44mm}\def\FBaskip{-2.5pt}
%   \ffigbox[44mm]
%   {\setlength\unitlength{.85\hsize/60}%%^^A
%   \input{BlackDog.picture}}
%   {\caption[Рисунок в~оборку с~командой \cmd{\ffigbox} внутри окружения floatingfigure
%   (\package{floatflt})]{\hyphenpenalty-100\pretolerance-1%
%   Рисунок в оборку внутри floating\-figure
%   (\package{floatflt})}\label{fig:floatflt:WcatI}}
%   \end{floatingfigure}%\FBbuildtrue
%
%^^A%   \noindent Tested with version v\kern-1pt.1.3 dated
%^^A%   1996/02/27\kern-1pt.
%   \noindent Тестировалось с~версией v.1.3,
%   1996/02/27.
%
%^^A%   \emph{Founded limitations}. \startNotes\Note There is not support for
%^^A%   creation of new |floating...| environment. Since |floatflt|
%^^A%   environments need usage of |\floatbox| in any case, you can use
%^^A%   either |floatingfigure| or |floatingtable| and put
%^^A%   necessary float type in |\floatbox| argument (or use necessary
%^^A%   macro abbreviation, like |\ffigbox|). For these wrapped floats
%^^A%   the |\usepackage| option can be used  or |\floatsetup{...}| settings
%^^A%   and main settings for float types like
%^^A%   |\floatsetup[figure]{...}| settings.
%   \emph{Обнаруженные ограничения} \startNotes\Note У~пакета нет
%   поддержки для создания нового окружения флотов |floating...|.
%   Но поскольку окружение |floatflt|
%   требует использование команд боксов |\floatbox| в~любом случае, вы
%   можете использовать как команду |floatingfigure| так
%   и~|floatingtable|. Для рисунков в~оборку в~окружениях
%  |floating...| работают только настройки типа |\floatsetup[figure]|.
%
%^^A%   The next limitations could not tied with \package{floatrow} package.
%   Следующие ограничения могут быть не связаны с пакетом
%   \package{floatrow}.
%
%^^A%   \Note If you put a~|floatingfigure| environment just after
%^^A%   |\...section| command you need (if you do not indentation after
%^^A%   heads) to put |\noindent| for the first paragraph.
%   \Note Если вы поместите окружение |floatingfigure| сразу
%   после команд |\...section| вы должны (если вы не задаёте абзацного
%   отступа после заголовков) поставить |\noindent| в~первом абзаце.
%
%^^A%   \Note The |floatflt| environments could fail with list
%^^A%   environments.
%   \Note Окружения |floatflt| могут дать неверный результат
%   с~окружениями перечней (|list|).
%
%^^A%   \Note The special caption settings were created for figure label.
%   \Note Для нумерационного заголовка использовались специальные настройки.
%   \begin{Quote}
%   |\captionsetup[floatingfigure]{name=Fig.,labelformat=thinspace}|
%   \end{Quote}
%   В~русской документации опция ключа |name=Fig.| опущена.
%
%   %^^A\newpage
%^^A%   \subsection{The \package{picins} Package}\label{ssec:picins}
%   \subsection{Пакет \package{picins}}\label{ssec:picins}
%   \floatsetup[figure]{style=Doublebox}
%   \captionsetup[parpic]{labelformat=thinspace}\abovecaptionskip10pt
%
%^^A%   \noindent Tested with version v\,3.0 dated 1999/10/12.
%   \noindent Тестировано с версией v\,3.0, 1999/10/12.\nopagebreak
%
%^^A%   This package produces pictures inside paragraphs. This package
%^^A%   supports usage of captions with command |\piccaption|. It also allows
%^^A%   the \package{caption} package settings.
%   Этот пакет создаёт рисунки внутри абзаца. Он предлагает
%   использование подписей с~помощью команд |\piccaption|.
%   Также можно использовать настройки
%   пакета \package{caption} (см.~документацию к~пакету версии~3.1f).
%
%   \piccaption{Рисунок в~оборку (\cmd{\parpic});
%   \cmd{\floatbox}\label{fig:parpic:BcatI}}%^^A
%   \parpic[l]{{\hsize0pt
%   \ffigbox[\FBwidth ]{}{%^^A
%   \setlength\unitlength{32mm/72}%^^A
%   \input{TheDog.picture}}}}
%
%^^A%   The \cmd{\parpic} macro usually allows usage of |\floatbox| macro
%^^A%   inside of its mandatory argument. In this case the |\floatsetup{...}|
%^^A%   settings and main settings of for float types like |\floatsetup[figure]{...}|
%^^A%   settings are used (but, unfortunately, they are the only here).
%   В~макрокоманде \cmd{\parpic} можно использовать макрокоманду
%   |\floatbox| внутри обязательного
%   аргумента. В~этом случае для рисунков в~оборку внутри |\parpic|
%   будут работать настройки типа |\floatsetup[figure]| и~|\floatsetup|
%   и~настройки из строки |\usepackage| (но, к~сожалению, только они).
%
%^^A%   \emph{Founded limitations}.\startNotes\nopagebreak
%   \emph{Обнаруженные ограничения}.\startNotes\nopagebreak
%
%^^A%   \Note In |\parpic| argument you ought to to define the width of contents. If you put |\hsize0pt| before
%^^A%   the |\floatbox| command, you will get box width equals to
%^^A%   |\parpic| contents. (Compare with usage of |0mm| value inside the \marg{width
%^^A%   of figure} option in the |wrapfigure| environment.)
%   \Note В~аргументе команды |\parpic| нужно до команды |\floatbox| задать ширину бокса.
%   Если вы зададите |\hsize0pt| то будет использована натуральная величина содержимого.
%   (Сравните с~использованием значения |0mm| в~аргументе \marg{width
%   of figure} окружений |wrap...|.)
%
%^^A%   The next limitations could not tied with \package{floatrow} package.
%   Следующие ограничения могут быть не связаны с~пакетом \package{floatrow}.\nopagebreak
%
%   \floatsetup[figure]{style=DOUBLEBOX}
%   \parpic[r]{{\hsize42mm\def\FBaskip{6pt}
%   \ffigbox[\hsize]
%   {{\setlength\unitlength{24mm/72}%^^A
%   \input{TheDog.picture}}}
%   {\caption{Рисунок в~оборку (\cmd{\parpic})}\label{fig:parpic:BcatII}}%
%   }}
%
%^^A   \parpic[r]{{%\def\floatrowsep{}\let\FBiffloatrow\iftrue
%^^A   \hsize36mm
%^^A   \ffigbox[\hsize]
%^^A   {{\setlength\unitlength{16mm/61}%^^A
%^^A   \input{BlackCat.picture}}}
%^^A   {\caption{Wrapped figure (\cmd{\parpic})}\label{fig:parpic:BcatII}}%
%^^A   }}
%
%^^A%   \Note If you put \cmd{\parpic} just after |\...section| command
%^^A%   you need (if you do not indentation after heads) to put |\noindent|
%^^A%   for the first paragraph.
%   \Note Если вы задаёте \cmd{\parpic} сразу после команды |\...section|
%   вам придётся (если вы отменяете абзацный отступ после заголовков)
%   задать команду |\noindent| для первого абзаца.
%
%^^A%   \Note It seems that the |\parpic| command cancels non-breaking mechanism
%^^A%   between section command and text in the case of appearance
%^^A%   at the very beginning of the first paragraph (this situation appeared
%^^A%   during testing of current documentation).
%   \Note Возможно, что команда |\parpic| отменяет запрет разрыва на страницы
%   между заголовком раздела и~текстом  в~случае, когда первый абзац раздела начинается
%   с~этой команды (по крайней мере это происходило при тестировании данной документации).
%
%^^A%   \Note You may try to use \cmd{\parpic} inside list environment, but sometimes usage of
%^^A%   this command in this environment could create wrong layout. (Tests show that paragraph(s)
%^^A%   where the \cmd{\parpic} is used must be placed in group---compare it with the
%^^A%   \package{wrapfig} package, which does not like grouping.)
%   \Note Вы можете попытаться использовать \cmd{\parpic} внутри
%   окружения перечня, но в~некоторых случаях использование \cmd{\parpic} в~окружении
%   перечня может дать неверный результат. (Тестирование показало, что при использовании \cmd{\parpic}
%   абзац или абзацы, которые обтекают оборку, лучше взять в~группу \cdash--- сравните это
%   пакетом \package{wrapfig}, который не любит группировки.)
%
%^^A%   \Note This package has not options \meta{outside} or
%^^A%   \meta{inside}, like previous two packages (the option |[o]| means
%^^A%   oval box around picture), so you ought to set horizontal position
%^^A%   manually. Or you may create command:
%   \Note Этот пакет не имеет опции \meta{outside} или
%   \meta{inside}, как предыдущие два пакета (опция |[o]| означает
%   овальную рамку вокруг картинки), поэтому вы должны задавать
%   горизонтальное расположение
%   вручную. Или определить команду:
%\begin{Quote}
%\begin{preamble}
%|\usepackage{ifthen}|\vspace{1ex}
%|\newcommand\oparpic{\isodd{\value{page}}%|
%|      {\def\next{\parpic[r]}}{\def\next{\parpic[l]}}\next}|
%\end{preamble}
%\end{Quote}
%   \endgroup
%
%^^A%   \Note The special caption settings were created for figure label.
%   \Note Для нумерационного заголовка использовались специальные настройки.
%   \begin{Quote}
%   |\captionsetup[parpic]{name=Fig.,labelformat=thinspace}|
%   \end{Quote}
%   В~русской документации опция ключа |name=Fig.| опущена.
%
%^^A%   If you use |\piccaption| command these settings are switched on.
%^^A%   First picture in this section was created with code like:
%   Если вы используете команду |\piccaption| эти настройки |\captionsetup[parpic]{...}|
%   включаются.
%   Так первый рисунок данного раздела был создан следующим образом:
%   \begin{Quote}
%   |\piccaption{...\label{...}}%|
%   |\parpic[l]{\hsize0pt|
%   |   \ffigbox[\FBwidth]{}{...}}|
%   \end{Quote}
%^^A%   Second picture uses the |\caption| command inside |\ffigbox|, so
%^^A%   the |\captionsetup|\allowbreak|[parpic]{...}| settings do not work:
%   Второй рисунок использует |\caption| внутри |\ffigbox|, поэтому
%   настройки |\captionsetup|\allowbreak|[parpic]{...}| не работают:
%   \begin{Quote}
%   |\parpic[r]{\hsize36mm\def\FBaskip{6pt}|
%   |   \ffigbox[\hsize]{}{%|
%   |       ...\caption{...}\label{fig:parpic:BcatII}}|
%   \end{Quote}
%^^A%   You may see that label of the second figure was printed as `Figure'~number.
%   Разница видна в~английской документации, где нумерационный заголовок второго рисунка
%   остался в~форме `Figure'~номер рисунка.
%
%^^A%   \subsection{The \package{rotating} Package and |sideways\ldots|
%^^A%             Environment}\label{ssec:rotating}
%   \subsection{Пакет \package{rotating} и~окружение
%   \texttt{sideways\ldots}}\label{ssec:rotating}
%^^A%   Tested with version v2.13 dated Sep. 1992.
%   Тестировано с версией v2.13 датированной Sep. 1992.
%
%^^A%   There is example (figure~\ref{fig:rot:ii}) with rotated float, using
%^^A%   |sidewaysfigure|.
%   Далее идёт пример (рис.~\ref{fig:rot:ii} на с.\,\pageref{fig:rot:ii}) с~развёрнутым вертикально
%   флотом, использующим окружение
%   |sidewaysfigure|.
%\begin{Quote}\openup-.5pt
%\begin{preamble}
%     |\usepackage[figuresright]{rotating}|
%|\|\FRkey[sec]{floatsetup}|[rotfigure]{|%^^A
%   \FRkey{style}|=WSHADOWBOX}|
%\end{preamble}
%|\begin{sidewaysfigure}\emptyfloatpage|
%|\|\FRkey[FB]{ffigbox}|[\|\FRkey[FB]{FBwidth}|]|
%|  {...}|
%|  {\caption{Figure ...}%|
%|  \label{...}}|
%|\end{sidewaysfigure}%|
%\end{Quote}
%   \floatsetup[rotfigure]{style=WSHADOWBOX}
%   \begin{sidewaysfigure}\emptyfloatpage
%   \ffigbox[\FBwidth] {\includegraphics[width=4in]{pslearn}}
%   {\caption{Рисунок развёрнутый вертикально внутри окружения
%     sidewaysfigure}%
%   \label{fig:rot:ii}}
%   \end{sidewaysfigure}%
%
%^^A%   \emph{Special settings}.\nopagebreak
%   \emph{Специальные настройки}.\nopagebreak
%
%^^A%   You may create special settings for all rotated floats, which use
%^^A%   |sideways...| environment (see page \pageref{stsetorder}).
%   Вы можете создать специальные настройки для всех флотов,
%   развёрнутых вертикально, которые используют
%   окружение |sideways...| (см.~с.~\pageref{stsetorder}).
%
%^^A%   For one-column rotated float
%   Для одноколонного флота
%   \RestoreSpaces
%   \begin{itemize}\itemsep0pt\parskip0pt
%^^A%   \item %
%^^A%    if exists |\floatsetup[rot|\meta{captype}|]{...}|
%^^A%    package uses these settings---the ``strongest'' settings; if they
%^^A%    are absent---uses settings from next item, the same for each item of the list;
%   \item %
%    если существуют настройки
%    |\floatsetup[rot|\meta{captype}|]{...}|
%    пакет использует эти настройки "--- «сильнейшие»  настройки;
%    если они отсутствуют "---
%    используются настройки из следующего пункта, далее «силы» настроек каждого
%    последующего пункта также убывают;
%   \item
%    |\floatsetup[rotfloat]{...}|;
%   \item
%    |\floatsetup[|\meta{captype}|]{...}|;
%   \item
%^^A%    if all settings absent---the settings
%^^A%    inside |\floatsetup{...}| and |\usepackage| commands, and, at last, package default settings are used.
%    последними по силе, если остальные  отсутствуют "---  являются настройки
%    |\floatsetup{...}| и~наконец, настройки пакета по умолчанию.
%   \end{itemize}
%
%^^A%   For two-column or wide rotated float (starred environment)
%   Для флота вразрез двух колонок или широкого флота («звёздное» окружение)
%   \begin{itemize}\itemsep0pt\parskip0pt
%   \item %
%^^A%    if exists |\floatsetup[widerot|\meta{captype}|]{...}|
%^^A%    package uses these settings---the ``strongest'' settings;
%^^A%    if they are absent---uses settings of next item, the same for each item of the list;
%    если существуют настройки
%    |\floatsetup[widerot|\meta{captype}|]{...}|
%    пакет использует эти настройки "--- «сильнейшие»  настройки;
%    если они отсутствуют "--- используются настройки из следующего
%    пункта, далее «силы» настроек каждого
%    последующего пункта также убывают;
%   \item %
%    |\floatsetup[widerotfloat]{...}|;
%   \item %
%    |\floatsetup[rot|\meta{captype}|]{...}|;
%   \item %
%    |\floatsetup[rotfloat]{...}|;
%   \item %
%    |\floatsetup|\marg{captype}|{...}|;
%   \item %
%^^A%    if all settings absent---the settings
%^^A%    inside |\floatsetup{...}| and |\usepackage| commands, and, at last, package default settings are used.
%    последними по силе, если остальные отсутствуют, являются настройки
%    |\floatsetup{...}| и~наконец, настройки пакета по умолчанию.
%   \end{itemize}
%
%^^A%   \subsubsection{Special page style for float page}
%   \subsubsection{Специальный стиль колонтитула для полосы с~флотом}
%^^A%   In example with figure~\ref{fig:rot:ii} you may see the command |\emptyfloatpage|.%^^A
%^^A%    \FRmpar{Empty page style for rotated floats}{FAD:emptyfloatpage}\label{setup:emptyfloatpage}
%^^A%   It is offered by \package{floatpagestyle} package, (installed with
%^^A%   \package{floatrow} package, can be used separately). The macro |\emptyfloatpage| is an abbreviation of
%^^A%   |\floatpagestyle{empty}|. The last macro redefines the page style for
%^^A%   the page where \emph{current} floating environment appears in the way, analogous to |\thispagestyle|
%^^A%   command.
%   В~примере с~рис.~\ref{fig:rot:ii} вы можете видеть
%   команду |\emptyfloatpage|.%^^A
%    \FRmpar{Пустой колонтитул для развёрнутых флотов}{FAD:emptyfloatpage}\label{setup:emptyfloatpage}
%   Эта команда предлагается
%   пакетом \package{floatpagestyle}, (инсталлируемым
%   вместе с~пакетом \package{floatrow}, может использоваться отдельно). Макрокоманда
%   |\emptyfloatpage| является сокращением команды
%   |\floatpagestyle{empty}|. Последняя макрокоманда переопределяет
%   стиль страницы когда появляется на ней данное окружение флота, аналогично команде |\thispagestyle|.
%
%   \RestoreSpaces
%^^A%   The version 0.1h patches the core \LaTeX{} macro
%^^A%   |\@outputpage|\footnote{At the start of document
%^^A%   \package{floatpagestyle} package puts additional code at the very beginning
%^^A%   of this output routine.}
%^^A%   and I hope that it could work.\footnote{If you know more honest
%^^A%   way to get the same result---the redefinition of \emph{alone}
%^^A%   \emph{float} page style (in the case when this page can \emph{float}
%^^A%   inside document)---please let me know.} Since this package uses
%^^A%   |\label|---|\ref| mechanism, the |\floatpagestyle| command works
%^^A%   after \emph{second} \LaTeX{} run.
%   С~версии 0.1h пакет только добавляет дополнительный код к~макрокоманде
%   |\@outputpage| из ядра \LaTeX'а и~я~надеюсь что это будет
%   работать.\footnote{Если вам известен более честный путь
%   получить тот же результат \cdash--- переопределение
%   стиля \emph{отдельной} страницы с~плавающим флотом (учитывая, что и~она
%   сама может плавать по документу) "--- дайте, пожалуйста, знать.}
%   Поскольку пакет \package{floatpagestyle} использует
%   механизм |\label|---|\ref|, команда |\floatpagestyle| даёт
%   результат после \emph{второй} (и~более) обработок \LaTeX'ом.
%
%^^A%   \subsubsection{Rotated floats on the facing pages}
%   \subsubsection{Компоновка развёрнутых флотов на развороте}
%^^A%   \startNotes\Note If you place two continued rotated floats%^^A
%^^A%   \FRmpar{Continued rotated floats}{FAD:ContRotated} on facing pages,
%^^A%   the better way is to gather them to binder margin, using |\buildFBBOX| command
%^^A%   (see page~\pageref{FB:buildFBBOX}). For this reason you
%^^A%   may define\label{buildFBBOX:def}
%   \startNotes\Note Если вы помещаете два продолжающихся флота,%^^A
%   \FRmpar{Продолжающиеся развёрнутые флоты на развороте}{FAD:ContRotated}
%   развёрнутых вертикально, на развороте, лучше будет их собрать
%   у~корешкового поля. Для этого вы можете определить\label{buildFBBOX:def}
%   \begin{Quote}
%     \begin{preamble}
%     |\usepackage[figuresright]{rotating}|
%     |\newlengthtocommand\setlength\rottextwidth{\textwidth}|
%     \end{preamble}
%     |\begin{sidewaysfigure}|
%     |\|\FRkey[FB]{buildFBBOX}|{\vbox to\rottextwidth\bgroup\vss}{\egroup}|
%     |\|\FRkey[FB]{ffigbox}|{|\meta{contents of first figure}|}|
%     |\end{sidewaysfigure}|
%     |\begin{sidewaysfigure}|
%     |\buildFBBOX{\vbox to\rottextwidth\bgroup}{\vss\egroup}|
%     |\ffigbox{|\meta{contents of second figure}|}|
%     |\end{sidewaysfigure}|
%   \end{Quote}
%
%^^A%   \Note In the example above (and also in the example with figure~\ref{fig:rot:ii})
%^^A%   the \package{rotating} package has
%^^A%   |[figuresright]| option; in this case all |sideways...| floats on even and odd pages
%^^A%   will be rotated by 90$^\circ$ counterclockwise.
%   \Note В~примере выше (а~также в~примере с~рис.~\ref{fig:rot:ii})
%   пакет \package{rotating} был задан с~опцией
%   |[figuresright]|; поэтому все |sideways...| флоты на чётных и~на нечётных полосах будут
%   развёрнуты на 90$^\circ$ против часовой стрелки.
%
%^^A%   \subsubsection{Commands instead of lengths}
%   \subsubsection{Использование команд вместо параметров длин и~отбивок}
%^^A%    The |\rottextwidth| command in the example above stores value of the |\textwidth| of the
%^^A%   document; the |\columnwidth| and |\textwidth| inside
%^^A%   \texttt{sideways...} environment are redefined and equal to
%^^A%   |\textheight|.
%   Команда |\rottextwidth| в~примере выше сохраняет значение ширины текста
%   |\textwidth| документа "--- параметры |\columnwidth|
%   и~|\textwidth| внутри окружения \texttt{sideways...} приравниваются
%   |\textheight|.
%\begingroup
%^^A%   If\startNotes\def\theNote{\alph{Note}}\Note
%^^A%   you are limited in creation of the new length or dimension command
%^^A%   (for example you use the \package{pictex}
%^^A%   package\footnote{The \texttt{e-TeX} engine could solve this problem.}),
%^^A%   or \Note the width/height or the space values, defined with
%^^A%   the |\newcommand|
%^^A%   (like the |\headrulewidth| command from \package{fancyhdr} package) need complex calculation
%^^A%   with usage of the \package{calc} package, or get the width of some text---the \package{floatrow}
%^^A%   package provides commands
%   Если\startNotes\def\theNote{\asbuk{Note}}\Note
%   вы ограничены в~возможности создать новые параметры длин с~помощью команд
%   |\newlength| (к~примеру, используете пакет \package{pictex}\footnote{Хотя, возможно,
%       компиляторы на базе \texttt{e-TeX} уже сняли эту проблему.}),
%   или \Note
%   для команды ширины/высоты или отбивки, заданной через |\newcommand| (например
%   команда |\headrulewidth|
%   из пакета \package{fancyhdr}) новое значение требует сложного расчёта с~использованием
%   пакета \package{calc} или определения через ширину некоего текста
%   \cdash--- пакет \package{floatrow} предлагает команды%^^A
%   \DescribeMacro{\newlengthtocommand}\label{setup:newlengthtocommand}%^^A
%   \DescribeMacro{\renewlengthtocommand}\label{setup:renewlengthtocommand}%^^A
%   \label{setup:newlengthtocommand}%^^A
%   \label{setup:renewlengthtocommand}%^^A
%\begin{Quote}%
%   \cmd{\newlengthtocommand} \quad или
%   \cmd{\renewlengthtocommand}
%\end{Quote}%
%^^A%   which are placed just before standard \LaTeX{} commands like \cmd{\setlength} or
%^^A%   \cmd{\settowidth} and save the \emph{absolute}
%^^A%   value from their arguments; here the usual code like
%   которые помещаются перед стандартными командами \LaTeX'а вроде \cmd{\setlength} или
%   \cmd{\settowidth} и~сохраняют \emph{абсолютное} значение из их аргументов;
%   так, запись
%\begin{Quote}%
%\begin{preamble}
%|\usepackage{calc}|
%\end{preamble}
%|\newlength\fulltextwidth|
%|\setlength\fulltextwidth{\textwidth+\marginparsep+\marginparwidth}|
%\end{Quote}%
%^^A%   changed to
%   может быть заменена на
%\begin{Quote}%
%\begin{preamble}
%|\usepackage{calc}|
%\end{preamble}
%   |\newlengthtocommand\setlength|
%   |\fulltextwidth{\textwidth+\marginparsep+\marginparwidth}|\quad.
%\end{Quote}%
%^^A%   Please note than the usage of calculation inside |\setlength| command (and its analogs)
%^^A%   can be used only with the \package{calc} package.
%   Обратите внимание, что использование вычислений в~аргументе
%   команды |\setlength| (и~её аналогов)
%   возможно благодаря подключённому пакету \package{calc}.
%\endgroup
%
%
%^^A%   \subsection{The \package{lscape} Package and landscape
%^^A%        Environment}\label{ssec:lscape}
%   \subsection{Пакет \package{lscape} и~окружение landscape}\label{ssec:lscape}
%^^A%   Tested with version v3.0a dated 1999/02/16.\nopagebreak
%   Тестировалось с~версией v3.0a датированной
%   1999/02/16.\nopagebreak
%
%\ifx\landscape\undefined\else
%   \ifx\landscape\relax\else
%^^A%   The example with usage of |landscape| environment from
%^^A%   \package{lscape} package on the page~\pageref{fig:rotrow:WcatI}, figures
%^^A%   \ref{fig:rotrow:WcatI}--\ref{fig:rotrow:FcatI}):
%   Пример с использованием окружения |landscape| из пакета
%   \package{lscape} на с.~\pageref{fig:rotrow:WcatI},
%   рис.\ref{fig:rotrow:WcatI}--\ref{fig:rotrow:FcatI}):
%\begin{Quote}
%\begin{preamble}
%|\|\FRkey{DeclareFloatVCode}|{lowthickrule}{\kern2pt\rule{\hsize}{.8pt}}|
%|\|\FRkey[sec]{floatsetup}|[figure]{|\FRkey{style}|=ruled,|\FRkey{rowprecode}|=thickrule,|
%|  |\FRkey{rowpostcode}|=lowthickrule,|\FRkey{capposition}|=TOP}|
%\end{preamble}
%|\begin{landscape}|
%|\begin{figure}\|\FRkey{emptyfloatpage}
%|...|
%\end{Quote}
%^^A%   |\floatsetup| code sets |ruled| float style,
%^^A%   then settings for above and below material are redefined:
%^^A%   |rowprecode=| and |rowpostcode=| keys define thick
%^^A%   rules but for floatrow as a~whole (the `individual' |\hrule|'s
%^^A%   above/below float boxes are absent).
%   Команда |\floatsetup| определяет стиль флота |ruled|,
%   затем настройки для материала сверху и~снизу переопределены:
%   ключи |rowprecode=| и~|rowpostcode=| определяют
%   толстые линейки для всего ряда рисунков («индивидуальные»
%   линейки сверху/снизу в~ряду отменены).
%\fi\fi
%
%^^A%   The |landscape| environment creates a new page. It would be
%^^A%   useful\startNotes\Note for rotation of multipage rotated float (in this case
%^^A%   it is better to put this float in a separate file, and to start from necessary page,
%^^A%   in this case you need the
%^^A%   \package{afterpage} package and its |\afterpage| command) \Note and also
%^^A%   to start new section of document, e.g., appendix. (In current
%^^A%   document the |landscape| environment was placed just before appendix)
%   Окружение |landscape| создаёт новую страницу. Оно полезно\startNotes\Note для
%   разворота многостраничного флота (в~этом случае части флота нужно поместить
%   в~отдельный файл, а~для того, чтобы начать его с~нужной полосы, можно воспользоваться
%   пакетом \package{afterpage} и~его командой |\afterpage|) \Note
%   а~также для разворота целиком раздела документа, например, приложения.
%\ifx\landscape\undefined\else
%   \ifx\landscape\relax\else
%   (В~данном
%   документе окружение |landscape| было использовано для помещения ряда рисунков перед приложением).
%\fi\fi
%
%^^A   \emph{Founded limitations}.\nopagebreak
%^^A   The tested version works incorrect (does not rotates contents)
%^^A   with \package{hypcap} package.
%
%^^A%   \subsection{The \package{listings} Package}\label{ssec:listings}
%   \subsection{Пакет \package{listings}}\label{ssec:listings}
%^^A%   Tested with version v1.3 dated 2004/09/07.\nopagebreak
%   Тестировалось с~версией v1.3 датированной 2004/09/07.\nopagebreak
%
%^^A%   This package has its own strong layout mechanism for creation of floating
%^^A%   algorithms itself. The usage of |\lstset| command (see package documentation) and \package{caption}
%^^A%   package settings gives you necessary result\footnote{Please note and read
%^^A%   \package{caption} documentation: the co-operation of \package{caption}3.x and
%^^A%   \package{listings} succeeds with version of last one not older than 1.2.}
%^^A%   for algorithm type of float.
%   Этот пакет имеет свой сильный механизм создания плавающих нумерованных
%   алгоритмов. Использование команды |\lstset| и~настроек пакета
%   \package{caption} даст нужный результат оформления\footnote{Обратите
%   внимание и~прочтите документацию
%   \package{caption}: кооперация пакета \package{caption}3.x
%   и~\package{listings} будет успешной только с~версией
%   последнего не ниже 1.2.} для флотов типа алгоритмов.
%
%^^A%   For the cases of appearance of listings inside of other float
%^^A%   environments, which get settings from \package{floatrow} package,
%^^A%   there is a limitation: you can't put |lstlisting| inside
%^^A%   |\floatbox| contents. The plain float environment is still allowed.
%^^A%   Also you are still free with settings for float type, used |lstlisting| inside: you may still use the
%^^A%   |BOXED|, |Boxed| and other unusual styles: the float width will be recalculated for mentioned two styles
%^^A%   and similar ones and then used necessary setting.
%^^A%   If you need to change box width---use  |\thisfloatsetup| settings.
%   В~случаях появления листингов внутри других окружений, которые
%   оформляются пакетом \package{floatrow}, ограничение заключается
%   в~том, что вы не можете поместить окружение |lstlisting|
%   внутрь команды |\floatbox|. Простое же окружение флота использовать можно
%   (при этом можно использовать любые настройки), а~если
%   необходимо изменить ширину бокса флота, можно задать настройки |\thisfloatsetup|.
%
%^^A%   \subsection{The \package{hyperref} and \package{hypcap} Packages}
%   \subsection{Пакеты \package{hyperref} и \package{hypcap}}
%^^A%   There were tested versions v6.74i (\package{hyperref})
%^^A%   and v1.3 (\package{hypcap}).
%   Тестированы версии v6.77i (\package{hyperref}) и~v1.7 (\package{hypcap}).
%
%^^A%   The \package{floatrow} package tries not to expand its code to |\caption| stuff.
%^^A%   I hope that environments supported by \package{floatrow} won't
%^^A%   make harm to \package{caption}---\package{hyperref}/\package{hypcap} tandem.
%   Пакет \package{floatrow} пытается не распространять свой
%   код на команды |\caption|. Я~надеюсь что окружения, поддерживаемые
%   пакетом \package{floatrow} не навредят тандему пакетов
%   \package{caption}---\package{hyperref}/\package{hypcap}.
%
%^^A%   \subsection{The \package{setspace} Package}
%   \subsection{Пакет \package{setspace}}
%^^A%   There was bug during usage of \package{setspace} package---this package redefines
%^^A%   \LaTeX's command |\@xfloat|, adding definition of font size to |\normalsize|
%^^A%   which appears after \package{floatrow} settings.
%^^A%   The version 0.2d of \package{floatrow} tried to fix it but this was incorrect
%^^A%   and destroyed interaction between \package{hyperref} and \package{caption} packages.
%^^A%   In the version 0.3b the code was changed to restore this interaction\footnote
%^^A%   {By suggestions of A.\,Sommerfeldt.} with hope that it will work.
%^^A%   The default baseline stretch is equal to~1. The version 3.1 of \package{caption}
%^^A%   package offers special font settings (see \package{caption} documentation)
%^^A%   for captions. You may try the same for the float font:
%   При совместном использовании данного пакета с~пакетом \package{setspace}
%   возникала ошибка \cdash--- последний переопределял команду \LaTeX'а
%   |\@xfloat|, где размер шрифта, заданный в~настройках \package{floatrow} перебивался
%   обратно в~|\normalsize|. Версия 0.2d пакета \package{floatrow}, пытаясь это исправить,
%   нарушила взаимодействие пакетов \package{hyperref} и~\package{caption}.
%   В~версии 0.3b код изменён, чтобы восстановить взаимодействие\footnote{Предложенный
%   A.\,Sommerfeldt.}; надеюсь это будет работать.
%   По умолчанию коэффициент интерлиньяжа равен~1. Версия 3.1 пакета \package{caption}
%   предлагает специальные настройки в~ключе |font=| (см.~документацию \package{caption})
%   для подписей. Вы можете использовать опции настроек для задания
%   изменения интерлиньяжа для шрифта флота:
%\begin{Quote}%
%|\floatsetup{font=onehalfspacing}|
%\end{Quote}%
%^^A%   or
%   или
%\begin{Quote}%
%|\floatsetup{font={stretch=|\meta{amount}|}}|\quad.
%\end{Quote}%
%
%^^A%   \section{The Incompatibilities}
%   \section{Несовместимости}
%^^A%   At first the incompatibilities or rules of co-operation with other
%^^A%   packages could follow the \package{caption}~3.x package.
%^^A%   \textit{Please look first in the \package{caption}
%^^A%   package documentation to know the newest rules}.
%   Несовместимости или особенности работы с~другими пакетами
%   в~первую очередь совпадают с~требованиями пакета \package{caption} 3.x.
%   \textit{За новыми сведениями обращайтесь к~документации \package{caption}}.
%
%^^A%   The known incompatibilities of \package{floatrow} package itself:
%^^A%   \startNotes\nobreak\quad \Note \package{sidecap} package\footnote{Despite that
%^^A%   I'm trying to follow all offered layouts of this package. Great thanks
%^^A%   for Rolf Niepraschk and Hubert G\"{a}\ss{}lein for package with
%^^A%   rich implementation of such float
%^^A%   layouts.}: the \package{floatrow} package doesn't expands its
%^^A%   layouts to |SCfigure| and |SCtable| environments;~\nobreak\quad
%^^A%   \Note \package{ctable} package; if you used to use
%^^A%   \package{ctable}'s tools, e.g. for tables, please set |\RawFloats[table]|
%^^A%   in the preamble, and remember that commands like |\ttabbox| won't
%^^A%   loose its strength (see also {\sectionname}~\ref{sec:rawfloats}).
%   Известные несовместимости пакета \package{floatrow}\startNotes\Note это пакет
%   \package{sidecap}\footnote{Несмотря на это я~пыталась получить
%   все предложенные этим пакетом оформления размещения подписей
%   сбоку. Большое спасибо {\fontencoding{T1}\fontfamily{ptm}\selectfont Rolf Niepraschk}
%   и~{\fontencoding{T1}\fontfamily{ptm}\selectfont Hubert G\"{a}\ss{}lein}
%   за пакет в~котором дана полная гамма таких оформлений.}:
%   пакет \package{floatrow} не распространяет
%   своё оформление на окружения |SCfigure| и~|SCtable|.
%   \Note пакет~\package{ctable}; если вы привыкли использовать
%   инструменты \package{ctable}, например. для таблиц, задайте |\RawFloats[table]|
%   в~преамбуле, и~помните, что команды типа |\ttabbox| не
%   теряют своей силы (см.~также {\sectionname}~\ref{sec:rawfloats}).
%
%   \addtocontents{toc}{\string\pagebreak[3]}
%^^A%   \section{Limitations}
%   \section{Ограничения}
%^^A%   There are known limitations, which were found during usage of
%^^A%   \package{floatrow}:
%   Здесь даны ограничения, обнаруженные при пользовании
%   пакетом \package{floatrow}:
%   \begin{itemize}
%   %^^A \item %
%   %^^A Limitations for boxed and ruled styles in beside floats:
%   %^^A be careful with usage of \emph{alone} minipage environment in
%   %^^A object or caption in |\floatbox| macro. Since the object and
%   %^^A caption are created in minipage environment already, the
%   %^^A added |minipage| could get wrong layout (vertical
%   %^^A alignment). But, as I found, you may use a few
%   %^^A |minipage|s in object without harm.
%   \item %
%^^A%   You cannot use |\floatbox| stuff for floats with |verbatim|
%^^A%   environment and/or \verb|\verb|. But you still can use plain float environments.
%^^A%   If you need to change width of float box, you may change it with
%^^A%   |\thisfloatsetup| settings. The usage of |verbatim| and~|\verb|
%^^A%   do not create limitations for layout: you may still use the |BOXED|, |Boxed|
%^^A%   and other unusual styles: the float width will be recalculated for mentioned two styles
%^^A%   and similar ones and then will be used necessary setting.
%   Вы не можете использовать команды типа |\floatbox| для флотов
%   с~окружением |verbatim| или командой \verb|\verb|. Использование же обычного окружения
%   флота возможно. Если необходимо изменить ширину флота, её переопределяют
%   через настройки |\thisfloatsetup|. Использование |verbatim| и~|\verb|
%   не накладывает ограничения на оформление: вы можете использовать, например,
%   стили |BOXED| и~|Boxed|: для этих стилей будет пересчитана ширина бокса для
%   объекта флота, и~после формирования боксов применено, как и~обычно, заданное оформление.
%   \item %
%^^A%   The |tabbing| environment in current version creates incorrect layout for float box
%^^A%   which must occupy whole text width: it recalculates the width of object box to the natural width
%^^A%   of its contents. The problem will be solved with the |minipage| environment
%^^A%   and width option |\hsize|: you'll get necessary layout with full width and
%^^A%   for the styles like |BOXED| and~|Boxed| the width of contents will be recalculated.
%   Окружение |tabbing| в~текущей версии некорректно формирует макет
%   флота на полный формат, пересчитывая ширину бокса флота на натуральную содержимого
%   этого окружения. Проблему решает окружение |minipage| с~опцией ширины |\hsize|: вы получите
%   необходимое оформление на полную ширину с~учётом всех поправок,
%   т.\,е. возможно использование таких стилей, как |BOXED| и~|Boxed|.
%   \item %
%^^A%   Be careful with minipages inside |floatrow| environment---there could be wrong alignment.
%^^A%   Use |heightadjust=| key for this case. (Fortunately I~cannot imagine
%^^A%   good readability of two beside |tabbing|s.)
%   Будьте внимательны с~окружениями |minipage| внутри |floatrow| \cdash--- вы можете получить
%   неверное выравнивание по вертикали.
%   Возможно в~этом случае выручит ключ |heightadjust=|. (К~счастью я~не могу себе представить
%   как будут читаться два |tabbing|а, расположенные рядом.)
%   \item %
%^^A%   This limitation was mentioned above: some tools of the package use
%^^A%   |\label|---|\ref| mechanism, thus, if you use float layout which
%^^A%   demands common height of objects and/or captions in float row,
%^^A%   you'll get correct result after second or more  runs. If you change
%^^A%   contents of float which change its height you must run \LaTeX{}
%^^A%   twice or more times too.
%   Это ограничение упоминалось выше: пакет использует механизм
%   |\label|---|\ref|, поэтому, если вы используете оформление,
%   которое требует задания общей высоты для объектов и/или подписей
%   в~ряду флотов, вы получите верный результат только после второй
%   (и~более) обработки. Если вы измените содержимое так,
%   что изменяется высота объекта/подписи вы также должны
%   обработать документ \LaTeX'ом два и~более раз.
%
%^^A%   Beside captions and other facing layout will appears correctly only
%^^A%   after second \LaTeX's run (sometimes you need to run more times).
%   Оформление зависящее от размещения на развороте также даст верный
%   результат только после второй (и~более) обработки \LaTeX'ом.
%   \item %
%^^A%   The  \package{caption} and
%^^A%   \package{floatrow} package do not support optional argument \emph{after}
%^^A%   caption ``title'' (the \package{float} package's stuff). You may use |\floatfoot|
%^^A%   macro after main caption argument.
%   Пакет \package{caption} и~пакет
%   \package{floatrow} не поддерживают дополнительный аргумент
%   \emph{после} текста подписи (из возможностей пакета \package{float}).
%   Вместо этого можно использовать команду |\floatfoot|.
%   \item %
%^^A%   Do not use the |\FBwidth| option for complex float contents (which you
%^^A%   could not put inside one |\hbox|). But you are allowed to use |\vspace|
%^^A%   macro at the very end/very beginning of object contents for fine
%^^A%   vertical tuning for them.
%   Не используйте команду |\FBwidth| для сложного содержимого флота
%   (которое вы не можете поместить внутри |\hbox|). Но вы можете
%   использовать команды |\vspace| в~самом начале или
%   в~самом конце содержимого объекта для корректировки отбивок.
%   \item %
%^^A%   The |floatrow| environment allows spaces (and even empty
%^^A%   lines, which sometimes create better and correct result!) between
%^^A%   |\floatbox|'es, but if you add some code between them you
%^^A%   must put
%^^A%   |%| after this command.
%   Внутри окружения |floatrow| возможны пробелы (и~даже
%   пустые строки, что даёт иногда более корректный результат!) между
%   командами |\floatbox|, но если вы добавите ещё какой-либо код между флотами, вы
%   должны поставить знак процента |%| после такой команды.
%   \item %
%^^A%   This is a~common rule---be careful with spaces at the end of lines
%^^A%   inside float contents (see \texttt{CTAN:/info/epslatex.ps} for more
%^^A%   explanations).
%   Это общее правило "--- будьте внимательны с~пробелами в~конце
%   строк внутри окружения флота (см.~документ
%   \texttt{CTAN:/info/epslatex.ps} для
%   дополнительной информации).
%
%^^A%   When you build plain floating environments the better way is to separate
%^^A%   |\caption| and object contents (and also
%^^A%   |\floatfoot|/|\footnotetext| contents) each by empty lines or (if
%^^A%   not empty lines) end each part (and arguments of mentioned commands)
%^^A%   by percent sign. In this case you'll avoid unwanted spaces/lines at
%^^A%   the end of contents of each part, or wrong justification of float
%^^A%   components.
%   Когда вы строите простое окружение (без |\floatbox|) лучше всего
%   разделить |\caption| и~содержимое объекта (а~заодно и~содержимое
%   |\floatfoot|/|\footnotetext|) каждое пустой строкой или (если не
%   пустые строки) завершить каждую часть (и~аргументы указанных
%   команд) знаком процента. В~этом случае вы избежите ненужных
%   пробелов и~пустых строк в~конце каждой из частей, или неверную
%   выключку содержимого объекта.
%   %^^A \item %
%   %^^A Usage of fancy boxes |shadowbox| and
%   %^^A |wshadowbox| could get wrong layout with
%   %^^A beside captions.
%   \item Если вы используете внутри |\floatbox| окружения
%   |tabularx|, |tabular*| и~т.\,п. с~командой
%   |\hsize| внутри аргумента \meta{width}, вы должны повторить
%   |\hsize| в~аргументе \meta{width} команды |\floatbox|.
%
%^^A%   If you want to set width of |tabularx| or |tabular*|
%^^A%   environments (or any other) like |.8\hsize| (or |1.2\hsize|) and
%^^A%   these environments placed inside any |\floatbox| macro, load
%^^A%   |.8\hsize| in \meta{width} argument of |\floatbox| macro, and in
%^^A%   \meta{width} argument of |tabularx| or |tabular*| load only
%^^A%   |\hsize| macro (see also sample file \file{frsample03.tex}).
%   Если вы хотите задать ширину окружения |tabularx| или
%   |tabular*| (или другого) как |.8\hsize| (или |1.2\hsize|)
%   и~эти окружения помещены внутри команды |\floatbox|, поместите
%   |.8\hsize| в~аргумент \meta{width} макрокоманды |\floatbox|,
%   а~в~аргументе \meta{width} команды |tabularx| или
%   |tabular*| поставьте только
%   |\hsize| (см. также код файла \file{frsample03.tex}).
%
%^^A%   In other cases (especially in fancy layout or settings) be careful
%^^A%   with usage of |\hsize| as \meta{width} option of |\floatbox|.
%   Будьте внимательны и~при использовании
%   |\hsize| как опции \meta{width} команды |\floatbox|.
%   \end{itemize}
%
%   \addtocontents{toc}{\string\nopagebreak}
%
%^^A%   \section{Acknowledgements}
%   \section{Благодарности}
%^^A%   Thanks for Steven Cochran and Axel Sommerfeldt for all their advices
%^^A%   and spirit. Special thanks for Axel for the patient answering, code, finding and showing
%^^A%   bugs, and help in \emph{all} my questions and problems in \package{floatrow} package.
%^^A%   All good text pieces in this documentation are filled with Axel's advices and great help.
%   Спасибо Steven Cochran и~Axel Sommerfeldt за советы и~поддержку.
%   Особая благодарность Axel Sommerfeldt за терпеливые ответы, код,
%   и~помощь во \emph{всех} вопросах и~проблемах в~пакете
%   \package{floatrow} и~документации.
%
%   \medskip\noindent
%^^A%   Thanks for \emph{all} involuntary (\La)\TeX{} teachers, who teaches
%^^A%   me with their program code all these years.
%   Спасибо \emph{всем} невольным учителям по (\La)\TeX'у, кто обучал
%   меня программному коду всё время.
%
%   \medskip\noindent
%^^A%   Thanks for Keith Reckdahl, author of \file{epslatex}, which
%^^A%   documentation, at last, encouraged me to create the CTAN version of
%^^A%   this package.
%   Спасибо Keith Reckdahl, автору документации \file{epslatex},
%   которая, в~конце концов, дала отвагу создать версию
%   пакета для CTAN.
%
%   \medskip\noindent
%^^A%   \emph{Thanks for \emph{all} authors of second edition of \LaTeX{}
%^^A%   Companion for this book.}
%   \emph{Спасибо \emph{всем} авторам второго издания \LaTeX{}
%   Companion за эту книгу.}
%
%\ifx\landscape\undefined\else\begingroup
%   \ifx\landscape\relax\else
%   \clearfloatsetup{figure}
%   \floatsetup[figure]{style=ruled,rowprecode=thickrule,
%     rowpostcode=lowthickrule,capposition=TOP,margins=hangtoheads,
%     footposition=caption}
%   \renewlengthtocommand\setlength\Mylen{\textwidth}
%
%   \begin{landscape}
%
%   \begin{figure}\emptyfloatpage\label{example:ruledcapposTOP}
%
%   \begin{floatrow}[4]%^^A
%   \ffigbox[][][t]
%   {{\input{TheCat.picture}}%^^A
%    \footnotetext[1]{Картинка
%    нарисована макрокомандой
%    \cmd{\qbezier}}}%
%   {\caption[Рисунок в~ряду~I, внизу бокса объекта]%
%    {Рисунок рядом~I, внизу бокса объекта\protect\mpfootnotemark}%
%   \label{fig:rotrow:WcatI}}%
%
%   \floatbox{figure}[2\FBwidth][][b]
%   {\caption{Рисунок в~ряду~II, вверху бокса объекта}%
%   \label{fig:rotrow:BcatI}%
%   \floatfoot{Всё нарисовано макрокомандами \cmd{\qbezier} и двумя
%     вертикальными линиями}}%
%   {\input{BlackCat.picture}\footnote[2]
%    {Гляньте на чудную сноску!}}%
%
%   \ffigbox[\FBwidth]
%   {{\unitlength2.5\unitlength
%   \input{Cat.picture}}}
%   {\caption{Рисунок в~ряду~III, в центре бокса объекта}%
%   \label{fig:rotrow:mouseI}\floatfoot{Изображение кошачьей мордочки}}%
%
%   \floatbox{figure}[\Xhsize][\Mylen]
%   {\caption{Рисунок в~ряду~IV}\label{fig:rotrow:FcatI}}
%   {\Resizebox\hsize\vsize{35}{136}{\input{BlackCat2.picture}}}
%   \end{floatrow}
%
%   \end{figure}
%
%   \end{landscape}
%\endgroup\fi\fi
%
%   \clearpage
%   \suppressfloats[t]
%^^A%   \section{Appendix}
%   \section{Приложение}
%   \subsection{Miscellaneous}
%^^A%   \subsubsection{Usage of Captionsetup and~Thisfloatsetup
%^^A%     Inside Floatbox Stuff}\label{ssec:app:besidestart}
%   \subsubsection{Captionsetup и~Thisfloatsetup
%     в~опции команды Floatbox}\label{ssec:app:besidestart}
%^^A%   Example of figures in row (figures~\ref{FB:FR:lfig} and
%^^A%   \ref{FB:FR:fig}). There predefined float commands
%^^A%   |\fcapsideleft| and  |\fcapsideright| with were used additional |\captionsetup| and
%^^A%   |\thisfloatsetup| settings:
%   Пример рисунков рядом (рис.~\ref{FB:FR:lfig}
%   и~\ref{FB:FR:fig}). В~примере были использованы
%   предопределённые команды
%   постройки флотов |\fcapsideleft| и~|\fcapsideright|, в~которых
%   добавлены настройки |\captionsetup| и~|\thisfloatsetup|:
%\begin{Quote}\openup-.5pt
%\begin{preamble}
%|\|\FRkey[FB]{newfloatcommand}|{fcapsideleft}{figure}[{\|\FRkey[FB]{capbeside}
%|  \captionsetup[capbesidefigure]{labelsep=newline,|
%|   justification=raggedleft}%|
%|   \|\FRkey{thisfloatsetup}|{|\FRkey{capbesideposition}|=left}}][\|\FRkey[FB]{FBwidth}|]|
%|\newfloatcommand{fcapsideright}{figure}[{\capbeside|
%|  \captionsetup[capbesidefigure]{labelsep=newline,|
%|   justification=raggedright}%|
%|   \thisfloatsetup{capbesideposition=right}}][\FBwidth]|
%|\|\FRkey[sec]{floatsetup}|[figure]|
%| {|\FRkey{style}|=Boxed,|%^^A
%    \FRkey{objectset}|=centering,|%^^A
%    \FRkey{margins}|=centering,|
%|  |\FRkey{capposition}|=beside,|%^^A
%    \FRkey{capbesidesep}|=cicero,|%^^A
%    \FRkey{capbesideframe}|=yes}|
%\end{preamble}
%   |\begin{|\FRkey[sec]{floatrow}|}|
%   |  \fcapsideleft{...}{...}|
%   |  \hsize\Xhsize \fcapsideright[\hsize]{...}{...}|
%   |\end{floatrow}|
%   |\end{figure}|
%\end{Quote}
%
%   \clearfloatsetup{figure}
%   \floatsetup[figure]
%    {style=Boxed,capposition=beside,objectset=centering,
%     floatwidth=\columnwidth,capbesidewidth=5.75cc,
%     capbesidesep=cicero,margins=centering,
%     capbesideframe=yes,floatwidth=sidefil}
%
%   \begin{figure}[H]
%   \begin{floatrow}
%   \fcapsideleft
%     {\unitlength1.44\unitlength
%     \input{Cat.picture}}
%     {\caption[Флот в~ряду с~подписью сбоку (бокс графики по её ширине)]{%^^A
%   Флот (\cmd{\fcapsideleft}) бокс для объекта
%   имеет ширину включённой графики}\label{FB:FR:lfig}}%
%   \hsize\Xhsize \fcapsideright[\hsize]
%     {\setlength\unitlength{\hsize/61}%%^^A
%     \input{BlackCat.picture}}%
%     {\caption[Флот в~ряду с~подписью сбоку (занимает оставшееся место)]{%^^A
%   Флот (\cmd{\fcapsideright})
%   ширина всего флота занимает оставшееся пространство в ряду}%^^A
%     \label{FB:FR:fig}}%
%   \end{floatrow}%
%   \end{figure}%
%
%^^A%   Since the key \FRkey{heightadjust}|=object| is used in
%^^A%   the |Boxed| float style, both objects have the same
%^^A%   height.\RestoreSpaces
%   Поскольку в~стиле флота используется ключ \FRkey{heightadjust}|=object|
%   (заданный в~определения стиля |Boxed|), оба объекта
%   имеют одинаковую высоту.
%
%   \RestoreSpaces
%^^A%   \subsubsection{Predefined Beside Caption Width}
%   \subsubsection{Предопределённая ширина подписи сбоку}
%^^A%   This example includes the |\useFCwidth|\label{setup:useFCwidth} command which switches on usage
%^^A%   of previously defined caption width with |capbesidewidth=| key
%^^A%   (in command |\thisfloatsetup| before |\floatbox| macro) or, if you
%^^A%   didn't set caption width (like in current example), macro calculates natural
%^^A%   width of caption contents (see figure~\ref{fig:Idog:w}). In this case
%^^A%   the object---caption box is aligned
%^^A%   using alignment settings from |margins| key (its options are defined
%^^A%   by |\setfloatmargins| or |\floatcapbesidemargins| macro). In this
%^^A%   documentation they are centered (see page~\pageref{setup:DeclareMarginSet}).
%   Этот пример включает команду |\useFCwidth|, которая включает
%   предварительно определённую ширину подписи с~заданным значением
%   ключа |capbesidewidth=|
%   в~команде |\thisfloatsetup| до команды |\floatbox|) или, если
%   вы не определили ширину подписи
%   (как в~данном примере), рассчитывается натуральная ширина подписи
%   (см. рис.~\ref{fig:Idog:w}). Флот в~этом случае выровнен горизонтально
%   с~использованием настроек выравнивания, взятых из ключа
%   |margins=| (опции определяются командами
%   |\setfloatmargins| или |\floatcapbesidemargins|, с.\,\pageref{setup:floatcapbesidemargins}). В~этой
%   документации задано центрирование (см.
%   с.~\pageref{setup:DeclareMarginSet}).
%\begin{Quote}
%\begin{preamble}
%|\floatsetup[figure]{|\FRkey{style}|=plain}|
%\end{preamble}
%|\begin{figure}|
%|\floatbox[\capbeside\|\FRkey{useFCwidth}|]{figure}[\|\FRkey[FB]{FBwidth}|]|
%| ...|
%|\end{figure}|
%\end{Quote}
%   \clearfloatsetup{figure}
%   \floatsetup[figure]{style=plain}
%
%   \begin{figure}[H]
%   \floatbox[\capbeside\useFCwidth]{figure}[\FBwidth]
%   {\caption[Однострочная подпись сбоку
%   бокс которой равен тексту подписи]{}\label{fig:Idog:w}}
%   {{\setlength\unitlength{{4cm}/60}%^^A
%   \input{BlackDog.picture}}}
%   \end{figure}%
%
%^^A%   Please note that inside
%^^A%   \cmd{\floatbox} you may not set predefined width of caption, but remember
%^^A%   that you \emph{must} define width of caption in case of usage of plain
%^^A%   floating environment.\RestoreSpaces
%   Обратите внимание, что внутри
%   \cmd{\floatbox} можно не задавать ширину подрисуночной подписи, но нужно помнить,
%   что её  \emph{необходимо} задать при использовании такого стиля в~рисунках, не использующих
%   команды \cmd{\floatbox}.\RestoreSpaces
%
%^^A%   \subsubsection{Predefined Beside Caption Width with
%^^A%     The Rest Space for Object}\label{FAD:RestSpaceforObject}
%   \subsubsection{Предопределённая ширина подписи и~остальное---для объекта}
%^^A%   The figure \ref{fig:capbeside:trick} uses the following float style:%^^A
%   Рисунок \ref{fig:capbeside:trick} использует следующий стиль
%   флота:%^^A
%\begin{Quote}
%\begin{preamble}
%|\|\FRkey{renewlengthtocommand}|\settowidth\Mylen{\captionfont\captionlabelfont|
%|   \figurename\ \thefigure}|
%\end{preamble}
%|\floatsetup[figure]|
%| {|\FRkey{style}|=Boxed,|\FRkey{capposition}|=beside,|\FRkey{objectset}|=centering,|
%|  |\FRkey{capbesidewidth}|=\Mylen,|%^^A
%    \FRkey{capbesideposition}|=left,|\FRkey{capbesidesep}|=cicero,|
%|  |\FRkey{margins}|=centering,|\FRkey{capbesideframe}|=yes,|
%|  |\FRkey{floatwidth}|=sidefil}|
%\end{Quote}
%^^A%   The \verb|\Mylen| dimension was defined as width of caption label.
%   Величина \verb|\Mylen| была определена как ширина нумерационного
%   заголовка подписи.
%
%   \clearfloatsetup{figure}
%   \floatsetup[figure]
%    {style=Boxed,capposition=beside,objectset=centering,
%     floatwidth=\columnwidth,capbesidewidth=\Mylen,
%     capbesideposition=left,capbesidesep=cicero,
%     margins=centering,capbesideframe=yes,floatwidth=sidefil}
%   \renewlengthtocommand\settowidth\Mylen{\captionfont\captionlabelfont
%     \figurename\ \thefigure}
%
%\begingroup
%   \begin{figure}[H]
%^^A   \captionsetup[capbesidefigure]{format=default,labelsep=none}
%   \fcapside
%     {\unitlength1.1\unitlength
%     \input{Horse.picture}}
%     {\caption[Бокс подрисуночной подписи равен ширине её содержимого (здесь: её метки)]{}\label{fig:capbeside:trick}}
%   \end{figure}%
%\endgroup
%
%^^A%   \subsubsection{Width Definition for Beside
%^^A%     Caption---Object Box in Float Row}
%   \subsubsection{Ширина для блока подпись сбоку---объект внутри floatrow}
%^^A%   The float row with predefined width boxes ``beside object---caption''
%^^A%   (figures~\ref{floatrow:pre:figI} and
%^^A%   \ref{floatrow:pre:figII}): just define before \verb|\fcapside|
%^^A%   command something like:
%   Ряд с~предопределёнными ширинами для боксов «подпись
%   сбоку---объект» (рис.~\ref{floatrow:pre:figI}
%   и~\ref{floatrow:pre:figII}): просто определите перед командами
%   \verb|\fcapside| что-то типа
%\begin{Quote}
%\begin{preamble}
%|\floatsetup[figure]|
%| {|\FRkey{style}|=plain,|\FRkey{objectset}|=centering,|\FRkey{margins}|=centering,|
%|  |\FRkey{capbesideposition}|=left,|\FRkey{capbesidesep}|=enskip,|
%|  |\FRkey{floatwidth}|=sidefil}|
%\end{preamble}
%   |\begin{figure}\|\FRkey{useFCwidth}\nopagebreak
%   | \begin{floatrow}|
%   |   \setlength\hsize{1.2\hsize-5mm}%|
%   |   \|\FRkey[FB]{fcapside}|...|
%   |   \setlength\hsize\|\FRkey[FB]{Xhsize}
%   |   \fcapside...|
%   | \end{floatrow}|\nopagebreak
%   |\end{figure}|
%\end{Quote}
%^^A%   (please remember that option of |\fcapside| command defines the width of object contents but
%^^A%   not the full box object---caption).
%   (следует напомнить, что в~команде |\fcapside| опция определяет только ширину объекта,
%   а~не всего блока объект---подпись).
%
%^^A%   Since there were used \verb|\fcapside| commands at the beginning of
%^^A%   |floatrow| environment the \verb|\FCwidth| command was defined
%^^A%   as \verb|\relax|---in this case the width of caption equals to the
%^^A%   width of their contents.
%   В~начале окружения |floatrow| была задана команда
%   \verb|\useFCwidth| которая включает механизм использования
%   и~расчёта ширины подписи сбоку и, поскольку используются
%   команды \verb|\fcapside|, ширину подписей можно не определять
%   (ключ |capbesidewidth=| не задан), поэтому ширина боксов
%   подписей будет равна их содержимому.
%
%\begingroup
%   \clearfloatsetup{figure}
%   \floatsetup[figure]
%    {style=plain,capposition=beside,objectset=centering,
%     capbesideposition=left,capbesidesep=enskip,
%     margins=centering,capbesideframe=yes,floatwidth=sidefil}
%   \begin{figure}[H]\useFCwidth
%^^A   \captionsetup[capbesidefigure]{format=default,labelsep=none}
%   \begin{floatrow}
%   \setlength\hsize{1.2\hsize-5mm}%
%   \fcapside
%     {\setlength\unitlength{\hsize/100}%^^A
%     \input{Bear.picture}}
%     {\caption[Левый рисунок в~ряду с~подписью сбоку]{%^^A
%     }\label{floatrow:pre:figI}}
%   \setlength\hsize\Xhsize
%   \fcapside
%     {\setlength\unitlength{\hsize/44}%^^A
%     \input{Doll.picture}}
%     {\caption[Правый рисунок в~ряду с~подписью сбоку]{%^^A
%   }\label{floatrow:pre:figII}}
%   \end{floatrow}%
%   \end{figure}%
%\endgroup
%
%^^A%   \subsubsection{Caption Above/Below Float and Caption Beside Float at
%^^A%      The One Float Row}\label{FAD:CapBesideandBelow}
%   \subsubsection{Флот с~подписью сверху/снизу
%    и~флот с~подписью сбоку в~одном ряду}\label{FAD:CapBesideandBelow}
%^^A%   The float row with object and beside caption combined with object
%^^A%   and caption below (figures~\ref{flrow:mix:figI} and
%^^A%   \ref{flrow:mix:figII}). There we ought to use
%^^A%   \verb|\TopFloatBoxes|, \verb|\CenterFloatBoxes|, or
%^^A%   |\BottomFloatBoxes| commands to get correct layout---since the
%^^A%   \meta{height} argument in both float boxes has the same value,
%^^A%   you may use each of these three commands. Unfortunately you must set
%^^A%   the height of such beside floats by hand (the \FRkey{heightadjust}|=| key works here incorrectly).
%^^A%   The lines which create the described float row:
%   В~ряду совмещены бокс объект---подпись сбоку и~бокс
%   объект---подпись снизу (рис.~\ref{flrow:mix:figI}
%   и~\ref{flrow:mix:figII}). Здесь приходится опять использовать
%   команды \verb|\TopFloatBoxes|, \verb|\CenterFloatBoxes|, или
%   |\BottomFloatBoxes|, чтобы получить нужную вёрстку "--- поскольку
%   аргумент \meta{height} в~обоих флотах имеет одинаковые значения высоты,
%   вы можете использовать любую из этих трёх команд. К~сожалению вам
%   приходится задать высоту таких флотов рядом вручную. Строки,
%   которые создают описанный выше ряд флотов:
%\begin{Quote}
%\begin{preamble}
%|\floatsetup[figure]|\nopagebreak
%| {|\FRkey{style}|=Boxed,|\FRkey{frameset}|={\fboxsep4pt},|\FRkey{captionskip}|=5pt,|
%|  |\FRkey{capposition}|=bottom,|\FRkey{objectset}|=centering,|\FRkey{capbesidewidth}|=sidefil,|
%|  |\FRkey{capbesideposition}|=inside,|\FRkey{capbesidesep}|=enskip,|\FRkey{margins}|=centering,|
%|  |\FRkey{capbesideframe}|=yes}|
%\end{preamble}
%|\begin{figure}\|\FRkey[FB]{CenterFloatBoxes}
%|\begin{floatrow}|
%|\hsize1.098\hsize|
%|    \fcapside[\FBwidth][4cm]|
%|      ...|
%| |
%|    \ffigbox[\|\FRkey[FB]{Xhsize}|][4cm]|
%|      ...|
%|\end{floatrow}%|\nopagebreak
%|\end{figure}|\vspace*{-\intextsep}
%\end{Quote}
%
%   \clearfloatsetup{figure}
%   \floatsetup[figure]
%    {style=Boxed,frameset={\fboxsep6pt},captionskip=5pt,capposition=bottom,
%     objectset=centering,capbesidewidth=none,capbesideposition=inside,
%     capbesidesep=enskip,margins=centering,capbesideframe=yes}
%
%   \begin{figure}[H]\CenterFloatBoxes
%   \begin{floatrow}
%   \hsize1.098\hsize \fcapside[\FBwidth][4cm]
%     {\unitlength1.44\unitlength
%     \input{Cat.picture}}
%     {\caption[Флот (\cmd{\fcapside}) в ряду с
%   флотом \cmd{\ffigbox}]{%^^A
%   Флот (\cmd{\fcapside}) с подписью сбоку в ряду с
%   флотом с подписью \hbox{снизу}}\label{flrow:mix:figI}}%
%
%   \ffigbox[\Xhsize][4cm]
%     {\unitlength1.44\unitlength
%     \input{BlackDog.picture}}
%     {\caption{%^^A
%   Флот (\cmd{\ffigbox}), занимает оставшееся в ряду
%   место} \label{flrow:mix:figII}}
%   \end{floatrow}%
%   \end{figure}
%
%^^A%   The code for ``mirror'' layout (but not identical) looks like:
%   Задание «зеркальной вёрстки» (но не идентичной) выглядит так:
%\begin{Quote}
%|\begin{figure}\CenterFloatBoxes|\nopagebreak
%|\begin{floatrow}|\nopagebreak
%|   \ffigbox[1.28\|\FRkey[FB]{FBwidth}|][4cm]|
%|      ...|
%| |
%|   \hsize\Xhsize|
%|   \fcapside[\FBwidth][4cm]|
%|      ...|
%|\end{floatrow}%|\nopagebreak
%|\end{figure}|\vspace*{-\intextsep}
%\end{Quote}
%
%   \begin{figure}[H]\CenterFloatBoxes
%   \begin{floatrow}
%   \ffigbox[1.28\FBwidth][4cm]
%     {\unitlength1.44\unitlength
%     \input{BlackDog.picture}}
%     {\caption{%^^A
%   Флот (\cmd{\ffigbox}) в~«зеркальном» ряду}\label{floatrow:mirrmix:figII}}%
%   \hsize\Xhsize
%
%   \fcapside[\FBwidth][4cm]
%     {\unitlength1.44\unitlength
%     \input{Cat.picture}}
%     {\caption[Флот (\cmd{\fcapside}) в~«зеркальном» ряду]{%^^A
%   Флот с подписью сбоку (\cmd{\fcapside}) в зеркальном ряду
%   с флотом с подписью \hbox{снизу}}\label{floatrow:mirrmix:figI}}
%   \end{floatrow}%
%   \end{figure}
%
%^^A%   \subsubsection{Photo-Album-like Layouts}
%   \subsubsection{Вёрстка под фотоальбом}
%^^A%   Another example of miscellaneous float row
%^^A%   (figures~\mbox{\ref{flrow:three:figIII}--\ref{floatrow:threemirr:figII}},
%^^A%   and, ``mirror layout''---^^A
%^^A%   \mbox{\ref{floatrow:threemirr:figI}--\ref{floatrow:threemirr:figIII}}) were
%^^A%   created by following lines:
%   Другой пример необычного ряда флотов
%   (рис.~\ref{flrow:three:figIII}--\ref{floatrow:threemirr:figII},
%   и, «зеркальная вёрстка», "---
%   \ref{floatrow:threemirr:figI}--\ref{floatrow:threemirr:figIII})
%   были созданы следующим кодом:
%\begin{Quote}
%|\begin{figure}\|\FRkey[FB]{BottomFloatBoxes}
%|\begin{floatrow}|
%|\hsize1.2\hsize \|\FRkey[FB]{ffigbox}|[][6.7cm]|
%|  ...|
%| |
%|\vbox to6.7cm|
%| {\|\FRkey[sec]{floatsetup}|[figure]{|\FRkey{floatrowsep}|=none}\|\FRkey{killfloatstyle}
%|    \ffigbox[.8\hsize]|
%|      ...|
%|    \vss|
%|    \ffigbox[.8\hsize]|
%|      ...%|
%| }%|
%|\end{floatrow}%|
%|\end{figure}|
%\end{Quote}
%
%   \floatsetup[figure]{heightadjust=none}
%   \begin{figure}[H]\BottomFloatBoxes
%   \begin{floatrow}
%   \hsize1.2\hsize
%   \ffigbox[][6.7cm]
%     {\setlength\unitlength{\hsize/58}%^^A
%     \input{Mouse.picture}}%
%     {\caption[Вёрстка фотоальбома: левый флот]{Бокс флота в~вёрстке под фотоальбом:
%       один в~левой колонке}\label{flrow:three:figIII}}%
%
%   \vbox to6.7cm
%   {\floatsetup[figure]{floatrowsep=none}\killfloatstyle
%    \ffigbox[.8\hsize]
%     {\input{TheCat.picture}}
%     {\caption[Вёрстка фотоальбома: правый верхний флот]{%^^A
%   Бокс флота в вёрстке под фотоальбом: верхний флот в правой
%   колонке}\label{floatrow:three:figI}} \vss \ffigbox[.8\hsize]
%     {\input{BlackDog.picture}}%
%     {\caption[Вёрстка фотоальбома: правый нижний флот]{%^^A
%   Нижний флот в правой колонке}%
%   \label{floatrow:threemirr:figII}}}%
%   \end{floatrow}%
%   \end{figure}
%
%^^A%   The ``mirror'' layout created by following commands:
%   «Зеркальная вёрстка» создана следующими командами:
%\begin{Quote}
%|\begin{figure}[t]\|\FRkey[FB]{TopFloatBoxes}
%|\begin{floatrow}|
%|\vtop to7cm|
%| {\floatsetup[figure]{floatrowsep=none}\killfloatstyle|
%|    \ffigbox[.8\hsize]|
%|      ...|
%|    \vss|
%|    \ffigbox[.8\hsize]|
%|      ...%|
%| \vskip0pt}\floatrowsep|
%| |
%|\ffigbox[\Xhsize][7cm-11pt]|
%|  ...|
%|\end{floatrow}%|
%|\end{figure}|
%\end{Quote}
%^^A%   Note that in second example with ``mirror'' layout the
%^^A%   trick with \meta{height} definition was used---caption of float in the left
%^^A%   column is one line longer, so for the right column height of float
%^^A%   was reduced by 11pt---|\baselineskip| for |\small|
%^^A%   size
%^^A%   (here the \package{calc} package possibilities were used). The |\vtop| of
%^^A%   left column ends with |\vskip0pt|, otherwise you get fanny unwanted
%^^A%   layout.
%   Обратите внимание, что во втором примере с~«зеркальной вёрсткой»
%   был использован трюк с~определением высоты в~аргументе
%   \meta{height} "--- подпись в~левой колонке длиннее на одну строку,
%   поэтому для правой колонки высота флота была уменьшена на 11pt
%   "---|\baselineskip| для шрифта размером
%   |\small|\footnote{Вы получите корректную высоту с~такими расчётами
%   для флотов рядом при использовании версии пакета \package{caption}
%   не ниже 3.0d.} (здесь были использованы возможности пакета
%   \package{calc}). Бокс |\vtop| в~левой колонке завершён командой
%   |\vskip0pt|, иначе вы получите неожиданный результат.
%
%   \begin{figure}\TopFloatBoxes
%   \begin{floatrow}
%   \vtop to8cm {\floatsetup[figure]{floatrowsep=none}\killfloatstyle
%    \ffigbox[.8\hsize]
%     {\input{TheCat.picture}}
%     {\caption[Зеркальная вёрстка фотоальбома: верхний левый флот]{%^^A
%   Бокс флота в~зеркальной вёрстке под фотоальбом:
%   верхний флот в~левой
%   колонке}\label{floatrow:threemirr:figI}}
%   \vss
%   \ffigbox[.8\hsize]
%     {\input{BlackDog.picture}}%
%     {\caption[Зеркальная вёрстка фотоальбома: нижний левый флот]{%^^A
%   Бокс флота в~зеркальной вёрстке под фотоальбом:
%   нижний флот в~левой колонке}%
%   \label{floatrow:three:figII}}\vskip0pt}\floatrowsep
%
%   \ffigbox[\Xhsize][8cm-11pt]
%     {\setlength\unitlength{\hsize/58}%^^A
%     \input{Mouse.picture}}%
%     {\caption[Зеркальная вёрстка фотоальбома: правый флот]{%^^A
%   Бокс флота в~зеркальной вёрстке под фотоальбом:
%   отдельный в~правой колонке}\label{floatrow:threemirr:figIII}}
%   \end{floatrow}%
%   \end{figure}
%
%^^A%   In both examples for two floats one above another was cancelled
%^^A%   |\floatrowsep| code inside |\vbox|/|\vtop|.
%   В~обоих примерах для двух флотов друг под другом была отменена
%   команда |\floatrowsep| внутри |\vbox|/|\vtop|.
%
%^^A%   Note that these examples are rather specific---you may try with
%^^A%   other combinations (e.g. more-``columned''), but maybe these layouts
%^^A%   need more care with usage of |\Xhsize| and/or |\floatrowsep|.
%   Обратите внимание, что эти примеры довольно специфичны "--- можно
%   попробовать создать другие комбинации (например,
%   «многоколонные»), но возможно такая вёрстка потребует большей
%   внимательности по отношению к~использованию |\Xhsize| и/или
%   |\floatrowsep|.
%
%^^A%   I suppose that last two examples could conflict with ``motto'' of
%^^A%   this package---to reduce and remove layout code from document; but
%^^A%   photo-album-like layout is rather rare in technical literature (It
%^^A%   isn't?).
%   Я~предполагаю, что два последних примера конфликтуют с~«девизом»
%   данного пакета \cdash--- уменьшить и~переместить код оформления из
%   текста документа; но вёрстка под фотоальбом довольно редка
%   в~технической литературе (или это не так?).
%
%^^A%   \subsubsection{Photo-Album-Like Layouts: Common Height for Beside Photos}
%   \subsubsection{Вёрстка под фотоальбом: задание общей высоты для фото в~ряду}
%   \captionsetup[subfigure]{labelformat=brace,font=footnotesize}
%^^A%   This section shows example which allows to set common height for rectangular graphics,
%^^A%   i.e. photos and fill full width of this row. To emulate the rectangular photos here,
%^^A%   each graphic was loaded inside |\fbox| with zeroed |\fboxsep|. (See also file \texttt{frsample06.tex}.)
%   Данный раздел даёт примеры с~заданием общей высоты для прямоугольной графики,
%   т.\,е. фотографий так. чтобы заполнить весь ряд. Для эмуляции фотографий, картинки
%   помещены в~|\fbox| с~обнулённым параметром |\fboxsep|.
%   (См.~также файл \texttt{frsample06.tex}.)
%
%^^A%   The code of example uses the |\includegraphics| command (\package{graphicx}
%^^A%   package).
%^^A%   You load the |\CommonHeightRow| command:
%   Код примера использует команду |\includegraphics| (пакет
%   \package{graphicx}).
%   Команда |\CommonHeightRow| используется следующим образом:
%\begin{Quote}%
%|\CommonHeightRow|\oarg{supposed height}\marg{floatrow environment}
%\end{Quote}%
%^^A%   with supposed value of height in the optional argument,
%^^A%   which could be near the necessary common height.
%   где в~опции аргументе может быть задана предполагаемая высота,
%   приблизительно равная необходимой.
%^^A%   The default value is controlled by the |\DefaultCommonHeight| command.
%^^A%   It was defined
%   Значение по умолчанию контролируется командой |\DefaultCommonHeight|.
%   Она определяется как
%\begin{Quote}%
%|\newcommand\DefaultCommonHeight{25pt}|
%\end{Quote}%
%^^A%   It seems that |\DefaultCommonHeight| could differ from one documentation to another,
%^^A%   but inside one documentation the value in this command which once succeed in the row will gives
%^^A%   the same almost correct result in other rows also.
%   Скорее всего значение |\DefaultCommonHeight| может отличаться в~разных документациях,
%   но внутри одной документации однажды найденное подходящее значение даст
%   и~в~других случаях фактически корректный результат.
%
%^^A%   The second argument---the contents of the |floatrow| environment.
%^^A%   All float boxes in this row must use the |[\FBwidth]| option.
%   Второй аргумент \cdash--- окружение |floatrow| со своим содержимым.
%   \emph{Все} команды боксов флотов должны использовать опцию |[\FBwidth]|.
%\begin{Quote}%
%\begin{preamble}%
%|\usepackage{graphicx}|
%|\floatsetup[figure]{style=plain}\floatsetup[widefloat]{margins=hangleft}|
%\end{preamble}%
%   |\begin{figure*}\fboxsep-.4pt|\nopagebreak
%   |\CommonHeightRow{\begin{floatrow}[4]|\nopagebreak
%   |\ffigbox[\FBwidth]|\nopagebreak
%   |{\includegraphics[height=\CommonHeight]{...}}{\caption{...}}|
%   |\ffigbox[\FBwidth]|\nopagebreak
%   |{\includegraphics[height=\CommonHeight]{...}}{\caption{...}}|
%   |\ffigbox[\FBwidth]|\nopagebreak
%   |{\includegraphics[height=\CommonHeight]{...}}{\caption{...}}|
%   |\ffigbox[\FBwidth]|\nopagebreak
%   |{\includegraphics[height=\CommonHeight]{...}}{\caption{...}}|\nopagebreak
%   |\end{floatrow}}|\nopagebreak
%   |\end{figure*}%|
%\end{Quote}%
%
%^^A%  Here you may see the result.
%  Ниже показан результат.
%\begingroup
%  \floatsetup[figure]{style=plain}\floatsetup[widefloat]{margins=hangleft}
%   \begin{figure*}[H]\fboxsep-.4pt%^^A
%   \CommonHeightRow{\begin{floatrow}[4]%^^A
%   \ffigbox[\FBwidth]%^^A
%   {\caption{Рисунок~I в~ряду фото одинаковой высоты}%^^A%
%   \label{fig:CH:Dog}}%^^A
%   {\resizebox!{\CommonHeight}{\fbox{\input{BlackDog.picture}}}}%^^A
%%^^A
%   \ffigbox[\FBwidth]%^^A
%   {\caption{Рисунок~II в~ряду фото одинаковой высоты}%^^A%
%   \label{fig:CH:WcatI}}%^^A
%   {\resizebox!{\CommonHeight}{\fbox{\input{TheCat.picture}}}}%^^A
%%^^A
%   \ffigbox[\FBwidth]%^^A
%   {\caption{Рисунок~III в~ряду фото одинаковой высоты}%^^A%
%   \label{fig:CH:mouse}}%^^A
%   {\resizebox!{\CommonHeight}{\fbox{\input{Mouse.picture}}}}%^^A
%%^^A
%   \ffigbox[\FBwidth]%^^A
%   {\caption{Рисунок~IV в~ряду фото одинаковой высоты}%^^A%
%   \label{fig:CH:cheese}}%^^A
%   {\resizebox!{\CommonHeight}{\fbox{\input{Cheese.picture}}}}%^^A
%   \end{floatrow}}%^^A
%   \end{figure*}%
%\endgroup
%
%^^A%   The next example is a~variation of previous one. The command |\CommonHeightRow| here
%^^A%   was used for the |subfloatrow| environment.
%   Следующий пример является вариантом первого. Команда |\CommonHeightRow|
%   здесь использована для окружения |subfloatrow|.
%\begin{Quote}%
%\begin{preamble}%
%|\usepackage{graphicx}|
%|\floatsetup[figure]{style=plain}\floatsetup[widefloat]{margins=hangleft}|
%\end{preamble}%
%   |\begin{figure*}\fboxsep-.4pt|\nopagebreak
%   |\ffigbox{}{\CommonHeightRow{\begin{subfloatrow}[4]|\nopagebreak
%   |\ffigbox[\FBwidth]|\nopagebreak
%   |{\includegraphics[height=\CommonHeight]{...}}{\caption{...}}|
%   |\ffigbox[\FBwidth]|\nopagebreak
%   |{\includegraphics[height=\CommonHeight]{...}}{\caption{...}}|
%   |\ffigbox[\FBwidth]|\nopagebreak
%   |{\includegraphics[height=\CommonHeight]{...}}{\caption{...}}|
%   |\ffigbox[\FBwidth]|\nopagebreak
%   |{\includegraphics[height=\CommonHeight]{...}}{\caption{...}}|\nopagebreak
%   |\end{subfloatrow}}\caption{Рисунок...}}|
%   |\end{figure*}%|
%\end{Quote}%
%
%^^A%  Here you may see the result.
%  Ниже показан результат.
%\begingroup
%  \floatsetup[figure]{style=plain}\floatsetup[widefloat]{margins=hangleft}
%   \begin{figure*}[H]\fboxsep-.4pt%^^A
%   \ffigbox{}{\CommonHeightRow{\begin{subfloatrow}[4]%^^A
%   \ffigbox[\FBwidth]%^^A
%   {\caption{Часть рисунка~I в~ряду фото одинаковой высоты}%^^A%
%   \label{fig:CHI:Dog}}%^^A
%   {\resizebox!{\CommonHeight}{\fbox{\input{BlackDog.picture}}}}%^^A
%%^^A
%   \ffigbox[\FBwidth]%^^A
%   {\caption{Часть рисунка~II в~ряду фото одинаковой высоты}%^^A%
%   \label{fig:CHI:WcatI}}%^^A
%   {\resizebox!{\CommonHeight}{\fbox{\input{TheCat.picture}}}}%^^A
%%^^A
%   \ffigbox[\FBwidth]%^^A
%   {\caption{Часть рисунка~III в~ряду фото одинаковой высоты}%^^A%
%   \label{fig:CHI:mouse}}%^^A
%   {\resizebox!{\CommonHeight}{\fbox{\input{Mouse.picture}}}}%^^A
%%^^A
%   \ffigbox[\FBwidth]%^^A
%   {\caption{Часть рисунка~IV в~ряду фото одинаковой высоты}%^^A%
%   \label{fig:CHI:cheese}}%^^A
%   {\resizebox!{\CommonHeight}{\fbox{\input{Cheese.picture}}}}%^^A%
%   \end{subfloatrow}}\caption{Рисунок с~рядом частей"=фото одинаковой высоты}}%^^A
%   \end{figure*}%
%\endgroup
%
%^^A%   The last example load labels of parts of figures beside graphics.
%   Последний пример помещает метки рядом с~фотографиями.
%\begin{Quote}%
%\begin{preamble}%
%|\usepackage{graphicx}|
%|\floatsetup[figure]{style=plain}\floatsetup[widefloat]{margins=hangleft}|
%|\floatsetup[subfigure]{capbesideposition=left}|
%\end{preamble}%
%   |\begin{figure*}\fboxsep-.4pt|\nopagebreak
%   |\ffigbox{}{\CommonHeightRow{\begin{subfloatrow}[4]\useFCwidth|\nopagebreak
%   |\fcapside[\FBwidth]|\nopagebreak
%   |{\includegraphics[height=\CommonHeight]{...}}{\caption{}}|
%   |\fcapside[\FBwidth]|\nopagebreak
%   |{\includegraphics[height=\CommonHeight]{...}}{\caption{}}|
%   |\fcapside[\FBwidth]|\nopagebreak
%   |{\includegraphics[height=\CommonHeight]{...}}{\caption{}}|
%   |\fcapside[\FBwidth]|\nopagebreak
%   |{\includegraphics[height=\CommonHeight]{...}}{\caption{}}|\nopagebreak
%   |\end{subfloatrow}}\caption{Рисунок...}}|
%   |\end{figure*}%|
%\end{Quote}%
%
%^^A%  Here you may see the result.
%  Ниже показан результат.
%\begingroup
%  \floatsetup[figure]{style=plain}\floatsetup[widefloat]{margins=hangleft}
%  \floatsetup[subfigure]{capbesideposition=left}
%   \begin{figure*}[H]\fboxsep-.4pt%^^A
%   \ffigbox{}{\CommonHeightRow{\begin{subfloatrow}[4]\useFCwidth
%   \fcapside[\FBwidth]%^^A
%   {\caption{}%^^A%
%   \label{fig:CHII:Dog}}%^^A
%   {\resizebox!{\CommonHeight}{\fbox{\input{BlackDog.picture}}}}%^^A
%%^^A
%   \fcapside[\FBwidth]%^^A
%   {\caption{}%^^A%
%   \label{fig:CHII:WcatI}}%^^A
%   {\resizebox!{\CommonHeight}{\fbox{\input{TheCat.picture}}}}%^^A
%%^^A
%   \fcapside[\FBwidth]%^^A
%   {\caption{}%^^A%
%   \label{fig:CHII:mouse}}%^^A
%   {\resizebox!{\CommonHeight}{\fbox{\input{Mouse.picture}}}}%^^A
%%^^A
%   \fcapside[\FBwidth]%^^A
%   {\caption{}%^^A%
%   \label{fig:CHII:cheese}}
%   {\resizebox!{\CommonHeight}{\fbox{\input{Cheese.picture}}}}%^^A%
%   \end{subfloatrow}}\caption{Рисунок с~рядом частей"=фото одинаковой высоты (метки сбоку)}}%^^A
%   \end{figure*}%
%\endgroup
%
%^^A%  The examples with beside figures which also include labeled parts.
%^^A%  They need starred version of command.
%  Примеры с~флотами размещёнными рядом, которые включают помимо этого
%  нумерованные части рисунков. В~этом случае используется звёздный вариант команды.
%
%^^A%  The row with labels beside.
%  Ряд с~метками сбоку.
%\begin{Quote}%
%  |\floatsetup[subfigure]{capbesideposition=left}|
%   |\begin{figure*}[H]|
%   |\CommonHeightRow*%|
%   |{\begin{floatrow}|
%   |\ffigbox[\FBwidth]{}%|
%   |{\begin{subfloatrow}\useFCwidth|
%   |\fcapside[\FBwidth]{}{\caption{}\label{...}...}|
%   |\fcapside[\FBwidth]{}{\caption{}\label{...}...}|
%   |\end{subfloatrow}\caption{Общая подпись~I}}|
%   |\ffigbox[\FBwidth]{}%|
%   |{\begin{subfloatrow}\useFCwidth|
%   |\fcapside[\FBwidth]{}{\caption{}\label{...}...}|
%   |\fcapside[\FBwidth]{}{\caption{}\label{...}...}|
%   |\end{subfloatrow}\caption{Общая подпись~II...}}|
%   |\end{floatrow}}%|
%   |\end{figure*}|%
%\end{Quote}%
%^^A%  Here you may see the result.
%  Ниже показан результат.
%\begingroup\makeatletter
%  \floatsetup[figure]{style=plain}\floatsetup[widefloat]{margins=hangleft}
%  \floatsetup[subfigure]{capbesideposition=left}
%   \begin{figure*}[H]\fboxsep-.4pt
%   \CommonHeightRow*%^^A\def\CommonHeight{2.5cm}
%   {\begin{floatrow}%^^A%
%   \ffigbox[\FBwidth]{}%^^A%
%   {\begin{subfloatrow}\useFCwidth
%   \fcapside[\FBwidth]{}{\caption{}%^^A%
%   \label{fig:CHs:Dog}\resizebox!{\CommonHeight}{\fbox{\input{BlackDog.picture}}}}%^^A
%%^^A
%   \fcapside[\FBwidth]{}{\caption{}%^^A%
%   \label{fig:CHs:WcatI}\resizebox!{\CommonHeight}{\fbox{\input{TheCat.picture}}}}%^^A
%   \end{subfloatrow}\caption{Общая подпись~I в~разноуровневом ряду с~метками сбоку}}%^^A
%%^^A
%   \ffigbox[\FBwidth]{}%^^A%
%   {\begin{subfloatrow}\useFCwidth
%   \fcapside[\FBwidth]{}{\caption{}%^^A%
%   \label{fig:CHs:mouse}\resizebox!{\CommonHeight}{\fbox{\input{Mouse.picture}}}}%^^A
%%^^A
%   \fcapside[\FBwidth]{}{\caption{}%^^A%
%   \label{fig:CHs:cheese}\resizebox!{\CommonHeight}{\fbox{\input{Cheese.picture}}}}%^^A
%   \end{subfloatrow}\caption{Общая подпись~II в~разноуровневом ряду с~метками сбоку}}%^^A
%   \end{floatrow}}%
%   \end{figure*}%
%\endgroup
%
%^^A%  The row with labels below.
%  Ряд с~метками снизу.
%\begin{Quote}%
%  |\floatsetup[subfigure]{capbesideposition=left}|
%   |\begin{figure*}[H]|
%   |\CommonHeightRow*%|
%   |{\begin{floatrow}|
%   |\ffigbox[\FBwidth]{}%|
%   |{\begin{subfloatrow}|
%   |\ffigbox[\FBwidth]{}{\caption{}\label{...}...}|
%   |\ffigbox[\FBwidth]{}{\caption{}\label{...}...}|
%   |\end{subfloatrow}\caption{Общая подпись~I...}}|
%   |\ffigbox[\FBwidth]{}%|
%   |{\begin{subfloatrow}|
%   |\ffigbox[\FBwidth]{}{\caption{}\label{...}...}|
%   |\ffigbox[\FBwidth]{}{\caption{}\label{...}...}|
%   |\end{subfloatrow}\caption{Общая подпись~II...}}|
%   |\end{floatrow}}%|
%   |\end{figure*}|%
%\end{Quote}%
%^^A%  Here you may see the result.
%  Ниже показан результат.
%\begingroup
%  \floatsetup[figure]{style=plain}\floatsetup[widefloat]{margins=hangleft}
%   \begin{figure*}[H]\fboxsep-.4pt
%   \CommonHeightRow*%^^A%
%   {\begin{floatrow}%^^A%
%   \ffigbox[\FBwidth]{}%^^A%
%   {\begin{subfloatrow}%^^A%
%   \ffigbox[\FBwidth]{}{\caption{Рисунок~I в~ряду фото одинаковой высоты}%^^A%
%   \label{fig:CHsI:Dog}\resizebox!{\CommonHeight}{\fbox{\input{BlackDog.picture}}}}%^^A
%%^^A
%   \ffigbox[\FBwidth]{}{\caption{Рисунок~II в~ряду фото одинаковой высоты}%^^A%
%   \label{fig:CHsI:WcatI}\resizebox!{\CommonHeight}{\fbox{\input{TheCat.picture}}}}%^^A
%   \end{subfloatrow}\caption{Общая подпись~I в~разноуровневом ряду с~метками снизу}}%^^A
%%^^A
%   \ffigbox[\FBwidth]{}%^^A%
%   {\begin{subfloatrow}%
%   \ffigbox[\FBwidth]{}{\caption{Рисунок~III в~ряду фото одинаковой высоты}%^^A%
%   \label{fig:CHsI:mouse}\resizebox!{\CommonHeight}{\fbox{\input{Mouse.picture}}}}%^^A
%%^^A
%   \ffigbox[\FBwidth]{}{\caption{Рисунок~IV в~ряду фото одинаковой высоты}%^^A%
%   \label{fig:CHsI:cheese}\resizebox!{\CommonHeight}{\fbox{\input{Cheese.picture}}}}%^^A
%   \end{subfloatrow}\caption{Общая подпись~II в~разноуровневом ряду с~метками снизу}}%^^A
%   \end{floatrow}}%
%   \end{figure*}%
%\endgroup
%
%^^A%  The more mixed row with labels beside.
%  Ряд с~метками частей сбоку (включая и~рисунок без частей).
%\begin{Quote}%
%  |\floatsetup[subfigure]{capbesideposition=left}|
%   |\begin{figure*}[H]|
%   |\CommonHeightRow*%|
%   |{\begin{floatrow}|%
%   |\ffigbox[\FBwidth]{}|
%   |{\begin{subfloatrow}[3]\useFCwidth|
%   |\fcapside[\FBwidth]{}{\caption{}\label{...}...}|
%   |\fcapside[\FBwidth]{}{\caption{}\label{...}...}|
%   |\fcapside[\FBwidth]{}{\caption{}\label{...}...}|
%   |\end{subfloatrow}\caption{Common caption~I}}|
%   |\ffigbox[\FBwidth]{}{\caption{Caption~II...}\label{...}...}|
%   |\end{floatrow}}%|
%   |\end{figure*}|%
%\end{Quote}%
%^^A%  Here you may see the result.
%  Ниже показан результат.
%\begingroup\makeatletter
%  \floatsetup[figure]{style=plain}\floatsetup[widefloat]{margins=hangleft}
%  \floatsetup[subfigure]{capbesideposition=left}
%   \begin{figure*}[H]\fboxsep-.4pt
%   \CommonHeightRow*%^^A%
%   {\begin{floatrow}[2]%^^A%
%   \ffigbox[\FBwidth]{}%^^A%
%   {\begin{subfloatrow}[3]\useFCwidth%^^A%
%   \fcapside[\FBwidth]{}{\caption{}%^^A%
%   \resizebox!{\CommonHeight}{\fbox{\input{BlackDog.picture}}}}%^^A%
%   \fcapside[\FBwidth]{}{\caption{}%^^A%
%   \resizebox!{\CommonHeight}{\fbox{\input{TheCat.picture}}}}%^^A%
%   \fcapside[\FBwidth]{}{\caption{}%^^A%
%   \resizebox!{\CommonHeight}{\fbox{\input{Mouse.picture}}}}%^^A%
%   \end{subfloatrow}\caption{Common caption~I}}%^^A%
%   \ffigbox[\FBwidth]{}{\caption{}%^^A%
%   \resizebox!{\CommonHeight}{\fbox{\input{Cheese.picture}}}}%^^A%
%   \end{floatrow}}%
%   \end{figure*}%
%\endgroup
%
%   \clearpage
%^^A%   \subsection{Sample files}\label{sec:samples}
%   \subsection{Файлы примеров}\label{sec:samples}
%^^A%   The |floatrow| package distribution offers a few files with
%^^A%   examples, which show settings, not covered by current document (some
%^^A%   of them are bit exotic for technical literature). The samples have no aim to
%^^A%   create perfect layout, but to show easy modification for all float
%^^A%   types, and show goals and drawbacks in combinations of chosen layout
%^^A%   with different float types and their contents.
%   Дистрибутив пакета |floatrow| предлагает несколько файлов
%   с~примерами, которые демонстрируют настройки, не рассмотренные в~данном
%   документе (некоторые из них могут быть несколько экзотичны для технической литературы).
%   Примеры не имеют цели создать совершенную вёрстку, только показать
%   быстроту и~простоту модификации оформления для флотов всех
%   типов, и~показывают достоинства и~недостатки в~комбинациях
%   выбранного оформления при разных размещениях флотов.
%
%^^A%   \emph{Note}. All miscellaneous float styles (i.e.\ almost
%^^A%   all sample files) need at least two \LaTeX{} runs.
%   \emph{Замечание}. Все нестандартные стили флотов (фактически все
%   файлы примеров) требуют как минимум две обработки \LaTeX'ом.
%
%^^A%   The list of samples:
%   Перечень файлов примеров:
%
%   \begin{Options}{\OptionLabel}
%^^A%     \item[frsample01.tex]   all possible combinations of predefined
%^^A%       \package{floatrow} styles for captions above/below floats with foot
%^^A%       material; the plain floating environments and
%^^A%       |floatrow|s were created, also the boxes with
%^^A%       alone objects and alone captions;
%     \item[frsample01.tex]   все возможные комбинации
%       предопределённых стилей пакета \package{floatrow}
%       для подписей сверху/снизу с~экспликациями; были созданы
%       простые флоты, окружения с~рядом флотов (окружение
%       |floatrow|), а~также варианты объекта без подписи
%       и~подписи без объекта;
%^^A%     \item[frsample02.tex] all possible combinations of predefined
%^^A%       \package{floatrow} styles for beside captions and all possible
%^^A%       caption positions;
%     \item[frsample02.tex] все возможные комбинации
%       с~предопределёнными стилями пакета \package{floatrow} для подписей
%       сбоку и~все возможные расположения подписей;
%^^A%     \item[frsample03.tex]   various tests with tables;
%     \item[frsample03.tex]   различные тесты с~таблицами;
%^^A%     \item[frsample04.tex]   sample with fancy layout with usage of
%^^A%        beside captions;
%     \item[frsample04.tex]   пример с~необычным оформлением
%       и~размещением подписей сбоку;
%^^A%     \item[frsample05.tex]   one-column facing layout; miscellaneous
%^^A%        caption settings.
%     \item[frsample05.tex]   одноколонная вёрстка, зеркальный макет
%       на развороте; необычные настройки для подписей.
%^^A%     \item[frsample06.tex]   examples of attempts to get common height for
%^^A%        rectangular graphics (photos) in the filled row of floats or parts
%^^A%        of floats. Also the examples of usage of the |\Xhsize| command
%^^A%        in the mixed-level rows were added.
%     \item[frsample06.tex]   пример рядов с~заданием общей высоты для
%        прямоугольной графики (фото) в~заполненном ряду флотов или подфлотов.
%        Также заданы примеры с~использованием команды |\Xhsize| в~рядах
%        со смешением флотов и~подфлотов.
%   \end{Options}
%
%^^A%   The next bundle of samples is a few file-headers with various
%^^A%   preambles which run the same file with various float
%^^A%   layouts. For these examples a new float type of
%^^A%   float |textbox| was created. It includes text in its object contents.
%   Следующий связанный ряд файлов-примеров имеют несколько
%   файлов"=заголовков с~различной преамбулой, которые
%   обрабатывают файл с~различным размещением флотов.
%   В~этих примерах был создан новый тип флота
%   |textbox| "--- который включает в~себя текст.
%   \begin{Options}{\OptionLabel}
%^^A%     \item[frsample10.tex]   one column non-facing layout; figures
%^^A%       printed in |plain| style; text boxes use miscellaneous
%^^A%       ruled style;
%     \item[frsample10.tex]   одноколонная вёрстка; рисунки оформлены
%       в~стиле |plain|; боксы текста
%       (|textbox|) используют необычный стиль с~линейками;
%^^A%     \item[frsample11.tex]   one-column non-facing layout with elements
%^^A%       hanged on left margin (e.g. wide floats, in starred environments,
%^^A%       like |figure*|);
%     \item[frsample11.tex]   одноколонная вёрстка с~элементами
%       выхода на левое поле (например, широкие
%       флоты в~«звёздных» окружениях, как |figure*|);
%^^A%     \item[frsample12.tex]   two-column layout with attempts of
%^^A%       colored float styles.
%     \item[frsample12.tex]   двухколонная вёрстка с~попытками
%       использования расцвеченных стилей флотов.
%   \end{Options}
%
%^^A%    {\sloppy Also added sample file \file{sample-longtable.tex} was added
%^^A%    which uses \emph{beta-temp} package-patch \package{fr-longtable}
%^^A%    with defined commands |\endlasthead| and |\endprelastfoot| which
%^^A%    defines captions for continued and last pages of long table in three
%^^A%    possible ways.\par}
%    Также добавлен файл-пример \file{sample-longtable.tex}
%    использующий \emph{beta-temp} пакет \package{fr-longtable}, где
%    определены команды |\endlasthead| и~|\endprelastfoot|, где даны три
%    варианта определения подписей (табличных заголовков) для продолжающейся
%    и~последней страниц |longtable|.
%\vfil
%
%   \begin{small}
%^^A%   \subsection{Obsolete Commands}\label{sec:changed}
%   \subsection{Устаревшие команды}\label{sec:changed}
%   \FRorisubsubsection{Интерфейс пользователя---новые плавающие объекты
%     [\package{float}]}\label{sec:floatborrowI}
%
%   \DescribeMacro{\newfloat}\slshape
%^^A%   The most important command in \package{float}
%^^A%   is the |\newfloat| command\footnote{It doubles the
%^^A%   \cmd{\DeclareNewFloatType} command.}. It is patterned on
%^^A%   |\newtheorem|. The |\newfloat| command takes three required and
%^^A%   one optional argument; it is of the form
%   Самой важной командой в~пакете \package{float}
%   является команда |\newfloat|\footnote{Она дублируется командой
%   \cmd{\DeclareNewFloatType}.}.
%   Она сделана по образцу
%   |\newtheorem|. Команда |\newfloat| имеет три основных и~один дополнительный
%   аргумент; форма задания:
%   \RestoreSpaces
%   \begin{Quote}
%   \hspace*{\MacroIndent}|\newfloat{|\meta{type}|}{|^^A
%     \meta{placement}|}{|\meta{ext}|}[|\meta{within}{\tt]}
%   \end{Quote}
%   \begin{itemize}\itemsep0pt\parskip0pt
%   \item
%^^A%   \marg{type} is the `type' of the new class of floats, like
%^^A%   |program| or |algorithm|. After the appropriate
%^^A%   |\newfloat|, commands like |\begin{program}| or |\end{algorithm*}|
%^^A%   will be available.
%   \marg{type} задаёт тип нового класса флотов, таких как
%   |program| (программа) или |algorithm| (алгоритм).
%   Определив эти слова в~аргументе
%   |\newfloat|, вы можете задать команды, как |\begin{program}|
%   или |\end{algorithm*}|.
%   \item
%^^A%   \marg{placement} gives the default placement
%^^A%   parameters for this class of floats. The placement parameters are
%^^A%   the same as in standard \LaTeX, i.e., |t|, |b|,
%^^A%   |p| and |h| for `top', `bottom', `page' and `here',
%^^A%   respectively.
%   \marg{placement} задаёт размещение по умолчанию
%   для данного класса флотов. Параметры те же самые,
%   что и~в~стандартном \LaTeX'е, например, |t|, |b|,
%   |p| и~|h| для `top' (вверху), `bottom' (внизу),
%   `page' (отдельная страницы) и~`here' (здесь),
%   соответственно.
%   \item
%^^A%   \marg{ext} When \LaTeX\ writes the captions to an auxiliary file
%^^A%   for the list of figures (or whatever), it'll use the job name
%^^A%   followed by \marg{ext} as a file name.
%   \marg{ext}. Когда \LaTeX\ записывает подписи во вспомогательный файл
%   для списка рисунков (или любого другого флота), он использует
%   имя рабочего файла (документа)
%   с~расширением \marg{ext} как имя файла.
%   \item
%^^A%   \oarg{within} Finally, the optional
%^^A%   argument \meta{within} determines whether floats of this class will
%^^A%   be numbered within some sectional unit of the document. For example,
%^^A%   if \oarg{within}${}={}$|chapter|, the floats will be numbered
%^^A%   within chapters. (In standard \LaTeX, this happens with figures and
%^^A%   tables in the \cls{report} and \cls{book} document styles.) As an
%^^A%   example, Program~\ref{prog1.1}  was created by a command sequence
%^^A%   similar to that shown in the following
%^^A%   Example\footnote{Settings for Example float
%^^A%   environment were created by \cmd{\DeclareNewFloatType} macro stuff.}.
%   \oarg{within}. Наконец, дополнительный
%   аргумент \meta{within} определяет будут ли плавающие объекты
%   данного класса нумероваться
%   внутри указанного раздела документа. Например,
%   если \oarg{within}${}={}$|chapter|, флоты будут перенумеровываться
%   по главам. (В~стандартном \LaTeX'е, это задано для рисунков и~таблиц
%   в~классах документов \cls{report} и~\cls{book}.) Как
%   пример, программа~\ref{prog1.1} была создана командной последовательностью
%   похожей на продемонстрированную в~следующем
%   примере\footnote{Настройки для этого окружения примера
%   были созданы командой \cs{}\FRkey{DeclareNewFloatType}.}.
%   \end{itemize}
%^^A%   \emph{Floatrow note.}
%^^A%   There is also created a |\newfloat*| pair, which works similar to
%^^A%   |\restylefloat*| command (see below).
%   \emph{Замечание \textsf{floatrow}.}
%   Также создана команда-пара |\newfloat*|, которая работает аналогично команде
%   |\restylefloat*| (см.~ниже).
%   \begin{Example}[H]
%   \begin{verse}
%   |\floatstyle{ruled}|\\
%   |\newfloat{Program}{tbp}{lop}[section]|\\
%   \dots\ loads o' stuff \dots\\
%   |\begin{Program}|\\
%   |\begin{verbatim}|\\
%   \dots\ program text \dots\\
%   |\end{verbatim}|\\
%   |\caption{|\dots\ caption \dots|}|\\
%   |\end{Program}|
%   \end{verse}
%   \caption{Это ещё один простенький плавающий пример. Исключая
%     то, что он плавает, так как использует параметр {\tt[H]}, чтобы
%     появиться \textbf{именно здесь}.}\label{exa1.1}
%   \end{Example}
%   \begin{Program}
%\begin{verbatim}
%#include <stdio.h>
%
%int main(int argc, char **argv) {
%       int i;
%       for (i = 0; i < argc; ++i)
%               printf("argv[%d] = %s\n", i, argv[i]);
%       return 0;
%}
%\end{verbatim}
%   \caption{Первая программа. Она ничего не делает в~пакете,
%   просто включена в~него как пример.
%   Обратите внимание на стиль \texttt{ruled}%
%      \label{prog1.1}}
%   \end{Program}
%
%   \DescribeMacro{\floatstyle}
%^^A%   The |\floatstyle| command sets a default
%^^A%   float style. This float style will be used for all the floats that
%^^A%   are subsequently defined using |\newfloat|, until another
%^^A%   |\floatstyle| command appears. The |\floatstyle| command takes one
%^^A%   argument, the name of a float style. For instance,
%^^A%   |\floatstyle{ruled}|. Specifying a string that does not name a valid
%^^A%   float style is an error.
%   Команда |\floatstyle| определяет стиль флота по
%   умолчанию. Этот стиль будет использоваться для всех типов флотов
%   которые впоследствии будут определены в~команде |\newfloat|, до появления другой
%   команды |\floatstyle|. Команда |\floatstyle| имеет один аргумент,
%   имя стиля флота. Например,
%   |\floatstyle{ruled}|. Указание названия несуществующего стиля приведёт к~ошибке.
%
%   \DescribeMacro{\floatname}
%^^A%   The |\floatname| command lets you define
%^^A%   the \emph{float name} that \LaTeX\ uses in the caption of a float,
%^^A%   i.e., `Figure' for a figure and so on. For example,
%^^A%   |\floatname{program}{Program}|. The |\newfloat| command sets the
%^^A%   float name to its argument \meta{type} if no other name has been
%^^A%   specified before.
%   Команда |\floatname| позволяет вам определить
%   \emph{имя флота}, которое \LaTeX\ использует в~подписи флота,
%   например, `Figure' для окружения рисунков и~тому подобное. Например,
%   |\floatname{program}{Program}| {\em (или
%   для русской литературы |\floatname|\nobreak
%   |{Program}|\allowbreak
%   |{\CYRP\cyrr\cyro\cyrg\cyrr\cyra\cyrm\cyrm\cyra}|
%   \unskip)}.
%   Команда |\newfloat| определяет
%   имя флота по аргументу определяющему имя окружения (\meta{type}) если не было
%   определено другого имени до этого.
%
% \pagebreak[3]
%
%   \DescribeMacro{\floatplacement}
%^^A%   The |\floatplacement| command resets
%^^A%   the default placement specifier of a class of floats. E.g.,
%^^A%   |\floatplacement{figure}{tp}|.
%   Команда |\floatplacement| переопределяет
%   размещения флота по умолчанию для данного класса флотов. Например,
%   |\floatplacement{figure}{tp}|.
%
%   \DescribeMacro{\restylefloat}\nopagebreak
%^^A%   The |\restylefloat| command is necessary
%^^A%   to change styles for the standard float types
%^^A%   |figure| and |table|. Since these aren't usually
%^^A%   defined via |\newfloat|, they don't have a style associated with
%^^A%   them. Thus you have to say, for example,
%   Команда |\restylefloat| необходима для
%   изменения стиля для стандартных типов флотов
%   |figure| и~|table|. Так как они не определяются
%   через команду |\newfloat|, они не имеют стиля, связанного с~ними.
%   Поэтому вы должны задать, например,
%   \begin{Quote}
%   \hspace*{\MacroIndent}|\floatstyle{ruled}|
%   \hspace*{\MacroIndent}|\restylefloat{table}|
%   \end{Quote}
%^^A%   to have tables come out |ruled|. The command also lets you
%^^A%   change style for floats that you define via |\newfloat|, although
%^^A%   this is, typographically speaking, not a good idea. See
%^^A%   table~\ref{table1} for an example\footnote{The \package{float} package
%^^A%   created special caption style with bold label for |boxed|
%^^A%   style. Please note that |plain| and |boxed| float
%^^A%   styles have not any special settings in \package{caption} 3.x package.
%^^A%   To emulate |boxed| style from \package{float} documentation there
%^^A%   were: cleared all special caption settings for tables, and restored
%^^A%   default colon separator after label.}. There is a |\restylefloat*|
%^^A%   command which will restyle an existing float type but will keep the
%^^A%   new float style from taking over the |\caption| command. In this
%^^A%   case the user is responsible for handling their own captions.
%   чтобы получить таблицы в~стиле |ruled|. Команда также позволяет
%   изменить стиль флота, определённого командой |\newfloat|, хотя
%   это, по типографским правилам, не лучшая идея. См.
%   табл.~\ref{table1} для примера\footnote{В~пакете \package{float}
%   создан специальный стиль подписи с~полужирным нумерационным заголовком
%   для стиля |boxed|.
%   Обратите внимание, что стили флота |plain| и~|boxed|
%   не имеют специальных настроек в~пакете \package{caption} 3.x.
%   Для эмуляции стиля |boxed| из документации пакета \package{float} были:
%   отменены все специальные установки для таблиц, и~восстановлено двоеточие
%   как разделитель после нумерационного заголовка.}. Существует
%   команда |\restylefloat*|,
%   которая переопределяет стиль флота, но не затрагивает стиля подписи.
%   В~этом случае пользователь сам отвечает за создание оформления подписей.
%   \DeleteShortVerb{\|}
%   %^^AEmulation of float's documentation settings
%   %^^A\floatstyle{boxed}
%   %^^A\restylefloat{table}
%   \begingroup
%   \clearcaptionsetup{table}
%   \captionsetup{labelsep=default,labelfont=bf}
%   \floatsetup[table]{style=boxed}
%   \begin{table}[h] \def\B#1{$\displaystyle{n\choose#1}$}
%   \begin{center} \begin{tabular}{c|cccccccc}
%   $n$&\B0&\B1&\B2&\B3&\B4&\B5&\B6&\B7\\ \hline
%    0 & 1\\
%    1 & 1&1\\
%    2 & 1&2&1\\
%    3 & 1&3&3&1\\
%    4 & 1&4&6&4&1\\
%    5 & 1&5&10&10&5&1\\
%    6 & 1&6&15&20&15&6&1\\
%    7 & 1&7&21&35&35&21&7&1
%   \end{tabular} \end{center}
%   \caption{Треугольник Паскаля. Это переоформленное окружение
%    \LaTeX'а \texttt{table}.%^^A
%     \label{table1}}
%   \end{table}
%   \endgroup
%   \MakeShortVerb{\|}
%
% \end{small}
%
%\clearpage
%   \begingroup\extrarowheight1.75pt\small\openup-.5pt\tabcolsep.5\tabcolsep\LTpre=0ptplus3pt\LTpost\LTpre
%   \subsubsection{Команды и~ключи \texorpdfstring{\cs{floatsetup}}{floatsetup}, удалённые после версии 0.1b}
%   Здесь приведены устаревшие макрокоманды, которые были заменены
%   ключами из команды |\floatsetup|,
%   переименованы или удалены после версии 0.1b.
%
%   \parindent0pt
%   \begin{longtable}{@{\extracolsep{-.3ptplus1fill}}|
%     >{\rightskip0ptplus1fil}p{.35\hsize}|
%     >{\rightskip0ptplus1fil}p{.6\hsize}|}
%   \multicolumn{2}{c}{Удалённые или заменённые команды}
%   \\\hline
%    \thead{Команда}
%   &
%   \thead{Заменена на}
%   \\\hline
%   \extrarowheight0pt\begin{tabular}[t]{@{}l}
%   \cmd{\renewfloatstyle},\\
%   \cmd{\newfloatstyle},\\
%   \cmd{\definefloatstyle}
%   \end{tabular}&
%   \cmd{\DeclareFloatStyle} "---эта команда использует
%      механизм \cmd{\floatsetup}
%   \\\hline
%    \cmd{\restorerestylefloat} & удалена
%   \\\hline
%    \cmd{\captionskip} & команда, а не величина
%   \\\hline
%    \cmd{\floatfootskip} & команда, а не величина
%   \\\hline
%   \end{longtable}
%
%   \vskip1pt
%   \begin{longtable}{@{\extracolsep{-.3ptplus1fill}}|
%     >{\rightskip0ptplus1fil}p{.35\hsize}|
%     >{\rightskip0ptplus1fil}p{.6\hsize}|}
%   \multicolumn{2}{c}{Команды, заменённые на ключи}
%   \\\hline
%   \thead{Удалённая команда}
%   &
%   \thead{Ключ-аналог}
%   \\\hline
%    \cmd{\floatobjectset} &
%   в текущей версии \emph{не используется для определения
%   настроек оформления объекта}, используйте ключ
%    |objectset=|
%   \\\hline
%    \cmd{\alignsidecaption}&
%     |capbesideframe=yes|
%   \\\hline
%   \extrarowheight0pt\begin{tabular}[t]{@{}l}
%    \smash{\cmd{\capbesidecenter}},\\ \smash{\cmd{\capbesidetop}},\\
%         \smash{\cmd{\capbesidebottom}},\\
%         \smash{\cmd{\capbesideinside}},\\
%         \smash{\cmd{\capbesideoutside}},\\
%         \smash{\cmd{\capbesideleft}},\\
%         \smash{\cmd{\capbesideright}}
%   \end{tabular}&
%   \extrarowheight0pt\begin{tabular}[t]{@{}l}
%         |capbesideposition=center|\\
%         |capbesideposition=top|\\
%         |capbesideposition=bottom|\\
%         |capbesideposition=inside|\\
%         |capbesideposition=outside|\\
%         |capbesideposition=left|\\
%         |capbesideposition=right|
%   \end{tabular}
%   \\\hline
%   \extrarowheight0pt\begin{tabular}[t]{@{}l}
%    \cmd{\floatrowsep},\\ \cmd{\floatcapbesidesep}
%   \end{tabular}&
%   в текущей версии \emph{не используется для задания
%   разделительного материала}, используйте ключи\par
%  \extrarowheight0pt
%   \begin{tabular}[t]{@{}l}
%    |floatrowsep=|\\
%    |capbesidesep=|
%   \end{tabular}
%   \\\hline
%   \extrarowheight0pt\begin{tabular}[t]{@{}l}
%    \cmd{\FBcenter}\vphantom{g},\\ \cmd{\FBleft}\vphantom{g},\\
%    \cmd{\FBright},\\
%    \cmd{\FBnormal}
%   \end{tabular}&
%   \extrarowheight0pt\begin{tabular}[t]{@{}l}
%         |margins=center|,\\
%         |margins=raggedright|,\\
%         |margins=raggedleft|, \\
%         |margins=center|,\\
%   \end{tabular}
%   \\\hline
%    \cmd{\setfloatstyle} & |style=|
%   \\\hline
%   \begin{tabular}[t]{@{}l}
%    \cmd{\Setframe}\\
%    \cmd{\setframe}
%   \end{tabular}
%   & используйте ключи |framestyle=| и |frameset=|
%   \\\hline
%    \cmd{\setrules}
%   & используйте |precode=|, |postcode=|,
%    |midcode=| (а также
%   |rowpercode| и |rowpostcode|) ключи
%   \\\hline
%   \end{longtable}
%
%   \vskip1pt
%   \begin{longtable}{@{\extracolsep{-.3ptplus1fill}}|
%     >{\rightskip0ptplus1fil}p{.35\hsize}|
%     >{\rightskip0ptplus1fil}p{.6\hsize}|}
%   \multicolumn{2}{c}{Переименованные ключи}
%   \\\hline
%   \thead{Ключ}
%   &
%   \thead{Заменён на}
%   \\\hline
%   \endhead
%    |attachedcapstyle=| & |relatedcapstyle=|
%   \\\hline
%    |floatstyle=| & |style=|
%   \\\hline
%    |floatfont=| & |font=|
%   \\\hline
%    |putcaptionbeside=| & {capposition=beside}
%   \\\hline
%    |besidecapposition=| & |capbesideposition=|
%   \\\hline
%    |besidecapwidth=| & |capbesidewidth=|
%   \\\hline
%    |besidecapframe=| & |capbesideframe=|
%   \\\hline
%    |floatmarginsset=| & |margins=|
%   \\\hline
%    |besidecapsep=| & |capbesidesep=|
%   \\\hline
%    |Precode=| & |rowprecode=|
%   \\\hline
%    |Postcode=| & |rowpostcode=|
%   \\\hline
%    |framereduce=| & |framefit=|
%   \\\hline
%   \extrarowheight0pt\begin{tabular}[t]{@{}l@{}}
%    \vphantom{(}опции ключей |objectset=|\\
%    \quad и |margins=|\\
%    |flushleft|,\\ |flushright|,\\|center|
%   \end{tabular} &
%   \extrarowheight0pt\begin{tabular}[t]{@{}l@{}}
%    \vphantom{(}опции ключей |objectset=|
%      и~|margins=|\\\quad
%      (для унификации
%      с~аналогичными опциями\\\quad  ключей в~пакете
%      \package{caption})\\
%    |raggedright|,\\ |raggedleft|,\\
%    |centering|
%   \end{tabular}
%   \\\hline
%   \end{longtable}
%   \endgroup
%   \MakeShortVerb{\|}%
%
% \Finale
%\endinput
